/*! For license information please see main.cc66e8cd.js.LICENSE.txt */
!function(){var e={494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}a(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),u(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function q(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case T:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Te(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Se(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ie)&&(Ne(),Se())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function qe(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,It,Tt,Et=!1,St=[],Ct=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(jt),Pt.forEach(jt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return qt(t,e)}if(0<St.length){qt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&qt(Ct,e),null!==Nt&&qt(Nt,e),null!==At&&qt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Tr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Tr("animationend"),Sr=Tr("animationiteration"),Cr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Sr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(qe.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Er:case Sr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Wn(u))if($n)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Ti(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Si={},Ci=Ii(Si),Ni=Ii(!1),Ai=Si;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ni),Ti(Ci)}function Di(e,t,n){if(Ci.current!==Si)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(Ci),Ei(Ci,e)):Ti(Ni),Ei(Ni,n)}var Ui=null,ji=!1,Vi=!1;function qi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var zi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Ji=1,$i="";function Xi(e,t){zi[Wi++]=Ki,zi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Ji;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Ji=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Wi],zi[Wi]=null,Ki=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ti(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Sa(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Pi(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qa.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Ya(!0),$a=Ya(!1),Xa={},Za=Ii(Xa),eo=Ii(Xa),to=Ii(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Za),Ei(Za,t)}function io(){Ti(Za),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ti(Za),Ti(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function To(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=So(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return So().memoizedState}function qo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function zo(e,t){return qo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return So().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Sa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ta,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ta,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ta,useCallback:Jo,useContext:Ta,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(So(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],So().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ta,useCallback:Jo,useContext:Ta,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],So().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ja(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=To(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Su(e,t,n,r,i)}function Tu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Os,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=To(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ri(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ta(s):s=Ri(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=$i,Gi[Qi++]=Yi,Ji=e.id,$i=e.overflow,Yi=t),(t=Uu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function qu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qu(t,!0,n,null,a);break;case"together":qu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Ku(t),null;case 3:return r=t.stateNode,io(),Ti(Ni),Ti(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ti(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Ti(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Bs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*$e()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ni),Ti(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Ju=!1,$u="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Ju&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,hs(e,t,n),Ju=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $u),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qs=$e())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,vs(t,e),Ju=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Yu;var c=Ju;if(Yu=o,(Ju=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Xu=s):_s(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Yu=u,Ju=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&is(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function _s(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var xs,Is=Math.ceil,Ts=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ss=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Rs=0,Ps=0,Os=Ii(0),Ds=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Vs=null,qs=0,Bs=1/0,zs=null,Ws=!1,Hs=null,Ks=null,Gs=!1,Qs=null,Ys=0,Js=0,$s=null,Xs=-1,Zs=0;function ec(){return 0!==(6&Cs)?$e():-1!==Xs?Xs:Xs=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Js)throw Js=0,$s=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Ds&&uc(e,Rs)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=$e()+500,ji&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,qi(e)}(sc.bind(null,e)):qi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Rs===t||(zs=null,Bs=$e()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ts.current=o,Cs=i,null!==As?t=0:(Ns=null,Rs=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,$e()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qs+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),t);break}wc(e,Vs,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,zs),r);break}wc(e,Vs,zs);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,zs),rc(e,$e()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=$e()+500,ji&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Ss.transition,r=kt;try{if(Ss.transition=null,kt=1,e)return e()}finally{kt=r,Ss.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Os.current,Ti(Os)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ti(Ni),Ti(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Oc(e.current,null),Rs=Ps=t,Ds=0,Ls=null,Us=Fs=Ms=0,Vs=js=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Ds=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Ns,Rs)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Rs===t||(zs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ts.current=r,null!==As)throw Error(a(261));return Ns=null,Rs=0,Ds}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Ye();)kc(As)}function kc(e){var t=xs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=kt,i=Ss.transition;try{Ss.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Je(),Cs=s,kt=u,Ss.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Hs,Hs=null,e;0!==(1&Ys)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===$s?Js++:(Js=0,$s=e):Js=0,Bi()}(e,t,n,r)}finally{Ss.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt(Ys),t=Ss.transition,n=kt;try{if(Ss.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ic(s,s.return,_)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Ss.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Ds||3===Ds&&(130023424&Rs)===Rs&&500>$e()-qs?hc(e,0):Us|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case T:return(e=Rc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case S:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Tu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=qa,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ta(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),za(t,r,i),Ha(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Tu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,$e()),0===(6&Cs)&&(Bs=$e()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return kt},Tt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Se,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return qc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,T=null,E=-1,S=5,C=-1;function N(){return!(t.unstable_now()-C<S)}function A(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?x():(I=!1,T=null)}}else I=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){y(A,0)};function O(e){T=e,I||(I=!0,x())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return gn},SDK_VERSION:function(){return gr},_DEFAULT_ENTRY_NAME:function(){return rr},_addComponent:function(){return ur},_addOrOverwriteComponent:function(){return sr},_apps:function(){return ar},_clearComponents:function(){return hr},_components:function(){return or},_getProvider:function(){return lr},_registerComponent:function(){return cr},_removeServiceInstance:function(){return fr},deleteApp:function(){return _r},getApp:function(){return br},getApps:function(){return wr},initializeApp:function(){return kr},onLog:function(){return Tr},registerVersion:function(){return Ir},setLogLevel:function(){return Er}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(Wt){u=!0,i=Wt}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function _(e,t){if(!e)throw new Error(t)}function x(e,t,n){void 0===n&&(n="/");var r=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=I(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function I(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||_(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&_(!1),I(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:u})})),t}var T=/^:\w+$/,E=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:O(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:u,pathnameBase:s,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:D(a),hash:L(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},D=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){F()||_(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=V(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):P([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function F(){return null!=(0,r.useContext)(b)}function U(){return F()||_(!1),(0,r.useContext)(b).location}function j(){F()||_(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=U().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=A(e,JSON.parse(o),a);"/"!==t&&(i.pathname=P([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function V(e){var t=(0,r.useContext)(w).matches,n=U().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return A(e,JSON.parse(i),n)}),[e,i,n])}function q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e){_(!1)}function z(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;F()&&_(!1);var d=O(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,m=v.pathname,y=void 0===m?"/":m,w=v.search,x=void 0===w?"":w,I=v.hash,T=void 0===I?"":I,E=v.state,S=void 0===E?null:E,C=v.key,N=void 0===C?"default":C,A=(0,r.useMemo)((function(){var e=R(y,d);return null==e?null:{pathname:e,search:x,hash:T,state:S,key:N}}),[d,y,x,T,S,N]);return null==A?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:A,navigationType:c}}))}function W(e){var t=e.children,n=e.location;return function(e,t){F()||_(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,U());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||_(!1),n=l}else n=s;var f=n.pathname||"/",h=x(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return q(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:P([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,e.pathnameBase])})})),i)}(H(t),n)}function H(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==B&&_(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=H(e.props.children)),t.push(n)}else t.push.apply(t,H(e.props.children))})),t}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function Y(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){S(-1*u)}},S(u))}}else E(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],b=v(),w=v();function _(e){return"string"===typeof e?e:y(e)}function x(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function I(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function T(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function E(e){u=e;var t=a();c=t[0],k=t[1],b.call({action:u,location:k})}function S(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return k},createHref:_,push:function e(n,a){var o=t.Push,u=x(n,a);if(T(o,u,(function(){e(n,a)}))){var s=I(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}E(o)}},replace:function e(n,r){var a=t.Replace,o=x(n,r);if(T(a,o,(function(){e(n,r)}))){var u=I(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),E(a)}},go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return C}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],b=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(b)}),[u]),(0,r.createElement)(z,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var J=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=G(e,Q),f=M(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=j(),s=U(),c=V(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(s)===y(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",K({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){if(t&&("object"===ie(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ae(e)}function ue(e){var t=re();return function(){var n,r=ne(e);if(t){var i=ne(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oe(this,n)}}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=/^[a-z0-9]+(-[a-z0-9]+)*$/,he=Object.freeze({left:0,top:0,width:16,height:16,rotate:0,vFlip:!1,hFlip:!1});function de(e){return le(le({},he),e)}var pe=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=e.split(":");if("@"===e.slice(0,1)){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){var a=i.pop(),o=i.pop(),u={provider:i.length>0?i[0]:r,prefix:o,name:a};return t&&!ve(u)?null:u}var s=i[0],c=s.split("-");if(c.length>1){var l={provider:r,prefix:c.shift(),name:c.join("-")};return t&&!ve(l)?null:l}if(n&&""===r){var f={provider:r,prefix:"",name:s};return t&&!ve(f,n)?null:f}return null},ve=function(e,t){return!!e&&!(""!==e.provider&&!e.provider.match(fe)||!(t&&""===e.prefix||e.prefix.match(fe))||!e.name.match(fe))};function me(e,t){var n=le({},e);for(var r in he){var i=r;if(void 0!==t[i]){var a=t[i];if(void 0===n[i]){n[i]=a;continue}switch(i){case"rotate":n[i]=(n[i]+a)%4;break;case"hFlip":case"vFlip":n[i]=a!==n[i];break;default:n[i]=a}}}return n}function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function r(t,n){if(void 0!==e.icons[t])return Object.assign({},e.icons[t]);if(n>5)return null;var i=e.aliases;if(i&&void 0!==i[t]){var a=i[t],o=r(a.parent,n+1);return o?me(o,a):o}var u=e.chars;return!n&&u&&void 0!==u[t]?r(u[t],n+1):null}var i=r(t,0);if(i)for(var a in he)void 0===i[a]&&void 0!==e[a]&&(i[a]=e[a]);return i&&n?de(i):i}function ge(e,t,n){n=n||{};var r=[];if("object"!==typeof e||"object"!==typeof e.icons)return r;e.not_found instanceof Array&&e.not_found.forEach((function(e){t(e,null),r.push(e)}));var i=e.icons;Object.keys(i).forEach((function(n){var i=ye(e,n,!0);i&&(t(n,i),r.push(n))}));var a=n.aliases||"all";if("none"!==a&&"object"===typeof e.aliases){var o=e.aliases;Object.keys(o).forEach((function(n){if("variations"!==a||!function(e){for(var t in he)if(void 0!==e[t])return!0;return!1}(o[n])){var i=ye(e,n,!0);i&&(t(n,i),r.push(n))}}))}return r}var ke={provider:"string",aliases:"object",not_found:"object"};for(var be in he)ke[be]=typeof he[be];function we(e){if("object"!==typeof e||null===e)return null;var t=e;if("string"!==typeof t.prefix||!e.icons||"object"!==typeof e.icons)return null;for(var n in ke)if(void 0!==e[n]&&typeof e[n]!==ke[n])return null;var r=t.icons;for(var i in r){var a=r[i];if(!i.match(fe)||"string"!==typeof a.body)return null;for(var o in he)if(void 0!==a[o]&&typeof a[o]!==typeof he[o])return null}var u=t.aliases;if(u)for(var s in u){var c=u[s],l=c.parent;if(!s.match(fe)||"string"!==typeof l||!r[l]&&!u[l])return null;for(var f in he)if(void 0!==c[f]&&typeof c[f]!==typeof he[f])return null}return t}var _e=Object.create(null);try{var xe=window||self;xe&&1===xe._iconifyStorage.version&&(_e=xe._iconifyStorage.storage)}catch(Wt){}function Ie(e,t){void 0===_e[e]&&(_e[e]=Object.create(null));var n=_e[e];return void 0===n[t]&&(n[t]=function(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:Object.create(null)}}(e,t)),n[t]}function Te(e,t){if(!we(t))return[];var n=Date.now();return ge(t,(function(t,r){r?e.icons[t]=r:e.missing[t]=n}))}function Ee(e,t){var n=e.icons[t];return void 0===n?null:n}var Se=!1;function Ce(e){return"boolean"===typeof e&&(Se=e),Se}function Ne(e){var t="string"===typeof e?pe(e,!0,Se):e;return t?Ee(Ie(t.provider,t.prefix),t.name):null}function Ae(e,t){var n=pe(e,!0,Se);return!!n&&function(e,t,n){try{if("string"===typeof n.body)return e.icons[t]=Object.freeze(de(n)),!0}catch(Wt){}return!1}(Ie(n.provider,n.prefix),n.name,t)}var Re=Object.freeze({inline:!1,width:null,height:null,hAlign:"center",vAlign:"middle",slice:!1,hFlip:!1,vFlip:!1,rotate:0});function Pe(e,t){var n={};for(var r in e){var i=r;if(n[i]=e[i],void 0!==t[i]){var a=t[i];switch(i){case"inline":case"slice":"boolean"===typeof a&&(n[i]=a);break;case"hFlip":case"vFlip":!0===a&&(n[i]=!n[i]);break;case"hAlign":case"vAlign":"string"===typeof a&&""!==a&&(n[i]=a);break;case"width":case"height":("string"===typeof a&&""!==a||"number"===typeof a&&a||null===a)&&(n[i]=a);break;case"rotate":"number"===typeof a&&(n[i]+=a)}}}return n}var Oe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,De=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Le(e,t,n){if(1===t)return e;if(n=void 0===n?100:n,"number"===typeof e)return Math.ceil(e*t*n)/n;if("string"!==typeof e)return e;var r=e.split(Oe);if(null===r||!r.length)return e;for(var i=[],a=r.shift(),o=De.test(a);;){if(o){var u=parseFloat(a);isNaN(u)?i.push(a):i.push(Math.ceil(u*t*n)/n)}else i.push(a);if(void 0===(a=r.shift()))return i.join("");o=!o}}function Me(e){var t="";switch(e.hAlign){case"left":t+="xMin";break;case"right":t+="xMax";break;default:t+="xMid"}switch(e.vAlign){case"top":t+="YMin";break;case"bottom":t+="YMax";break;default:t+="YMid"}return t+=e.slice?" slice":" meet"}function Fe(e,t){var n,r,i={left:e.left,top:e.top,width:e.width,height:e.height},a=e.body;[e,t].forEach((function(e){var t,n=[],r=e.hFlip,o=e.vFlip,u=e.rotate;switch(r?o?u+=2:(n.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),n.push("scale(-1 1)"),i.top=i.left=0):o&&(n.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),n.push("scale(1 -1)"),i.top=i.left=0),u<0&&(u-=4*Math.floor(u/4)),u%=4){case 1:t=i.height/2+i.top,n.unshift("rotate(90 "+t.toString()+" "+t.toString()+")");break;case 2:n.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:t=i.width/2+i.left,n.unshift("rotate(-90 "+t.toString()+" "+t.toString()+")")}u%2===1&&(0===i.left&&0===i.top||(t=i.left,i.left=i.top,i.top=t),i.width!==i.height&&(t=i.width,i.width=i.height,i.height=t)),n.length&&(a='<g transform="'+n.join(" ")+'">'+a+"</g>")})),null===t.width&&null===t.height?n=Le(r="1em",i.width/i.height):null!==t.width&&null!==t.height?(n=t.width,r=t.height):null!==t.height?n=Le(r=t.height,i.width/i.height):r=Le(n=t.width,i.height/i.width),"auto"===n&&(n=i.width),"auto"===r&&(r=i.height);var o={attributes:{width:n="string"===typeof n?n:n.toString()+"",height:r="string"===typeof r?r:r.toString()+"",preserveAspectRatio:Me(t),viewBox:i.left.toString()+" "+i.top.toString()+" "+i.width.toString()+" "+i.height.toString()},body:a};return t.inline&&(o.inline=!0),o}var Ue=/\sid="(\S+)"/g,je="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16),Ve=0;function qe(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je,r=[];t=Ue.exec(e);)r.push(t[1]);return r.length?(r.forEach((function(t){var r="function"===typeof n?n(t):n+(Ve++).toString(),i=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+r+"$3")})),e):e}var Be=Object.create(null);function ze(e,t){Be[e]=t}function We(e){return Be[e]||Be[""]}function He(e){var t;if("string"===typeof e.resources)t=[e.resources];else if(!((t=e.resources)instanceof Array)||!t.length)return null;return{resources:t,path:void 0===e.path?"/":e.path,maxURL:e.maxURL?e.maxURL:500,rotate:e.rotate?e.rotate:750,timeout:e.timeout?e.timeout:5e3,random:!0===e.random,index:e.index?e.index:0,dataAfterTimeout:!1!==e.dataAfterTimeout}}for(var Ke=Object.create(null),Ge=["https://api.simplesvg.com","https://api.unisvg.com"],Qe=[];Ge.length>0;)1===Ge.length||Math.random()>.5?Qe.push(Ge.shift()):Qe.push(Ge.pop());function Ye(e,t){var n=He(t);return null!==n&&(Ke[e]=n,!0)}function Je(e){return Ke[e]}Ke[""]=He({resources:["https://api.iconify.design"].concat(Qe)});var $e=function(e,t){var n=e,r=-1!==n.indexOf("?");return Object.keys(t).forEach((function(e){var i;try{i=function(e){switch(typeof e){case"boolean":return e?"true":"false";case"number":case"string":return encodeURIComponent(e);default:throw new Error("Invalid parameter")}}(t[e])}catch(Wt){return}n+=(r?"&":"?")+encodeURIComponent(e)+"="+i,r=!0})),n},Xe={},Ze={},et=function(){var e;try{if("function"===typeof(e=fetch))return e}catch(Wt){}return null}();var tt={prepare:function(e,t,n){var r=[],i=Xe[t];void 0===i&&(i=function(e,t){var n,r=Je(e);if(!r)return 0;if(r.maxURL){var i=0;r.resources.forEach((function(e){var t=e;i=Math.max(i,t.length)}));var a=$e(t+".json",{icons:""});n=r.maxURL-i-r.path.length-a.length}else n=0;var o=e+":"+t;return Ze[e]=r.path,Xe[o]=n,n}(e,t));var a="icons",o={type:a,provider:e,prefix:t,icons:[]},u=0;return n.forEach((function(n,s){(u+=n.length+1)>=i&&s>0&&(r.push(o),o={type:a,provider:e,prefix:t,icons:[]},u=n.length),o.icons.push(n)})),r.push(o),r},send:function(e,t,n){if(et){var r=function(e){if("string"===typeof e){if(void 0===Ze[e]){var t=Je(e);if(!t)return"/";Ze[e]=t.path}return Ze[e]}return"/"}(t.provider);switch(t.type){case"icons":var i=t.prefix,a=t.icons.join(",");r+=$e(i+".json",{icons:a});break;case"custom":var o=t.uri;r+="/"===o.slice(0,1)?o.slice(1):o;break;default:return void n("abort",400)}var u=503;et(e+r).then((function(e){var t=e.status;if(200===t)return u=501,e.json();setTimeout((function(){n(function(e){return 404===e}(t)?"abort":"next",t)}))})).then((function(e){"object"===typeof e&&null!==e?setTimeout((function(){n("success",e)})):setTimeout((function(){n("next",u)}))})).catch((function(){n("next",u)}))}else n("abort",424)}};var nt=Object.create(null),rt=Object.create(null);function it(e,t){e.forEach((function(e){var n=e.provider;if(void 0!==nt[n]){var r=nt[n],i=e.prefix,a=r[i];a&&(r[i]=a.filter((function(e){return e.id!==t})))}}))}var at=0;var ot={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function ut(e,t,n,r){var i,a=e.resources.length,o=e.random?Math.floor(Math.random()*a):e.index;if(e.random){var u=e.resources.slice(0);for(i=[];u.length>1;){var s=Math.floor(Math.random()*u.length);i.push(u[s]),u=u.slice(0,s).concat(u.slice(s+1))}i=i.concat(u)}else i=e.resources.slice(o).concat(e.resources.slice(0,o));var c,l=Date.now(),f="pending",h=0,d=null,p=[],v=[];function m(){d&&(clearTimeout(d),d=null)}function y(){"pending"===f&&(f="aborted"),m(),p.forEach((function(e){"pending"===e.status&&(e.status="aborted")})),p=[]}function g(e,t){t&&(v=[]),"function"===typeof e&&v.push(e)}function k(){f="failed",v.forEach((function(e){e(void 0,c)}))}function b(){p.forEach((function(e){"pending"===e.status&&(e.status="aborted")})),p=[]}function w(){if("pending"===f){m();var r=i.shift();if(void 0===r)return p.length?void(d=setTimeout((function(){m(),"pending"===f&&(b(),k())}),e.timeout)):void k();var a={status:"pending",resource:r,callback:function(t,n){!function(t,n,r){var a="success"!==n;switch(p=p.filter((function(e){return e!==t})),f){case"pending":break;case"failed":if(a||!e.dataAfterTimeout)return;break;default:return}if("abort"===n)return c=r,void k();if(a)return c=r,void(p.length||(i.length?w():k()));if(m(),b(),!e.random){var o=e.resources.indexOf(t.resource);-1!==o&&o!==e.index&&(e.index=o)}f="completed",v.forEach((function(e){e(r)}))}(a,t,n)}};p.push(a),h++,d=setTimeout(w,e.rotate),n(r,t,a.callback)}}return"function"===typeof r&&v.push(r),setTimeout(w),function(){return{startTime:l,payload:t,status:f,queriesSent:h,queriesPending:p.length,subscribe:g,abort:y}}}function st(e){var t=function(e){if("object"!==typeof e||"object"!==typeof e.resources||!(e.resources instanceof Array)||!e.resources.length)throw new Error("Invalid Reduncancy configuration");var t,n=Object.create(null);for(t in ot)void 0!==e[t]?n[t]=e[t]:n[t]=ot[t];return n}(e),n=[];function r(){n=n.filter((function(e){return"pending"===e().status}))}var i={query:function(e,i,a){var o=ut(t,e,i,(function(e,t){r(),a&&a(e,t)}));return n.push(o),o},find:function(e){var t=n.find((function(t){return e(t)}));return void 0!==t?t:null},setIndex:function(e){t.index=e},getIndex:function(){return t.index},cleanup:r};return i}function ct(){}var lt=Object.create(null);function ft(e,t,n){var r,i;if("string"===typeof e){var a=We(e);if(!a)return n(void 0,424),ct;i=a.send;var o=function(e){if(void 0===lt[e]){var t=Je(e);if(!t)return;var n={config:t,redundancy:st(t)};lt[e]=n}return lt[e]}(e);o&&(r=o.redundancy)}else{var u=He(e);if(u){r=st(u);var s=We(e.resources?e.resources[0]:"");s&&(i=s.send)}}return r&&i?r.query(t,i,n)().abort:(n(void 0,424),ct)}var ht={};function dt(){}var pt=Object.create(null),vt=Object.create(null),mt=Object.create(null),yt=Object.create(null);function gt(e,t){void 0===mt[e]&&(mt[e]=Object.create(null));var n=mt[e];n[t]||(n[t]=!0,setTimeout((function(){n[t]=!1,function(e,t){void 0===rt[e]&&(rt[e]=Object.create(null));var n=rt[e];n[t]||(n[t]=!0,setTimeout((function(){if(n[t]=!1,void 0!==nt[e]&&void 0!==nt[e][t]){var r=nt[e][t].slice(0);if(r.length){var i=Ie(e,t),a=!1;r.forEach((function(n){var r=n.icons,o=r.pending.length;r.pending=r.pending.filter((function(n){if(n.prefix!==t)return!0;var o=n.name;if(void 0!==i.icons[o])r.loaded.push({provider:e,prefix:t,name:o});else{if(void 0===i.missing[o])return a=!0,!0;r.missing.push({provider:e,prefix:t,name:o})}return!1})),r.pending.length!==o&&(a||it([{provider:e,prefix:t}],n.id),n.callback(r.loaded.slice(0),r.missing.slice(0),r.pending.slice(0),n.abort))}))}}})))}(e,t)})))}var kt=Object.create(null);function bt(e,t,n){void 0===vt[e]&&(vt[e]=Object.create(null));var r=vt[e];void 0===yt[e]&&(yt[e]=Object.create(null));var i=yt[e];void 0===pt[e]&&(pt[e]=Object.create(null));var a=pt[e];void 0===r[t]?r[t]=n:r[t]=r[t].concat(n).sort(),i[t]||(i[t]=!0,setTimeout((function(){i[t]=!1;var n=r[t];delete r[t];var o=We(e);o?o.prepare(e,t,n).forEach((function(n){ft(e,n,(function(r,i){var o=Ie(e,t);if("object"!==typeof r){if(404!==i)return;var u=Date.now();n.icons.forEach((function(e){o.missing[e]=u}))}else try{var s=Te(o,r);if(!s.length)return;var c=a[t];s.forEach((function(e){delete c[e]})),ht.store&&ht.store(e,r)}catch(l){console.error(l)}gt(e,t)}))})):function(){var n=(""===e?"":"@"+e+":")+t,r=Math.floor(Date.now()/6e4);kt[n]<r&&(kt[n]=r,console.error('Unable to retrieve icons for "'+n+'" because API is not configured properly.'))}()})))}var wt=function(e,t){var n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];return e.forEach((function(e){var i="string"===typeof e?pe(e,!1,n):e;t&&!ve(i,n)||r.push({provider:i.provider,prefix:i.prefix,name:i.name})})),r}(e,!0,Ce()),r=function(e){var t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((function(e,t){return e.provider!==t.provider?e.provider.localeCompare(t.provider):e.prefix!==t.prefix?e.prefix.localeCompare(t.prefix):e.name.localeCompare(t.name)}));var r={provider:"",prefix:"",name:""};return e.forEach((function(e){if(r.name!==e.name||r.prefix!==e.prefix||r.provider!==e.provider){r=e;var i=e.provider,a=e.prefix,o=e.name;void 0===n[i]&&(n[i]=Object.create(null));var u=n[i];void 0===u[a]&&(u[a]=Ie(i,a));var s=u[a],c={provider:i,prefix:a,name:o};(void 0!==s.icons[o]?t.loaded:""===a||void 0!==s.missing[o]?t.missing:t.pending).push(c)}})),t}(n);if(!r.pending.length){var i=!0;return t&&setTimeout((function(){i&&t(r.loaded,r.missing,r.pending,dt)})),function(){i=!1}}var a,o,u=Object.create(null),s=[];r.pending.forEach((function(e){var t=e.provider,n=e.prefix;if(n!==o||t!==a){a=t,o=n,s.push({provider:t,prefix:n}),void 0===pt[t]&&(pt[t]=Object.create(null));var r=pt[t];void 0===r[n]&&(r[n]=Object.create(null)),void 0===u[t]&&(u[t]=Object.create(null));var i=u[t];void 0===i[n]&&(i[n]=[])}}));var c=Date.now();return r.pending.forEach((function(e){var t=e.provider,n=e.prefix,r=e.name,i=pt[t][n];void 0===i[r]&&(i[r]=c,u[t][n].push(r))})),s.forEach((function(e){var t=e.provider,n=e.prefix;u[t][n].length&&bt(t,n,u[t][n])})),t?function(e,t,n){var r=at++,i=it.bind(null,n,r);if(!t.pending.length)return i;var a={id:r,icons:t,callback:e,abort:i};return n.forEach((function(e){var t=e.provider,n=e.prefix;void 0===nt[t]&&(nt[t]=Object.create(null));var r=nt[t];void 0===r[n]&&(r[n]=[]),r[n].push(a)})),i}(t,r,s):dt},_t="iconify2",xt="iconify",It="iconify-count",Tt="iconify-version",Et=36e5,St={local:!0,session:!0},Ct=!1,Nt={local:0,session:0},At={local:[],session:[]},Rt="undefined"===typeof window?{}:window;function Pt(e){var t=e+"Storage";try{if(Rt&&Rt[t]&&"number"===typeof Rt[t].length)return Rt[t]}catch(Wt){}return St[e]=!1,null}function Ot(e,t,n){try{return e.setItem(It,n.toString()),Nt[t]=n,!0}catch(Wt){return!1}}function Dt(e){var t=e.getItem(It);if(t){var n=parseInt(t);return n||0}return 0}var Lt=function(){if(!Ct){Ct=!0;var e=Math.floor(Date.now()/Et)-168;for(var t in St)n(t)}function n(t){var n=Pt(t);if(n){var r=function(t){var r=xt+t.toString(),i=n.getItem(r);if("string"!==typeof i)return!1;var a=!0;try{var o=JSON.parse(i);if("object"!==typeof o||"number"!==typeof o.cached||o.cached<e||"string"!==typeof o.provider||"object"!==typeof o.data||"string"!==typeof o.data.prefix)a=!1;else a=Te(Ie(o.provider,o.data.prefix),o.data).length>0}catch(Wt){a=!1}return a||n.removeItem(r),a};try{var i=n.getItem(Tt);if(i!==_t)return i&&function(e){try{for(var t=Dt(e),n=0;n<t;n++)e.removeItem(xt+n.toString())}catch(Wt){}}(n),void function(e,t){try{e.setItem(Tt,_t)}catch(Wt){}Ot(e,t,0)}(n,t);for(var a=Dt(n),o=a-1;o>=0;o--)r(o)||(o===a-1?a--:At[t].push(o));Ot(n,t,a)}catch(Wt){}}}};var Mt=/[\s,]+/;function Ft(e,t){t.split(Mt).forEach((function(t){switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0}}))}function Ut(e,t){t.split(Mt).forEach((function(t){var n=t.trim();switch(n){case"left":case"center":case"right":e.hAlign=n;break;case"top":case"middle":case"bottom":e.vAlign=n;break;case"slice":case"crop":e.slice=!0;break;case"meet":e.slice=!1}}))}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.replace(/^-?[0-9.]*/,"");function r(e){for(;e<0;)e+=4;return e%4}if(""===n){var i=parseInt(e);return isNaN(i)?0:r(i)}if(n!==e){var a=0;switch(n){case"%":a=25;break;case"deg":a=90}if(a){var o=parseFloat(e.slice(0,e.length-n.length));return isNaN(o)?0:(o/=a)%1===0?r(o):0}}return t}var Vt={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img",style:{}},qt=le(le({},Re),{},{inline:!0});if(Ce(!0),ze("",tt),"undefined"!==typeof document&&"undefined"!==typeof window){ht.store=function(e,t){function n(n){if(!St[n])return!1;var r=Pt(n);if(!r)return!1;var i=At[n].shift();if(void 0===i&&!Ot(r,n,(i=Nt[n])+1))return!1;try{var a={cached:Math.floor(Date.now()/Et),provider:e,data:t};r.setItem(xt+i.toString(),JSON.stringify(a))}catch(Wt){return!1}return!0}Ct||Lt(),Object.keys(t.icons).length&&(t.not_found&&delete(t=Object.assign({},t)).not_found,n("local")||n("session"))},Lt();var Bt=window;if(void 0!==Bt.IconifyPreload){var zt=Bt.IconifyPreload,Wt="Invalid IconifyPreload syntax.";"object"===typeof zt&&null!==zt&&(zt instanceof Array?zt:[zt]).forEach((function(e){try{("object"!==typeof e||null===e||e instanceof Array||"object"!==typeof e.icons||"string"!==typeof e.prefix||!function(e,t){if("object"!==typeof e)return!1;if("string"!==typeof t&&(t="string"===typeof e.provider?e.provider:""),Se&&""===t&&("string"!==typeof e.prefix||""===e.prefix)){var n=!1;return we(e)&&(e.prefix="",ge(e,(function(e,t){t&&Ae(e,t)&&(n=!0)}))),n}return!("string"!==typeof e.prefix||!ve({provider:t,prefix:e.prefix,name:"a"}))&&!!Te(Ie(t,e.prefix),e)}(e))&&console.error(Wt)}catch(t){console.error(Wt)}}))}if(void 0!==Bt.IconifyProviders){var Ht=Bt.IconifyProviders;if("object"===typeof Ht&&null!==Ht)for(var Kt in Ht){var Gt="IconifyProviders["+Kt+"] is invalid.";try{var Qt=Ht[Kt];if("object"!==typeof Qt||!Qt||void 0===Qt.resources)continue;Ye(Kt,Qt)||console.error(Gt)}catch(QA){console.error(Gt)}}}}var Yt=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this,e)).state={icon:null},r}return Z(n,[{key:"_abortLoading",value:function(){this._loading&&(this._loading.abort(),this._loading=null)}},{key:"_setData",value:function(e){this.state.icon!==e&&this.setState({icon:e})}},{key:"_checkIcon",value:function(e){var t,n=this.state,r=this.props.icon;if("object"===typeof r&&null!==r&&"string"===typeof r.body)return this._icon="",this._abortLoading(),void((e||null===n.icon)&&this._setData({data:de(r)}));if("string"!==typeof r||null===(t=pe(r,!1,!0)))return this._abortLoading(),void this._setData(null);var i=Ne(t);if(null!==i){if(this._icon!==r||null===n.icon){this._abortLoading(),this._icon=r;var a=["iconify"];""!==t.prefix&&a.push("iconify--"+t.prefix),""!==t.provider&&a.push("iconify--"+t.provider),this._setData({data:i,classes:a}),this.props.onLoad&&this.props.onLoad(r)}}else this._loading&&this._loading.name===r||(this._abortLoading(),this._icon="",this._setData(null),this._loading={name:r,abort:wt([t],this._checkIcon.bind(this,!1))})}},{key:"componentDidMount",value:function(){this._checkIcon(!1)}},{key:"componentDidUpdate",value:function(e){e.icon!==this.props.icon&&this._checkIcon(!0)}},{key:"componentWillUnmount",value:function(){this._abortLoading()}},{key:"render",value:function(){var e=this.props,t=this.state.icon;if(null===t)return e.children?e.children:r.createElement("span",{});var n=e;return t.classes&&(n=le(le({},e),{},{className:("string"===typeof e.className?e.className+" ":"")+t.classes.join(" ")})),function(e,t,n,i){var a=n?qt:Re,o=Pe(a,t),u="object"===typeof t.style&&null!==t.style?t.style:{},s=le(le({},Vt),{},{ref:i,style:u});for(var c in t){var l=t[c];if(void 0!==l)switch(c){case"icon":case"style":case"children":case"onLoad":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":o[c]=!0===l||"true"===l||1===l;break;case"flip":"string"===typeof l&&Ft(o,l);break;case"align":"string"===typeof l&&Ut(o,l);break;case"color":u.color=l;break;case"rotate":"string"===typeof l?o[c]=jt(l):"number"===typeof l&&(o[c]=l);break;case"ariaHidden":case"aria-hidden":!0!==l&&"true"!==l&&delete s["aria-hidden"];break;default:void 0===a[c]&&(s[c]=l)}}var f=Fe(e,o),h=0,d=t.id;for(var p in"string"===typeof d&&(d=d.replace(/-/g,"_")),s.dangerouslySetInnerHTML={__html:qe(f.body,d?function(){return d+"ID"+h++}:"iconifyReact")},f.attributes)s[p]=f.attributes[p];return f.inline&&void 0===u.verticalAlign&&(u.verticalAlign="-0.125em"),r.createElement("svg",s)}(t.data,n,e._inline,e._ref)}}]),n}(r.Component),Jt=r.forwardRef((function(e,t){var n=le(le({},e),{},{_ref:t,_inline:!1});return r.createElement(Yt,n)}));r.forwardRef((function(e,t){var n=le(le({},e),{},{_ref:t,_inline:!0});return r.createElement(Yt,n)}));function $t(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Xt(e,t,n){return Xt=re()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ee(i,n.prototype),i},Xt.apply(null,arguments)}function Zt(e){var t="function"===typeof Map?new Map:void 0;return Zt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Xt(e,arguments,ne(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ee(n,e)},Zt(e)}var en=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(en(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},nn=function(e){return function(e){var t=en(e);return tn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},rn=function(e){try{return tn.decodeString(e,!0)}catch(QA){console.error("base64Decode failed: ",QA)}return null};function an(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&on(n)&&(e[n]=an(e[n],t[n]));return e}function on(e){return"__proto__"!==e}var un=function(){function e(){var t=this;$(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Z(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function sn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[nn(JSON.stringify({alg:"none",type:"JWT"})),nn(JSON.stringify(a)),""].join(".")}function cn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ln(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function fn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(QA){return!1}}function hn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function dn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function pn(){var e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vn(){return"object"===typeof indexedDB}function mn(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}function yn(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var gn=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ae(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ae(a),kn.prototype.create),a}return Z(n)}(Zt(Error)),kn=function(){function e(t,n,r){$(this,e),this.service=t,this.serviceName=n,this.errors=r}return Z(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?bn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new gn(n,a,t);return o}}]),e}();function bn(e,t){return e.replace(wn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var wn=/\{\$([^}]+)}/g;function _n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(In(u)&&In(s)){if(!xn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function In(e){return null!==e&&"object"===typeof e}function Tn(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function En(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Sn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Cn(e,t){var n=new Nn(e,t);return n.subscribe.bind(n)}var Nn=function(){function e(t,n){var r=this;$(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Z(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=$t(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(Wt){r.e(Wt)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=An),void 0===r.error&&(r.error=An),void 0===r.complete&&(r.complete=An);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(QA){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(QA){"undefined"!==typeof console&&console.error&&console.error(QA)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function An(){}var Rn=144e5;function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Rn,r+i)}function On(e){return e&&e._delegate?e._delegate:e}function Dn(){Dn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(Wt){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(Wt){return{type:"throw",arg:Wt}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ie(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ln(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Mn(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Ln(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Un(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Fn(a,r,i,o,u,"next",e)}function u(e){Fn(a,r,i,o,u,"throw",e)}o(void 0)}))}}var jn=function(){function e(t,n,r){$(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Z(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Vn="[DEFAULT]",qn=function(){function e(t,n){$(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Z(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new un;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(QA){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(QA){if(r)return null;throw QA}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vn})}catch(QA){}var t,n=$t(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(QA){}}}catch(Wt){n.e(Wt)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Mn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Mn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=$t(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(Wt){o.e(Wt)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$t(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(LT){}}}catch(Wt){i.e(Wt)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Vn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(LT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn;return this.component?this.component.multipleInstances?e:Vn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Bn,zn,Wn=function(){function e(t){$(this,e),this.name=t,this.providers=new Map}return Z(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new qn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Hn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zn||(zn={}));var Kn,Gn,Qn={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},Yn=zn.INFO,Jn=(se(Bn={},zn.DEBUG,"log"),se(Bn,zn.VERBOSE,"log"),se(Bn,zn.INFO,"info"),se(Bn,zn.WARN,"warn"),se(Bn,zn.ERROR,"error"),Bn),$n=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Jn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Xn=function(){function e(t){$(this,e),this.name=t,this._logLevel=Yn,this._logHandler=$n,this._userLogHandler=null,Hn.push(this)}return Z(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Qn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.DEBUG].concat(t)),this._logHandler.apply(this,[this,zn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.INFO].concat(t)),this._logHandler.apply(this,[this,zn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.WARN].concat(t)),this._logHandler.apply(this,[this,zn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zn.ERROR].concat(t)),this._logHandler.apply(this,[this,zn.ERROR].concat(t))}}]),e}();var Zn=function(){function e(t){$(this,e),this.container=t}return Z(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var er="@firebase/app",tr="0.7.11",nr=new Xn("@firebase/app"),rr="[DEFAULT]",ir=(se(Kn={},er,"fire-core"),se(Kn,"@firebase/app-compat","fire-core-compat"),se(Kn,"@firebase/analytics","fire-analytics"),se(Kn,"@firebase/analytics-compat","fire-analytics-compat"),se(Kn,"@firebase/app-check","fire-app-check"),se(Kn,"@firebase/app-check-compat","fire-app-check-compat"),se(Kn,"@firebase/auth","fire-auth"),se(Kn,"@firebase/auth-compat","fire-auth-compat"),se(Kn,"@firebase/database","fire-rtdb"),se(Kn,"@firebase/database-compat","fire-rtdb-compat"),se(Kn,"@firebase/functions","fire-fn"),se(Kn,"@firebase/functions-compat","fire-fn-compat"),se(Kn,"@firebase/installations","fire-iid"),se(Kn,"@firebase/installations-compat","fire-iid-compat"),se(Kn,"@firebase/messaging","fire-fcm"),se(Kn,"@firebase/messaging-compat","fire-fcm-compat"),se(Kn,"@firebase/performance","fire-perf"),se(Kn,"@firebase/performance-compat","fire-perf-compat"),se(Kn,"@firebase/remote-config","fire-rc"),se(Kn,"@firebase/remote-config-compat","fire-rc-compat"),se(Kn,"@firebase/storage","fire-gcs"),se(Kn,"@firebase/storage-compat","fire-gcs-compat"),se(Kn,"@firebase/firestore","fire-fst"),se(Kn,"@firebase/firestore-compat","fire-fst-compat"),se(Kn,"fire-js","fire-js"),se(Kn,"firebase","fire-js-all"),Kn),ar=new Map,or=new Map;function ur(e,t){try{e.container.addComponent(t)}catch(QA){nr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),QA)}}function sr(e,t){e.container.addOrOverwriteComponent(t)}function cr(e){var t=e.name;if(or.has(t))return nr.debug("There were multiple attempts to register component ".concat(t,".")),!1;or.set(t,e);var n,r=$t(ar.values());try{for(r.s();!(n=r.n()).done;){ur(n.value,e)}}catch(Wt){r.e(Wt)}finally{r.f()}return!0}function lr(e,t){return e.container.getProvider(t)}function fr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rr;lr(e,t).clearInstance(n)}function hr(){or.clear()}var dr,pr,vr=(se(Gn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),se(Gn,"bad-app-name","Illegal App name: '{$appName}"),se(Gn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),se(Gn,"app-deleted","Firebase App named '{$appName}' already deleted"),se(Gn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),se(Gn,"invalid-log-argument","First argument to `onLog` must be null or a function."),Gn),mr=new kn("app","Firebase",vr),yr=function(){function e(t,n,r){var i=this;$(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jn("app",(function(){return i}),"PUBLIC"))}return Z(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}]),e}(),gr="9.6.1";function kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:rr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw mr.create("bad-app-name",{appName:String(i)});var a=ar.get(i);if(a){if(xn(e,a.options)&&xn(r,a.config))return a;throw mr.create("duplicate-app",{appName:i})}var o,u=new Wn(i),s=$t(or.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(Wt){s.e(Wt)}finally{s.f()}var l=new yr(e,r,u);return ar.set(i,l),l}function br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr,t=ar.get(e);if(!t)throw mr.create("no-app",{appName:e});return t}function wr(){return Array.from(ar.values())}function _r(e){return xr.apply(this,arguments)}function xr(){return(xr=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ar.has(n)){e.next=6;break}return ar.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(e,t,n){var r,i=null!==(r=ir[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nr.warn(u.join(" "))}cr(new jn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Tr(e,t){if(null!==e&&"function"!==typeof e)throw mr.create("invalid-log-argument");!function(e,t){var n,r=$t(Hn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Qn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:zn[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(Wt){r.e(Wt)}finally{r.f()}}(e,t)}function Er(e){var t;t=e,Hn.forEach((function(e){e.setLogLevel(t)}))}dr="",cr(new jn("platform-logger",(function(e){return new Zn(e)}),"PRIVATE")),Ir(er,tr,dr),Ir(er,tr,"esm2017"),Ir("fire-js","");var Sr=function(){function e(t,n){var r=this;$(this,e),this._delegate=t,this.firebase=n,ur(t,new jn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Z(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),_r(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ur(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){sr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Cr=(se(pr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),se(pr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),pr),Nr=new kn("app-compat","Firebase",Cr);var Ar=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=kr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_n(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ir,setLogLevel:Er,onLog:Tr,apps:null,SDK_VERSION:gr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(cr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Nr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&an(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!_n(n,e=e||rr))throw Nr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Sr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){an(n,e)},createSubscribe:Cn,ErrorFactory:kn,deepExtend:an}),n}(),Rr=new Xn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Rr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Pr=self.firebase.SDK_VERSION;Pr&&Pr.indexOf("LITE")>=0&&Rr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Or=Ar;!function(e){Ir("@firebase/app-compat","0.1.12",e)}();Or.registerVersion("firebase","9.6.1","app-compat");var Dr,Lr=n(494),Mr="@firebase/installations",Fr="0.5.4",Ur=1e4,jr="w:".concat(Fr),Vr="FIS_v2",qr=36e5,Br=(se(Dr={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),se(Dr,"not-registered","Firebase Installation is not registered."),se(Dr,"installation-not-found","Firebase Installation not found."),se(Dr,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),se(Dr,"app-offline","Could not process request. Application offline."),se(Dr,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Dr),zr=new kn("installations","Installations",Br);function Wr(e){return e instanceof gn&&e.code.includes("request-failed")}function Hr(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Kr(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Gr(e,t){return Qr.apply(this,arguments)}function Qr(){return(Qr=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",zr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yr(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jr(e,t){var n=t.refreshToken,r=Yr(e);return r.append("Authorization",function(e){return"".concat(Vr," ").concat(e)}(n)),r}function $r(e){return Xr.apply(this,arguments)}function Xr(){return Xr=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function Zr(e,t){return ei.apply(this,arguments)}function ei(){return(ei=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fid,i=Hr(t),a=Yr(t),o={fid:r,authVersion:Vr,appId:t.appId,sdkVersion:jr},u={method:"POST",headers:a,body:JSON.stringify(o)},e.next=7,$r((function(){return fetch(i,u)}));case 7:if(!(s=e.sent).ok){e.next=16;break}return e.next=11,s.json();case 11:return c=e.sent,l={fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:Kr(c.authToken)},e.abrupt("return",l);case 16:return e.next=18,Gr("Create Installation",s);case 18:throw e.sent;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ti(e){return new Promise((function(t){setTimeout(t,e)}))}var ni=/^[cdef][\w-]{21}$/;function ri(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Mn(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return ni.test(t)?t:""}catch(LT){return""}}function ii(e){return"".concat(e.appName,"!").concat(e.appId)}var ai=new Map;function oi(e,t){var n=ii(e);ui(n,t),function(e,t){var n=ci();n&&n.postMessage({key:e,fid:t});li()}(n,t)}function ui(e,t){var n=ai.get(e);if(n){var r,i=$t(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(Wt){i.e(Wt)}finally{i.f()}}}var si=null;function ci(){return!si&&"BroadcastChannel"in self&&((si=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){ui(e.data.key,e.data.fid)}),si}function li(){0===ai.size&&si&&(si.close(),si=null)}var fi="firebase-installations-store",hi=null;function di(){return hi||(hi=(0,Lr.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(fi)}))),hi}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=Un(Dn().mark((function e(t,n){var r,i,a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ii(t),e.next=3,di();case 3:return i=e.sent,a=i.transaction(fi,"readwrite"),o=a.objectStore(fi),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.complete;case 13:return u&&u.fid===n.fid||oi(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(e){return yi.apply(this,arguments)}function yi(){return yi=Un(Dn().mark((function e(t){var n,r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ii(t),e.next=3,di();case 3:return r=e.sent,i=r.transaction(fi,"readwrite"),e.next=7,i.objectStore(fi).delete(n);case 7:return e.next=9,i.complete;case 9:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}function gi(e,t){return ki.apply(this,arguments)}function ki(){return ki=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ii(t),e.next=3,di();case 3:return i=e.sent,a=i.transaction(fi,"readwrite"),o=a.objectStore(fi),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.complete;case 19:return!s||u&&u.fid===s.fid||oi(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}function bi(e){return wi.apply(this,arguments)}function wi(){return(wi=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gi(t,(function(e){var r=_i(e),i=xi(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(e){return Ci(e||{fid:ri(),registrationStatus:0})}function xi(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(zr.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Ii.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Ti(e)}:{installationEntry:t}}function Ii(){return(Ii=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zr(t,n);case 3:return r=e.sent,e.abrupt("return",pi(t,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Wr(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,mi(t);case 12:e.next=16;break;case 14:return e.next=16,pi(t,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Ti(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=Un(Dn().mark((function e(t){var n,r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(t);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,ti(100);case 6:return e.next=8,Si(t);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,bi(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Si(e){return gi(e,(function(e){if(!e)throw zr.create("installation-not-found");return Ci(e)}))}function Ci(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ur<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Ni(e,t){return Ai.apply(this,arguments)}function Ai(){return(Ai=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appConfig,i=t.platformLoggerProvider,a=Ri(r,n),o=Jr(r,n),(u=i.getImmediate({optional:!0}))&&o.append("x-firebase-client",u.getPlatformInfoString()),s={installation:{sdkVersion:jr}},c={method:"POST",headers:o,body:JSON.stringify(s)},e.next=9,$r((function(){return fetch(a,c)}));case 9:if(!(l=e.sent).ok){e.next=18;break}return e.next=13,l.json();case 13:return f=e.sent,h=Kr(f),e.abrupt("return",h);case 18:return e.next=20,Gr("Generate Auth Token",l);case 20:throw e.sent;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(e,t){var n=t.fid;return"".concat(Hr(e),"/").concat(n,"/authTokens:generate")}function Pi(e){return Oi.apply(this,arguments)}function Oi(){return Oi=Un(Dn().mark((function e(t){var n,r,i,a,o=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,gi(t.appConfig,(function(e){if(!ji(e))throw zr.create("not-registered");var i=e.authToken;if(!n&&Vi(i))return e;if(1===i.requestStatus)return r=Di(t,n),e;if(!navigator.onLine)throw zr.create("app-offline");var a=qi(e);return r=Fi(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Di(e,t){return Li.apply(this,arguments)}function Li(){return(Li=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,ti(100);case 6:return e.next=8,Mi(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Pi(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mi(e){return gi(e,(function(e){if(!ji(e))throw zr.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Ur<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return(Ui=Un(Dn().mark((function e(t,n){var r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ni(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,pi(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Wr(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,mi(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,pi(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ji(e){return void 0!==e&&2===e.registrationStatus}function Vi(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qr}(e)}function qi(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Bi(){return(Bi=Un(Dn().mark((function e(t){var n,r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,bi(n.appConfig);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):Pi(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zi(){return zi=Un(Dn().mark((function e(t){var n,r,i,a=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Wi(r.appConfig);case 4:return e.next=6,Pi(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}function Wi(e){return Hi.apply(this,arguments)}function Hi(){return(Hi=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e){return zr.create("missing-app-config-values",{valueName:e})}var Gi,Qi="installations",Yi=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ki("App Configuration");if(!e.name)throw Ki("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Ki(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:lr(t,"platform-logger"),_delete:function(){return Promise.resolve()}}},Ji=function(e){var t=lr(e.getProvider("app").getImmediate(),Qi).getImmediate(),n={getId:function(){return function(e){return Bi.apply(this,arguments)}(t)},getToken:function(e){return function(e){return zi.apply(this,arguments)}(t,e)}};return n};cr(new jn(Qi,Yi,"PUBLIC")),cr(new jn("installations-internal",Ji,"PRIVATE")),Ir(Mr,Fr),Ir(Mr,Fr,"esm2017");var $i="analytics",Xi=6e4,Zi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ea="https://www.googletagmanager.com/gtag/js",ta=new Xn("@firebase/analytics");function na(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function ra(e,t){var n=document.createElement("script");n.src="".concat(ea,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function ia(e,t,n,r,i,a){return aa.apply(this,arguments)}function aa(){return aa=Un(Dn().mark((function e(t,n,r,i,a,o){var u,s,c;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,na(r);case 9:if(s=e.sent,c=s.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),ta.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),aa.apply(this,arguments)}function oa(e,t,n,r,i){return ua.apply(this,arguments)}function ua(){return ua=Un(Dn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,na(r);case 7:s=e.sent,c=$t(u),e.prev=9,f=function(){var e=l.value,t=s.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),ta.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),ua.apply(this,arguments)}function sa(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Un(Dn().mark((function i(a,o,u){return Dn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,oa(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,ia(e,t,n,r,o,u);case 9:i.next=12;break;case 11:e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),ta.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function ca(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(ea))return r}return null}var la=(se(Gi={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),se(Gi,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),se(Gi,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),se(Gi,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),se(Gi,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),se(Gi,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),se(Gi,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),se(Gi,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),se(Gi,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),se(Gi,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Gi),fa=new kn("analytics","Analytics",la),ha=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;$(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Z(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),da=new ha;function pa(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function va(e){return ma.apply(this,arguments)}function ma(){return ma=Un(Dn().mark((function e(t){var n,r,i,a,o,u,s,c;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:pa(i)},o=Zi.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw fa.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),ma.apply(this,arguments)}function ya(e){return ga.apply(this,arguments)}function ga(){return ga=Un(Dn().mark((function e(t){var n,r,i,a,o,u,s,c,l=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:da,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw fa.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw fa.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new xa,setTimeout(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Xi),e.abrupt("return",ka({appId:a,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ka(e,t,n){return ba.apply(this,arguments)}function ba(){return ba=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=h.length>3&&void 0!==h[3]?h[3]:da,u=t.appId,s=t.measurementId,e.prev=3,e.next=6,wa(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!s){e.next=13;break}return ta.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:s});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,va(t);case 17:return c=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",c);case 22:if(e.prev=22,e.t1=e.catch(14),_a(e.t1)){e.next=32;break}if(o.deleteThrottleMetadata(u),!s){e.next=31;break}return ta.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t1.message,"]")),e.abrupt("return",{appId:u,measurementId:s});case 31:throw e.t1;case 32:return l=503===Number(e.t1.customData.httpStatus)?Pn(a,o.intervalMillis,30):Pn(a,o.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:a+1},o.setThrottleMetadata(u,f),ta.debug("Calling attemptFetch again in ".concat(l," millis")),e.abrupt("return",ka(t,f,r,o));case 37:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),ba.apply(this,arguments)}function wa(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(fa.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function _a(e){if(!(e instanceof gn)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var xa=function(){function e(){$(this,e),this.listeners=[]}return Z(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Ia(){return Ta.apply(this,arguments)}function Ta(){return(Ta=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vn()){e.next=5;break}return ta.warn(fa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,mn();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),ta.warn(fa.create("indexeddb-unavailable",{errorInfo:e.t0}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function Ea(){return Ea=Un(Dn().mark((function e(t,n,r,i,a,o,u){var s,l,f,h,d,p,v,m;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=ya(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ta.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return ta.error(e)})),n.push(l),f=Ia().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=c(h,2),p=d[0],v=d[1],ca()||ra(o,p.measurementId),a("js",new Date),(m=null!==(s=null===u||void 0===u?void 0:u.config)&&void 0!==s?s:{}).origin="firebase",m.update=!0,null!=v&&(m.firebase_id=v),a("config",p.measurementId,m),e.abrupt("return",p.measurementId);case 18:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}var Sa,Ca,Na=function(){function e(t){$(this,e),this.app=t}return Z(e,[{key:"_delete",value:function(){return delete Aa[this.app.options.appId],Promise.resolve()}}]),e}(),Aa={},Ra=[],Pa={},Oa="dataLayer",Da="gtag",La=!1;function Ma(e){if(La)throw fa.create("already-initialized");e.dataLayerName&&(Oa=e.dataLayerName),e.gtagName&&(Da=e.gtagName)}function Fa(e,t,n){!function(){var e=[];if(hn()&&e.push("This is a browser extension environment."),yn()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=fa.create("invalid-analytics-context",{errorInfo:t});ta.warn(n.message)}}();var r=e.options.appId;if(!r)throw fa.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw fa.create("no-api-key");ta.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Aa[r])throw fa.create("already-exists",{id:r});if(!La){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Oa);var i=sa(Aa,Ra,Pa,Oa,Da),a=i.wrappedGtag,o=i.gtagCore;Ca=a,Sa=o,La=!0}return Aa[r]=function(e,t,n,r,i,a,o){return Ea.apply(this,arguments)}(e,Ra,Pa,t,Sa,Oa,n),new Na(e)}function Ua(){return(Ua=Un(Dn().mark((function e(t,n,r,i,a){var o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(){return(ja=Un(Dn().mark((function e(t,n,r,i){var a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(){return Va=Un(Dn().mark((function e(t,n,r,i){var a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function qa(){return qa=Un(Dn().mark((function e(t,n,r,i){var a,o,u,s,c;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,u=Object.keys(r);o<u.length;o++)s=u[o],a["user_properties.".concat(s)]=r[s];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Ba(){return(Ba=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function za(){return Wa.apply(this,arguments)}function Wa(){return(Wa=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hn()){e.next=2;break}return e.abrupt("return",!1);case 2:if(yn()){e.next=4;break}return e.abrupt("return",!1);case 4:if(vn()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,mn();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function Ha(e,t,n){e=On(e),function(e,t,n,r){return ja.apply(this,arguments)}(Ca,Aa[e.app.options.appId],t,n).catch((function(e){return ta.error(e)}))}function Ka(e,t,n){e=On(e),function(e,t,n,r){return Va.apply(this,arguments)}(Ca,Aa[e.app.options.appId],t,n).catch((function(e){return ta.error(e)}))}function Ga(e,t,n){e=On(e),function(e,t,n,r){return qa.apply(this,arguments)}(Ca,Aa[e.app.options.appId],t,n).catch((function(e){return ta.error(e)}))}function Qa(e,t){e=On(e),function(e,t){return Ba.apply(this,arguments)}(Aa[e.app.options.appId],t).catch((function(e){return ta.error(e)}))}function Ya(e,t,n,r){e=On(e),function(e,t,n,r,i){return Ua.apply(this,arguments)}(Ca,Aa[e.app.options.appId],t,n,r).catch((function(e){return ta.error(e)}))}var Ja="@firebase/analytics",$a="0.7.4";cr(new jn($i,(function(e,t){var n=t.options;return Fa(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),cr(new jn("analytics-internal",(function(e){try{var t=e.getProvider($i).getImmediate();return{logEvent:function(e,n,r){return Ya(t,e,n,r)}}}catch(QA){throw fa.create("interop-component-reg-failed",{reason:QA})}}),"PRIVATE")),Ir(Ja,$a),Ir(Ja,$a,"esm2017");var Xa,Za=function(){function e(t,n){$(this,e),this.app=t,this._delegate=n}return Z(e,[{key:"logEvent",value:function(e,t,n){Ya(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){Ha(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){Ka(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){Ga(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){Qa(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Xa||(Xa={}));var eo=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new Za(t,n)};!function(){var e={Analytics:Za,settings:Ma,isSupported:za,EventName:Xa};Or.INTERNAL.registerComponent(new jn("analytics-compat",eo,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),Or.registerVersion("@firebase/analytics-compat","0.1.5");var to=n(184);var no=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,to.jsxs)(to.Fragment,{children:[(0,to.jsxs)("header",{children:[(0,to.jsx)(J,{className:"title",to:"/",children:(0,to.jsx)("img",{className:"logo",src:"img/NemoLogo.png"})}),(0,to.jsxs)("div",{className:"info",children:[(0,to.jsx)("button",{className:"info__contact",onClick:function(){window.open("https://www.instagram.com/nemomemo.official/")},children:"\ubb38\uc758\ud558\uae30(DM)"}),(0,to.jsx)("button",{className:"info__download",onClick:function(){io()},children:"Nemo \uc571 \ub2e4\uc6b4\ub85c\ub4dc\ud558\uae30"}),(0,to.jsx)("button",{onClick:function(){n(!t)},className:"info__menu",children:(0,to.jsx)(Jt,{icon:"ant-design:menu-outlined",color:"#7341ff",width:"30",height:"30"})})]})]}),1==t?(0,to.jsx)(ro,{}):null]})};function ro(){return(0,to.jsxs)("div",{className:"menu__modal",children:[(0,to.jsx)("button",{className:"modal__contact",onClick:function(){window.open("https://www.instagram.com/nemomemo.official/")},children:"\ubb38\uc758\ud558\uae30(DM)"}),(0,to.jsx)("button",{className:"modal__download",onClick:function(){io()},children:"Nemo \uc571 \ub2e4\uc6b4\ub85c\ub4dc\ud558\uae30"})]})}function io(){var e=navigator.userAgent.toLowerCase();return console.log(e),e.indexOf("android")>-1?(window.open("https://play.google.com/store/apps/details?id=com.cjs0410.Nemo"),void Or.analytics().logEvent("clickAndroid",{test:1})):e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||e.indexOf("ipod")>-1?(window.open("https://apps.apple.com/kr/app/nemo-%EC%B1%85%EC%9D%84-%EA%B8%B0%EC%96%B5%ED%95%98%EB%8A%94-%EC%B5%9C%EA%B3%A0%EC%9D%98-%EB%B0%A9%EB%B2%95/id6444700224"),void Or.analytics().logEvent("clickIos",{test:1})):(window.open("https://linktr.ee/nemo.official"),void Or.analytics().logEvent("clickLT",{test:1}))}var ao=function(){return(0,to.jsxs)("footer",{children:[(0,to.jsx)("div",{className:"end"}),(0,to.jsx)("img",{className:"footer__logo",src:"img/NemoLogo.png"}),(0,to.jsxs)("div",{className:"nemo__policy",children:[(0,to.jsx)("button",{className:"nemo__policy--content",onClick:function(){window.open("https://nemomemo.notion.site/Terms-of-Use-cfaefb66ef8d472da963a82e496908dc")},children:"\uc774\uc6a9\uc57d\uad00"}),(0,to.jsx)("button",{className:"nemo__policy--content",onClick:function(){window.open("https://nemomemo.notion.site/Privacy-Policy-4c19c386e67240e593b38a10769e0938")},children:"\uac1c\uc778\uc815\ubcf4 \ucc98\ub9ac\ubc29\uce68"})]}),(0,to.jsxs)("div",{className:"nemo__info",children:[(0,to.jsx)("p",{className:"nemo__detail",children:"\ub300\ud45c : \uc815\ub3d9\uc778"}),(0,to.jsx)("p",{className:"nemo__detail",children:"\uc774\uba54\uc77c \uc8fc\uc18c : nemo.2022.official@gmail.com"}),(0,to.jsx)("p",{className:"nemo__detail",children:"\uc8fc\uc18c : \ub300\ud55c\ubbfc\uad6d \uc11c\uc6b8\ud2b9\ubcc4\uc2dc \uc131\ubd81\uad6c \uc548\uc554\ub85c 145, \uace0\ub824\ub300\ud559\uad50 \uacbd\uc601\ubcf8\uad00 218\ud638"}),(0,to.jsx)("p",{className:"nemo__detail",children:"\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638 : 811-08-02122 "}),(0,to.jsx)("p",{className:"nemo__detail",children:"\ud074\ub77c\uc6b0\ub4dc \ud638\uc2a4\ud305 : Amazon Web Services Inc."}),(0,to.jsxs)("p",{className:"nemo__copyright",children:[" Nemomemo \xa9 ",(new Date).getFullYear()," All Rights Reserved "]})]})]})};function oo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}function uo(){return uo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=oo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},uo.apply(this,arguments)}function so(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var co;Object.create;var lo="facebook.com",fo="github.com",ho="google.com",po="password",vo="twitter.com",mo="EMAIL_SIGNIN",yo="PASSWORD_RESET",go="RECOVER_EMAIL",ko="REVERT_SECOND_FACTOR_ADDITION",bo="VERIFY_AND_CHANGE_EMAIL",wo="VERIFY_EMAIL";function _o(){return se({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var xo=function(){var e;return se(e={},"admin-restricted-operation","This operation is restricted to administrators only."),se(e,"argument-error",""),se(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),se(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),se(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),se(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),se(e,"cordova-not-ready","Cordova framework is not ready."),se(e,"cors-unsupported","This browser is not supported."),se(e,"credential-already-in-use","This credential is already associated with a different user account."),se(e,"custom-token-mismatch","The custom token corresponds to a different audience."),se(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),se(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),se(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),se(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),se(e,"email-already-in-use","The email address is already in use by another account."),se(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),se(e,"expired-action-code","The action code has expired."),se(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),se(e,"internal-error","An internal AuthError has occurred."),se(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),se(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),se(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),se(e,"invalid-auth-event","An internal AuthError has occurred."),se(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),se(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),se(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),se(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),se(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),se(e,"invalid-email","The email address is badly formatted."),se(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),se(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),se(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),se(e,"invalid-credential","The supplied auth credential is malformed or has expired."),se(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),se(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),se(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),se(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),se(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),se(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),se(e,"wrong-password","The password is invalid or the user does not have a password."),se(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),se(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),se(e,"invalid-provider-id","The specified provider ID is invalid."),se(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),se(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),se(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),se(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),se(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),se(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),se(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),se(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),se(e,"missing-continue-uri","A continue URL must be provided in the request."),se(e,"missing-iframe-start","An internal AuthError has occurred."),se(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),se(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),se(e,"missing-multi-factor-info","No second factor identifier is provided."),se(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),se(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),se(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),se(e,"app-deleted","This instance of FirebaseApp has been deleted."),se(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),se(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),se(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),se(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),se(e,"no-auth-event","An internal AuthError has occurred."),se(e,"no-such-provider","User was not linked to an account with the given provider."),se(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),se(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),se(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),se(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),se(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),se(e,"provider-already-linked","User can only be linked to one identity for the given provider."),se(e,"quota-exceeded","The project's quota for this operation has been exceeded."),se(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),se(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),se(e,"rejected-credential","The request contains malformed or mismatching credentials."),se(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),se(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),se(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),se(e,"timeout","The operation has timed out."),se(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),se(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),se(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),se(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),se(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),se(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),se(e,"unverified-email","The operation requires a verified email."),se(e,"user-cancelled","The user did not grant your application the permissions it requested."),se(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),se(e,"user-disabled","The user account has been disabled by an administrator."),se(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),se(e,"user-signed-out",""),se(e,"weak-password","The password must be 6 characters long or more."),se(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),se(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Io=_o,To=new kn("auth","Firebase",_o()),Eo=new Xn("@firebase/auth");function So(e){if(Eo.logLevel<=zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Eo.error.apply(Eo,["Auth (".concat(gr,"): ").concat(e)].concat(n))}}function Co(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Po.apply(void 0,[e].concat(n))}function No(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Po.apply(void 0,[e].concat(n))}function Ao(e,t,n){var r=Object.assign(Object.assign({},Io()),se({},t,n));return new kn("auth","Firebase",r).create(t,{appName:e.name})}function Ro(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Co(e,"argument-error"),Ao(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Po(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Mn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Mn(o)))}return To.create.apply(To,[e].concat(n))}function Oo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Po.apply(void 0,[t].concat(r))}}function Do(e){var t="INTERNAL ASSERTION FAILED: "+e;throw So(t),new Error(t)}function Lo(e,t){e||Do(t)}var Mo=new Map;function Fo(e){Lo(e instanceof Function,"Expected a class definition");var t=Mo.get(e);return t?(Lo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mo.set(e,t),t)}function Uo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function jo(){return"http:"===Vo()||"https:"===Vo()}function Vo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var qo=function(){function e(t,n){$(this,e),this.shortDelay=t,this.longDelay=n,Lo(n>t,"Short delay should be less than long delay!"),this.isMobile=ln()||dn()}return Z(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(jo()||hn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Bo(e,t){Lo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var zo=function(){function e(){$(this,e)}return Z(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Do("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Do("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Do("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Wo=(se(co={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),se(co,"MISSING_CUSTOM_TOKEN","internal-error"),se(co,"INVALID_IDENTIFIER","invalid-email"),se(co,"MISSING_CONTINUE_URI","internal-error"),se(co,"INVALID_PASSWORD","wrong-password"),se(co,"MISSING_PASSWORD","internal-error"),se(co,"EMAIL_EXISTS","email-already-in-use"),se(co,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),se(co,"INVALID_IDP_RESPONSE","invalid-credential"),se(co,"INVALID_PENDING_TOKEN","invalid-credential"),se(co,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),se(co,"MISSING_REQ_TYPE","internal-error"),se(co,"EMAIL_NOT_FOUND","user-not-found"),se(co,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),se(co,"EXPIRED_OOB_CODE","expired-action-code"),se(co,"INVALID_OOB_CODE","invalid-action-code"),se(co,"MISSING_OOB_CODE","internal-error"),se(co,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),se(co,"INVALID_ID_TOKEN","invalid-user-token"),se(co,"TOKEN_EXPIRED","user-token-expired"),se(co,"USER_NOT_FOUND","user-token-expired"),se(co,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),se(co,"INVALID_CODE","invalid-verification-code"),se(co,"INVALID_SESSION_INFO","invalid-verification-id"),se(co,"INVALID_TEMPORARY_PROOF","invalid-credential"),se(co,"MISSING_SESSION_INFO","missing-verification-id"),se(co,"SESSION_EXPIRED","code-expired"),se(co,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),se(co,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),se(co,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),se(co,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),se(co,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),se(co,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),se(co,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),se(co,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),se(co,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),se(co,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),se(co,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),co),Ho=new qo(3e4,6e4);function Ko(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Go(e,t,n,r){return Qo.apply(this,arguments)}function Qo(){return Qo=Un(Dn().mark((function e(t,n,r,i){var a,o=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Yo(t,a,Un(Dn().mark((function e(){var a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Tn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",zo.fetch()(Zo(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Yo(e,t,n){return Jo.apply(this,arguments)}function Jo(){return(Jo=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Wo),n),e.prev=2,a=new eu(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw tu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw tu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw tu(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Ao(t,p,d);case 30:Co(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof gn)){e.next=37;break}throw e.t0;case 37:Co(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function $o(e,t,n,r){return Xo.apply(this,arguments)}function Xo(){return Xo=Un(Dn().mark((function e(t,n,r,i){var a,o,u=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Go(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Co(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Zo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Bo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var eu=function(){function e(t){var n=this;$(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(No(n.auth,"timeout"))}),Ho.get())}))}return Z(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function tu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=No(e,t,r);return i.customData._tokenResponse=n,i}function nu(e,t){return ru.apply(this,arguments)}function ru(){return(ru=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return(au=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(e,t){return uu.apply(this,arguments)}function uu(){return(uu=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(QA){}}function cu(){return cu=Un(Dn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=On(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Oo((a=fu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:su(lu(a.auth_time)),issuedAtTime:su(lu(a.iat)),expirationTime:su(lu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e){return 1e3*Number(e)}function fu(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return So("JWT malformed, contained fewer than 3 sections"),null;try{var a=rn(r);return a?JSON.parse(a):(So("Failed to decode base64 JWT payload"),null)}catch(QA){return So("Caught error parsing JWT payload as JSON",QA),null}}function hu(e,t){return du.apply(this,arguments)}function du(){return du=Un(Dn().mark((function e(t,n){var r=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof gn&&pu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),du.apply(this,arguments)}function pu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var vu=function(){function e(t){$(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Z(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Un(Dn().mark((function t(){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),mu=function(){function e(t,n){$(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Z(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function yu(e){return gu.apply(this,arguments)}function gu(){return gu=Un(Dn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,hu(t,ou(r,{idToken:i}));case 6:Oo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?wu(o.providerUserInfo):[],s=bu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new mu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function ku(){return(ku=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=On(t),e.next=3,yu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Mn(n),Mn(t))}function wu(e){return e.map((function(e){var t=e.providerId,n=so(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function _u(e,t){return xu.apply(this,arguments)}function xu(){return(xu=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(t,{},Un(Dn().mark((function e(){var r,i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Zo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",zo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Iu=function(){function e(){$(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Z(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Oo(e.idToken,"internal-error"),Oo("undefined"!==typeof e.idToken,"internal-error"),Oo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=fu(e);return Oo(t,"internal-error"),Oo("undefined"!==typeof t.exp,"internal-error"),Oo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Un(Dn().mark((function e(t){var n,r=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Oo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Do("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Oo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Oo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Oo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Tu(e,t){Oo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Eu=function(){function e(t){$(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=so(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new vu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new mu(a.createdAt||void 0,a.lastLoginAt||void 0)}return Z(e,[{key:"getIdToken",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Oo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return cu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ku.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Oo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Oo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Un(Dn().mark((function e(t){var n,r,i=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,yu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,hu(this,nu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Oo(k&&x,t,"internal-error");var I=Iu.fromJSON(this.name,x);Oo("string"===typeof k,t,"internal-error"),Tu(f,t.name),Tu(h,t.name),Oo("boolean"===typeof b,t,"internal-error"),Oo("boolean"===typeof w,t,"internal-error"),Tu(d,t.name),Tu(p,t.name),Tu(v,t.name),Tu(m,t.name),Tu(y,t.name),Tu(g,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=Un(Dn().mark((function t(n,r){var i,a,o,u=arguments;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Iu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,yu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Su=function(){function e(){$(this,e),this.type="NONE",this.storage={}}return Z(e,[{key:"_isAvailable",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Su.type="NONE";var Cu=Su;function Nu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Au=function(){function e(t,n,r){$(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Nu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Nu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Z(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Eu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Un(Dn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Fo(Cu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Fo(Cu),u=Nu(i,n.config.apiKey,n.name),s=null,c=$t(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Eu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ru(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Lu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fu(t))return"Blackberry";if(Uu(t))return"Webos";if(Ou(t))return"Safari";if((t.includes("chrome/")||Du(t))&&!t.includes("edge/"))return"Chrome";if(Mu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/firefox\//i.test(e)}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/crios\//i.test(e)}function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/iemobile/i.test(e)}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/android/i.test(e)}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/blackberry/i.test(e)}function Uu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/webos/i.test(e)}function ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/iphone|ipad|ipod/i.test(e)}function Vu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return ju(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function qu(){return pn()&&10===document.documentMode}function Bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return ju(e)||Mu(e)||Uu(e)||Fu(e)||/windows phone/i.test(e)||Lu(e)}function zu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ru(cn());break;case"Worker":t="".concat(Ru(cn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(gr,"/").concat(r)}var Wu=function(){function e(t,n){$(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ku(this),this.idTokenSubscription=new Ku(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=To,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Z(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Fo(t)),this._initializationPromise=this.queue(Un(Dn().mark((function r(){var i,a;return Dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Au.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Un(Dn().mark((function e(t){var n,r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Oo(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?On(t):null)&&Oo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Un(Dn().mark((function e(t){var n=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Oo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Un(Dn().mark((function n(){return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Fo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Oo(n=t&&Fo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Au.create(this,[Fo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Un(Dn().mark((function e(t){var n=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Oo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Oo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hu(e){return On(e)}var Ku=function(){function e(t){var n=this;$(this,e),this.auth=t,this.observer=null,this.addObserver=Cn((function(e){return n.observer=e}))}return Z(e,[{key:"next",get:function(){return Oo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Gu(e,t,n){var r=Hu(e);Oo(r._canInitEmulator,r,"emulator-config-failed"),Oo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Qu(t),o=function(e){var t=Qu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Yu(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Yu(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ju=function(){function e(t,n){$(this,e),this.providerId=t,this.signInMethod=n}return Z(e,[{key:"toJSON",value:function(){return Do("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Do("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Do("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Do("not implemented")}}]),e}();function $u(e,t){return Xu.apply(this,arguments)}function Xu(){return(Xu=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:resetPassword",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t){return es.apply(this,arguments)}function es(){return(es=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return(ns=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:update",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return(is=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o(t,"POST","/v1/accounts:signInWithPassword",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return(os=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:sendOobCode",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return(ss=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return(ls=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return(hs=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return(ps=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return(ms=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o(t,"POST","/v1/accounts:signInWithEmailLink",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e,t){return gs.apply(this,arguments)}function gs(){return(gs=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o(t,"POST","/v1/accounts:signInWithEmailLink",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ks=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return $(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Z(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",rs(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vs(t,{email:this._email,oobCode:this._password}));case 5:Co(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Zu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ys(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Co(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ju);function bs(e,t){return ws.apply(this,arguments)}function ws(){return(ws=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o(t,"POST","/v1/accounts:signInWithIdp",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _s=function(e){te(n,e);var t=ue(n);function n(){var e;return $(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Z(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return bs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Co("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=so(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ju);function xs(e,t){return Is.apply(this,arguments)}function Is(){return(Is=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:sendVerificationCode",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(){return(Ts=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o(t,"POST","/v1/accounts:signInWithPhoneNumber",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(){return(Es=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(t,"POST","/v1/accounts:signInWithPhoneNumber",Ko(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw tu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ss=se({},"USER_NOT_FOUND","user-not-found");function Cs(){return(Cs=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",$o(t,"POST","/v1/accounts:signInWithPhoneNumber",Ko(t,r),Ss));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ns=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Z(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ts.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Es.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Cs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ju);var As=function(){function e(t){var n,r,i,a,o,u;$(this,e);var s=En(Sn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Oo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Z(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=En(Sn(e)).link,n=t?En(Sn(t)).deep_link_id:null,r=En(Sn(e)).deep_link_id;return(r?En(Sn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(LT){return null}}}]),e}();var Rs=function(){function e(){$(this,e),this.providerId=e.PROVIDER_ID}return Z(e,null,[{key:"credential",value:function(e,t){return ks._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=As.parseLink(t);return Oo(n,"argument-error"),ks._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Rs.PROVIDER_ID="password",Rs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Rs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ps=function(){function e(t){$(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Z(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Os=function(e){te(n,e);var t=ue(n);function n(){var e;return $(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Z(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Mn(this.scopes)}}]),n}(Ps),Ds=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Oo(e.idToken||e.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Oo("providerId"in t&&"signInMethod"in t,"argument-error"),_s._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(QA){return null}}}]),n}(Os),Ls=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.call(this,"facebook.com")}return Z(n,null,[{key:"credential",value:function(e){return _s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(LT){return null}}}]),n}(Os);Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ls.PROVIDER_ID="facebook.com";var Ms=function(e){te(n,e);var t=ue(n);function n(){var e;return $(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Z(n,null,[{key:"credential",value:function(e,t){return _s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(LT){return null}}}]),n}(Os);Ms.GOOGLE_SIGN_IN_METHOD="google.com",Ms.PROVIDER_ID="google.com";var Fs=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.call(this,"github.com")}return Z(n,null,[{key:"credential",value:function(e){return _s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(LT){return null}}}]),n}(Os);Fs.GITHUB_SIGN_IN_METHOD="github.com",Fs.PROVIDER_ID="github.com";var Us=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Z(n,[{key:"_getIdTokenResponse",value:function(e){return bs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ju),js=function(e){te(n,e);var t=ue(n);function n(e){return $(this,n),Oo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Z(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Us.fromJSON(e);return Oo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Us._create(r,n)}catch(QA){return null}}}]),n}(Ps),Vs=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.call(this,"twitter.com")}return Z(n,null,[{key:"credential",value:function(e,t){return _s._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(LT){return null}}}]),n}(Os);function qs(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o(t,"POST","/v1/accounts:signUp",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Vs.TWITTER_SIGN_IN_METHOD="twitter.com",Vs.PROVIDER_ID="twitter.com";var zs=function(){function e(t){$(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Z(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Un(Dn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Eu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ws(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Un(Dn().mark((function t(n,r,i){var a;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ws(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ws(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Hs(){return Hs=Un(Dn().mark((function e(t){var n,r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new zs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,qs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,zs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}var Ks=function(e){te(n,e);var t=ue(n);function n(e,r,i,a){var o,u;return $(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ae(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Z(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(gn);function Gs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ks._fromErrorAndOperation(e,n,t,r);throw n}))}function Qs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ys(e,t){return Js.apply(this,arguments)}function Js(){return Js=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=On(t),e.next=3,Zs(!0,r,n);case 3:return e.t0=iu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Qs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function $s(e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=Un(Dn().mark((function e(t,n){var r,i,a=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=hu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",zs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Zs(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yu(n);case 2:i=Qs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Oo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,hu(t,Gs(i,a,n,t),r);case 6:return Oo((o=e.sent).idToken,i,"internal-error"),Oo(u=fu(o.idToken),i,"internal-error"),s=u.sub,Oo(t.uid===s,i,"user-mismatch"),e.abrupt("return",zs._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Co(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=Un(Dn().mark((function e(t,n){var r,i,a,o,u=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Gs(t,i,n);case 4:return a=e.sent,e.next=7,zs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return(oc=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rc(Hu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=On(t),e.next=3,Zs(!1,r,n.providerId);case 3:return e.abrupt("return",$s(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return(lc=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(On(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(e,t){return hc.apply(this,arguments)}function hc(){return(hc=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$o(t,"POST","/v1/accounts:signInWithCustomToken",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dc(){return(dc=Un(Dn().mark((function e(t,n){var r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hu(t),e.next=3,fc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,zs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pc=function(){function e(t,n){$(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Z(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?vc._fromServerResponse(e,t):Co(e,"internal-error")}}]),e}(),vc=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Z(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(pc);function mc(e,t,n){var r;Oo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Oo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Oo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Oo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function yc(){return(yc=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),a={requestType:"PASSWORD_RESET",email:n},r&&mc(i,a,r),e.next=5,cs(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gc(){return(gc=Un(Dn().mark((function e(t,n,r){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$u(On(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kc(){return(kc=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(On(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bc(e,t){return wc.apply(this,arguments)}function wc(){return(wc=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=On(t),e.next=3,$u(r,{oobCode:n});case 3:i=e.sent,Oo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Oo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Oo(i.mfaInfo,r,"internal-error");case 13:Oo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=pc._fromServerResponse(Hu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(){return(_c=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc(On(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(e,t,n){return Ic.apply(this,arguments)}function Ic(){return(Ic=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hu(t),e.next=3,qs(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,zs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(){return(Tc=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),a={requestType:"EMAIL_SIGNIN",email:n},Oo(r.handleCodeInApp,i,"argument-error"),r&&mc(i,a,r),e.next=6,fs(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ec(){return(Ec=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),Oo((a=Rs.credentialWithLink(n,r||Uo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ac(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sc(e,t){return Cc.apply(this,arguments)}function Cc(){return(Cc=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:createAuthUri",Ko(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(){return(Nc=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jo()?Uo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Sc(On(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(){return(Ac=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=On(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&mc(r.auth,a,n),e.next=8,us(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(){return(Rc=Un(Dn().mark((function e(t,n,r){var i,a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&mc(i.auth,o,r),e.next=8,ds(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(e,t){return Oc.apply(this,arguments)}function Oc(){return(Oc=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(){return(Dc=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s,c;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=On(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,hu(a,Pc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(e,t,n){return Mc.apply(this,arguments)}function Mc(){return(Mc=Un(Dn().mark((function e(t,n,r){var i,a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,hu(t,Zu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fc=Z((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Uc=function(e){te(n,e);var t=ue(n);function n(e,r,i,a){var o;return $(this,n),(o=t.call(this,e,r,i)).username=a,o}return Z(n)}(Fc),jc=function(e){te(n,e);var t=ue(n);function n(e,r){return $(this,n),t.call(this,e,"facebook.com",r)}return Z(n)}(Fc),Vc=function(e){te(n,e);var t=ue(n);function n(e,r){return $(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Z(n)}(Uc),qc=function(e){te(n,e);var t=ue(n);function n(e,r){return $(this,n),t.call(this,e,"google.com",r)}return Z(n)}(Fc),Bc=function(e){te(n,e);var t=ue(n);function n(e,r,i){return $(this,n),t.call(this,e,"twitter.com",r,i)}return Z(n)}(Uc);function zc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=fu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Fc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new jc(a,i);case"github.com":return new Vc(a,i);case"google.com":return new qc(a,i);case"twitter.com":return new Bc(a,i,e.screenName||null);case"custom":case"anonymous":return new Fc(a,null);default:return new Fc(a,r,i)}}(n)}var Wc=function(){function e(t,n){$(this,e),this.type=t,this.credential=n}return Z(e,[{key:"toJSON",value:function(){return{multiFactorSession:se({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Hc=function(){function e(t,n,r){$(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Z(e,[{key:"resolveSignIn",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Hu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return pc._fromServerResponse(r,e)}));Oo(i.mfaPendingCredential,r,"internal-error");var o=Wc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Un(Dn().mark((function e(t){var a,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,zs._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Oo(n.user,r,"internal-error"),e.abrupt("return",zs._forOperation(n.user,n.operationType,u));case 17:Co(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Kc(e,t){return Go(e,"POST","/v2/accounts/mfaEnrollment:start",Ko(e,t))}var Gc=function(){function e(t){var n=this;$(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return pc._fromServerResponse(t.auth,e)})))}))}return Z(e,[{key:"getSession",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Wc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Un(Dn().mark((function e(t,n){var r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,hu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Un(Dn().mark((function e(t){var n,r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,hu(this.user,Go(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ko(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Qc=new WeakMap;var Yc="__sak",Jc=function(){function e(t,n){$(this,e),this.storageRetriever=t,this.type=n}return Z(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch(LT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var $c=function(e){te(n,e);var t=ue(n);function n(){var e;return $(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=cn();return Ou(e)||ju(e)}()&&function(){try{return!(!window||window===window.top)}catch(QA){return!1}}(),e.fallbackToPolling=Bu(),e._shouldAllowMigration=!0,e}return Z(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);qu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Un(Dn().mark((function e(t,r){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ne(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Un(Dn().mark((function e(t){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ne(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ne(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Jc);$c.type="LOCAL";var Xc=$c,Zc=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Z(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Jc);Zc.type="SESSION";var el=Zc;function tl(e){return Promise.all(e.map(function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var nl=function(){function e(t){$(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Z(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Un(Dn().mark((function e(t){var n,r,i,a,o,u,s,c;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,tl(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function rl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}nl.receivers=[];var il=function(){function e(t){$(this,e),this.target=t,this.handlers=new Set}return Z(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Un(Dn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=rl("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function al(){return window}function ol(){return"undefined"!==typeof al().WorkerGlobalScope&&"function"===typeof al().importScripts}function ul(){return sl.apply(this,arguments)}function sl(){return(sl=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function cl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ll="firebaseLocalStorageDb",fl="firebaseLocalStorage",hl="fbase_key",dl=function(){function e(t){$(this,e),this.request=t}return Z(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function pl(e,t){return e.transaction([fl],t?"readwrite":"readonly").objectStore(fl)}function vl(){var e=indexedDB.deleteDatabase(ll);return new dl(e).toPromise()}function ml(){var e=indexedDB.open(ll,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(fl,{keyPath:hl})}catch(QA){n(QA)}})),e.addEventListener("success",Un(Dn().mark((function n(){var r;return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(fl)){n.next=12;break}return r.close(),n.next=5,vl();case 5:return n.t0=t,n.next=8,ml();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function yl(e,t,n){return gl.apply(this,arguments)}function gl(){return gl=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pl(t,!0).put((se(i={},hl,n),se(i,"value",r),i)),e.abrupt("return",new dl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){return bl.apply(this,arguments)}function bl(){return bl=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pl(t,!1).get(n),e.next=3,new dl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e,t){var n=pl(e,!0).delete(t);return new dl(n).toPromise()}var _l=function(){function e(){$(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Z(e,[{key:"_openDb",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ml();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ol()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Un(Dn().mark((function e(){var t=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=nl._getInstance(ol()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Un(Dn().mark((function e(n,r){var i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Un(Dn().mark((function e(){var t,n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ul();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new il(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&cl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ml();case 5:return t=e.sent,e.next=8,yl(t,Yc,"1");case 8:return e.next=10,wl(t,Yc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Un(Dn().mark((function e(t,n){var r=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return yl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return kl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Un(Dn().mark((function e(t){var n=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return wl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Un(Dn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=pl(e,!1).getAll();return new dl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=$t(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(Wt){i.e(Wt)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Un(Dn().mark((function t(){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();_l.type="LOCAL";var xl=_l;function Il(e,t){return Go(e,"POST","/v2/accounts/mfaSignIn:start",Ko(e,t))}function Tl(e){return El.apply(this,arguments)}function El(){return(El=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=No("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Cl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Nl=1e12,Al=function(){function e(t){$(this,e),this.auth=t,this.counter=Nl,this._widgets=new Map}return Z(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Rl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Nl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Nl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Nl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rl=function(){function e(t,n,r){var i=this;$(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Oo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Z(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(QA){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(QA){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Pl=Cl("rcb"),Ol=new qo(3e4,6e4),Dl="https://www.google.com/recaptcha/api.js?",Ll=function(){function e(){$(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!al().grecaptcha}return Z(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Oo(Ml(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(al().grecaptcha):new Promise((function(r,i){var a=al().setTimeout((function(){i(No(e,"network-request-failed"))}),Ol.get());al()[Pl]=function(){al().clearTimeout(a),delete al()[Pl];var o=al().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(No(e,"internal-error"))},Sl("".concat(Dl,"?").concat(Tn({onload:Pl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(No(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!al().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ml(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Fl=function(){function e(){$(this,e)}return Z(e,[{key:"load",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Al(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ul="recaptcha",jl={theme:"light",type:"image"},Vl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},jl),r=arguments.length>2?arguments[2]:void 0;$(this,e),this.parameters=n,this.type=Ul,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hu(r),this.isInvisible="invisible"===this.parameters.size,Oo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Oo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fl:new Ll,this.validateStartingState()}return Z(e,[{key:"verify",value:function(){var e=Un(Dn().mark((function e(){var t,n,r,i=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(QA){return Promise.reject(QA)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Oo(!this.parameters.sitekey,this.auth,"argument-error"),Oo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=al()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Oo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Un(Dn().mark((function e(){var t,n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oo(jo()&&!ol(),this.auth,"internal-error"),e.next=3,ql();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Tl(this.auth);case 8:Oo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Oo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ql(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Bl=function(){function e(t,n){$(this,e),this.verificationId=t,this.onConfirmation=n}return Z(e,[{key:"confirm",value:function(e){var t=Ns._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function zl(){return(zl=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hu(t),e.next=3,Gl(i,n,On(r));case 3:return a=e.sent,e.abrupt("return",new Bl(a,(function(e){return ac(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t,n){return Hl.apply(this,arguments)}function Hl(){return(Hl=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),e.next=3,Zs(!1,i,"phone");case 3:return e.next=5,Gl(i.auth,n,On(r));case 5:return a=e.sent,e.abrupt("return",new Bl(a,(function(e){return uc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(){return(Kl=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=On(t),e.next=3,Gl(i.auth,n,On(r));case 3:return a=e.sent,e.abrupt("return",new Bl(a,(function(e){return cc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(e,t,n){return Ql.apply(this,arguments)}function Ql(){return Ql=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Oo("string"===typeof a,t,"argument-error"),Oo(r.type===Ul,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Oo("enroll"===u.type,t,"internal-error"),e.next=13,Kc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Oo("signin"===u.type,t,"internal-error"),Oo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Il(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,xs(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ql.apply(this,arguments)}function Yl(){return(Yl=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(On(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jl=function(){function e(t){$(this,e),this.providerId=e.PROVIDER_ID,this.auth=Hu(t)}return Z(e,[{key:"verifyPhoneNumber",value:function(e,t){return Gl(this.auth,e,On(t))}}],[{key:"credential",value:function(e,t){return Ns._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ns._fromTokenResponse(n,r):null}}]),e}();function $l(e,t){return t?Fo(t):(Oo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Jl.PROVIDER_ID="phone",Jl.PHONE_SIGN_IN_METHOD="phone";var Xl=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Z(n,[{key:"_getIdTokenResponse",value:function(e){return bs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return bs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return bs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ju);function Zl(e){return rc(e.auth,new Xl(e),e.bypassAuthState)}function ef(e){var t=e.auth,n=e.user;return Oo(n,t,"internal-error"),tc(n,new Xl(e),e.bypassAuthState)}function tf(e){return nf.apply(this,arguments)}function nf(){return(nf=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Oo(r=t.user,n,"internal-error"),e.abrupt("return",$s(r,new Xl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];$(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Z(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Un(Dn().mark((function t(n,r){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Un(Dn().mark((function e(t){var n,r,i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zl;case"linkViaPopup":case"linkViaRedirect":return tf;case"reauthViaPopup":case"reauthViaRedirect":return ef;default:Co(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),af=new qo(2e3,1e4);function of(e,t,n){return uf.apply(this,arguments)}function uf(){return(uf=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hu(t),Ro(t,n,Ps),a=$l(i,r),o=new ff(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(){return(sf=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=On(t)).auth,n,Ps),a=$l(i.auth,r),o=new ff(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(e,t,n){return lf.apply(this,arguments)}function lf(){return(lf=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=On(t)).auth,n,Ps),a=$l(i.auth,r),o=new ff(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ff=function(e){te(n,e);var t=ue(n);function n(e,r,i,a,o){var u;return $(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ae(u),u}return Z(n,[{key:"executeNotNull",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Oo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Un(Dn().mark((function e(){var t,n=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo(1===this.filter.length,"Popup operations only handle one event"),t=rl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(No(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(No(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(No(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,af.get())}()}}]),n}(rf);ff.currentPopupAction=null;var hf=new Map,df=function(e){te(n,e);var t=ue(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return $(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Z(n,[{key:"execute",value:function(){var e=Un(Dn().mark((function e(){var t,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=hf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,pf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,uo(ne(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:hf.set(this.auth._key(),t);case 21:return this.bypassAuthState||hf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Un(Dn().mark((function e(t){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",uo(ne(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",uo(ne(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(rf);function pf(e,t){return vf.apply(this,arguments)}function vf(){return vf=Un(Dn().mark((function e(t,n){var r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kf(n),i=gf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function mf(e,t){return yf.apply(this,arguments)}function yf(){return(yf=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gf(t)._set(kf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gf(e){return Fo(e._redirectPersistence)}function kf(e){return Nu("pendingRedirect",e.config.apiKey,e.name)}function bf(e,t,n){return function(e,t,n){return wf.apply(this,arguments)}(e,t,n)}function wf(){return(wf=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hu(t),Ro(t,n,Ps),a=$l(i,r),e.next=5,mf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e,t,n){return function(e,t,n){return xf.apply(this,arguments)}(e,t,n)}function xf(){return(xf=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=On(t)).auth,n,Ps),a=$l(i.auth,r),e.next=5,mf(a,i.auth);case 5:return e.next=7,Af(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function If(e,t,n){return function(e,t,n){return Tf.apply(this,arguments)}(e,t,n)}function Tf(){return(Tf=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=On(t)).auth,n,Ps),a=$l(i.auth,r),e.next=5,Zs(!1,i,n.providerId);case 5:return e.next=7,mf(a,i.auth);case 7:return e.next=9,Af(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ef(e,t){return Sf.apply(this,arguments)}function Sf(){return(Sf=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hu(t)._initializationPromise;case 2:return e.abrupt("return",Cf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(e,t){return Nf.apply(this,arguments)}function Nf(){return Nf=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Hu(t),a=$l(i,n),o=new df(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Af(e){return Rf.apply(this,arguments)}function Rf(){return(Rf=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pf=function(){function e(t){$(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Z(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Df(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Df(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(No(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Of(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Of(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Of(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Df(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Lf(e){return Mf.apply(this,arguments)}function Mf(){return Mf=Un(Dn().mark((function e(t){var n,r=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Go(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}var Ff=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uf=/^https?/;function jf(){return(jf=Un(Dn().mark((function e(t){var n,r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lf(t);case 4:n=e.sent,r=n.authorizedDomains,i=$t(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Vf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Co(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Vf(e){var t=Uo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Uf.test(r))return!1;if(Ff.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var qf=new qo(3e4,6e4);function Bf(){var e=al().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Mn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var zf=null;function Wf(e){return zf=zf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Bf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Bf(),n(No(e,"network-request-failed"))},timeout:qf.get()})}if(null===(i=null===(r=al().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=al().gapi)||void 0===a?void 0:a.load)){var u=Cl("iframefcb");return al()[u]=function(){gapi.load?o():n(No(e,"network-request-failed"))},Sl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw zf=null,e}))}(e),zf}var Hf=new qo(5e3,15e3),Kf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qf(e){var t=e.config;Oo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Bo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:gr},i=Gf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Tn(r).slice(1))}function Yf(e){return Jf.apply(this,arguments)}function Jf(){return Jf=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wf(t);case 2:return n=e.sent,Oo(r=al().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Qf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kf,dontclear:!0},(function(e){return new Promise(function(){var n=Un(Dn().mark((function n(r,i){var a,o,u;return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){al().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=No(t,"network-request-failed"),o=al().setTimeout((function(){i(a)}),Hf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}var $f={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xf="_blank",Zf="http://localhost",eh=function(){function e(t){$(this,e),this.window=t,this.associatedEvent=null}return Z(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(QA){}}}]),e}();function th(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},$f),{width:r.toString(),height:i.toString(),top:a,left:o}),l=cn().toLowerCase();n&&(u=Du(l)?Xf:n),Pu(l)&&(t=t||Zf,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Vu(l)&&"_self"!==u)return nh(t||"",u),new eh(null);var h=window.open(t||"",u,f);Oo(h,e,"popup-blocked");try{h.focus()}catch(QA){}return new eh(h)}function nh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rh="__/auth/handler",ih="emulator/auth/handler";function ah(e,t,n,r,i,a){Oo(e.config.authDomain,e,"auth-domain-config-required"),Oo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gr,eventId:i};if(t instanceof Ps){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Os){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rh);return Bo(t,ih)}(e),"?").concat(Tn(p).slice(1))}var oh="webStorageSupport",uh=function(){function e(){$(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=el,this._completeRedirectFn=Cf}return Z(e,[{key:"_openPopup",value:function(){var e=Un(Dn().mark((function e(t,n,r,i){var a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ah(t,n,r,Uo(),i),e.abrupt("return",th(t,o,rl()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Un(Dn().mark((function e(t,n,r,i){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ah(t,n,r,Uo(),i),al().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Lo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf(t);case 2:return n=e.sent,r=new Pf(t),n.register("authEvent",(function(e){return Oo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(oh,{type:oh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Co(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return jf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Bu()||Ou()||ju()}}]),e}(),sh=uh,ch=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this,"phone")).credential=e,r}return Z(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Go(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ko(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Go(e,"POST","/v2/accounts/mfaSignIn:finalize",Ko(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){$(this,e),this.factorId=t}return Z(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Do("unexpected MultiFactorSessionType")}}}]),e}()),lh=function(){function e(){$(this,e)}return Z(e,null,[{key:"assertion",value:function(e){return ch._fromCredential(e)}}]),e}();lh.FACTOR_ID="phone";var fh,hh="@firebase/auth",dh="0.19.4",ph=function(){function e(t){$(this,e),this.auth=t,this.internalListeners=new Map}return Z(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Oo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function vh(){return window}fh="Browser",cr(new jn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Oo(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Oo(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:fh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zu(fh)},r=new Wu(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),cr(new jn("auth-internal",(function(e){return function(e){return new ph(e)}(Hu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(hh,dh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fh)),Ir(hh,dh,"esm2017");function mh(e,t,n){return yh.apply(this,arguments)}function yh(){return yh=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vh(),o=a.BuildInfo,Lo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,xh(n.sessionId);case 4:return u=e.sent,s={},ju()?s.ibi=o.packageName:Mu()?s.apn=o.packageName:Co(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ah(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),yh.apply(this,arguments)}function gh(){return(gh=Un(Dn().mark((function e(t){var n,r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vh(),r=n.BuildInfo,i={},ju()?i.iosBundleId=r.packageName:Mu()?i.androidPackageName=r.packageName:Co(t,"operation-not-supported-in-this-environment"),e.next=5,Lf(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kh(e){var t=vh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function bh(e,t,n){return wh.apply(this,arguments)}function wh(){return wh=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(No(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Mu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),wh.apply(this,arguments)}function _h(e){var t,n,r,i,a,o,u,s,c,l,f=vh();Oo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function xh(e){return Ih.apply(this,arguments)}function Ih(){return(Ih=Un(Dn().mark((function e(t){var n,r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Th(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(e){if(Lo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Eh=function(e){te(n,e);var t=ue(n);function n(){var e;return $(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Z(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),uo(ne(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Pf);function Sh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Ph(),postBody:null,tenantId:e.tenantId,error:No(e,"no-auth-event")}}function Ch(e,t){return Oh()._set(Dh(e),t)}function Nh(e){return Ah.apply(this,arguments)}function Ah(){return(Ah=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oh()._get(Dh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Oh()._remove(Dh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rh(e,t){var n,r,i=function(e){var t=Lh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Lh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Lh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Lh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(QA){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?No(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ph(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Oh(){return Fo(Xc)}function Dh(e){return Nu("authEvent",e.config.apiKey,e.name)}function Lh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Ln(t)||u(t)||s();r[0];return En(r.slice(1).join("?"))}var Mh=function(){function e(){$(this,e),this._redirectPersistence=el,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cf}return Z(e,[{key:"_initialize",value:function(){var e=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Eh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Co(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Un(Dn().mark((function e(t,n,r,i){var a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _h(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),hf.clear(),e.next=10,this._originValidation(t);case 10:return o=Sh(t,r,i),e.next=13,Ch(t,o);case 13:return e.next=15,mh(t,o,n);case 15:return u=e.sent,e.next=18,kh(u);case 18:return s=e.sent,e.abrupt("return",bh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=vh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Un(Dn().mark((function n(){return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Nh(e);case 2:t.onEvent(Uh());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Un(Dn().mark((function n(r){var i,a;return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Nh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Rh(i,r.url)),t.onEvent(a||Uh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");vh().handleOpenURL=function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(QA){console.error(QA)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Fh=Mh;function Uh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:No("no-auth-event")}}function jh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Vh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return!("file:"!==jh()&&"ionic:"!==jh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function qh(){return pn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Bh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return/Edge\/\d+/.test(e)}function zh(){try{var e=self.localStorage,t=rl();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn();return qh()||Bh(e)}()||vn()}catch(QA){return Wh()&&vn()}return!1}function Wh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Hh(){return("http:"===jh()||"https:"===jh()||hn()||Vh())&&!(dn()||fn())&&zh()&&!Wh()}function Kh(){return Vh()&&"undefined"!==typeof document}function Gh(){return Qh.apply(this,arguments)}function Qh(){return(Qh=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yh={LOCAL:"local",NONE:"none",SESSION:"session"},Jh=Oo,$h="persistence";function Xh(e,t){Jh(Object.values(Yh).includes(t),e,"invalid-persistence-type"),dn()?Jh(t!==Yh.SESSION,e,"unsupported-persistence-type"):fn()?Jh(t===Yh.NONE,e,"unsupported-persistence-type"):Wh()?Jh(t===Yh.NONE||t===Yh.LOCAL&&vn(),e,"unsupported-persistence-type"):Jh(t===Yh.NONE||zh(),e,"unsupported-persistence-type")}function Zh(e){return ed.apply(this,arguments)}function ed(){return ed=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=td(),r=Nu($h,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(){return"undefined"!==typeof window?window:null}var nd=Oo,rd=function(){function e(){$(this,e),this.browserResolver=Fo(sh),this.cordovaResolver=Fo(Fh),this.underlyingResolver=null,this._redirectPersistence=el,this._completeRedirectFn=Cf}return Z(e,[{key:"_initialize",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Un(Dn().mark((function e(t,n,r,i){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Un(Dn().mark((function e(t,n,r,i){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Kh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return nd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function id(e){return e.unwrap()}function ad(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new ld(e,function(e,t){var n,r=On(e),i=t;return Oo(t.customData.operationType,r,"argument-error"),Oo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Hc._fromError(r,i)}(e,t));else if(r){var i=od(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function od(e){var t=(e instanceof gn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof gn)&&"temporaryProof"in t&&"phoneNumber"in t)return Jl.credentialFromResult(e);var n,r=t.providerId;if(!r||r===po)return null;switch(r){case ho:n=Ms;break;case lo:n=Ls;break;case fo:n=Fs;break;case vo:n=Vs;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Us._create(r,u):_s._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ds(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof gn?n.credentialFromError(e):n.credentialFromResult(e)}function ud(e,t){return t.catch((function(t){throw t instanceof gn&&ad(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,od(t)),additionalUserInfo:zc(e),user:fd.getOrCreate(r)}}))}function sd(e,t){return cd.apply(this,arguments)}function cd(){return(cd=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ud(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ld=function(){function e(t,n){$(this,e),this.resolver=n,this.auth=t.wrapped()}return Z(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ud(id(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),fd=function(){function e(t){$(this,e),this._delegate=t,this.multiFactor=function(e){var t=On(e);return Qc.has(t)||Qc.set(t,Gc._fromUser(t)),Qc.get(t)}(t)}return Z(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(this.auth,uc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sd(this.auth,Wl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(this.auth,cf(this._delegate,t,rd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zh(Hu(this.auth));case 2:return e.abrupt("return",If(this._delegate,t,rd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(this.auth,cc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return sd(this.auth,function(e,t,n){return Kl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ud(this.auth,function(e,t,n){return sf.apply(this,arguments)}(this._delegate,e,rd))}},{key:"reauthenticateWithRedirect",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zh(Hu(this.auth));case 2:return e.abrupt("return",_f(this._delegate,t,rd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ac.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Lc(On(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Lc(On(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Yl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Dc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Rc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();fd.USER_MAP=new WeakMap;var hd=Oo,dd=function(){function e(t,n){if($(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;hd(r,"invalid-api-key",{appName:t.name});var i=[Cu];if("undefined"!==typeof window){i=function(e,t){var n=td();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Nu($h,e,t);switch(n.sessionStorage.getItem(r)){case Yh.NONE:return[Cu];case Yh.LOCAL:return[xl,el];case Yh.SESSION:return[el];default:return[]}}(r,t.name);for(var a=0,o=[xl,Xc,el];a<o.length;a++){var u=o[a];i.includes(u)||i.push(u)}}hd(r,"invalid-api-key",{appName:t.name});var s="undefined"!==typeof window?rd:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:s}}),this._delegate._updateErrorMap(xo),this.linkUnderlyingAuth()}return Z(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?fd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Gu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return kc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return bc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return gc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ud(this._delegate,xc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Nc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=As.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hd(Hh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ef(this._delegate,rd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ud(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Hu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=pd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=pd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Tc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return yc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xh(this._delegate,t),e.t0=t,e.next=e.t0===Yh.SESSION?4:e.t0===Yh.LOCAL?6:e.t0===Yh.NONE?11:13;break;case 4:return n=el,e.abrupt("break",14);case 6:return e.next=8,Fo(xl)._isAvailable();case 8:return r=e.sent,n=r?xl:Xc,e.abrupt("break",14);case 11:return n=Cu,e.abrupt("break",14);case 13:return e.abrupt("return",Co("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ud(this._delegate,function(e){return Hs.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ud(this._delegate,ac(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ud(this._delegate,function(e,t){return dc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ud(this._delegate,function(e,t,n){return ac(On(e),Rs.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ud(this._delegate,function(e,t,n){return Ec.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return sd(this._delegate,function(e,t,n){return zl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hd(Hh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ud(this._delegate,of(this._delegate,t,rd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hd(Hh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Zh(this._delegate);case 3:return e.abrupt("return",bf(this._delegate,t,rd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return _c.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function pd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&fd.getOrCreate(e))},error:t,complete:n}}dd.Persistence=Yh;var vd=function(){function e(){$(this,e),this.providerId="phone",this._delegate=new Jl(id(Or.auth()))}return Z(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Jl.credential(e,t)}}]),e}();vd.PHONE_SIGN_IN_METHOD=Jl.PHONE_SIGN_IN_METHOD,vd.PROVIDER_ID=Jl.PROVIDER_ID;var md,yd=Oo,gd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Or.app();$(this,e),yd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Vl(t,n,i.auth()),this.type=this._delegate.type}return Z(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(md=Or).INTERNAL.registerComponent(new jn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new dd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:mo,PASSWORD_RESET:yo,RECOVER_EMAIL:go,REVERT_SECOND_FACTOR_ADDITION:ko,VERIFY_AND_CHANGE_EMAIL:bo,VERIFY_EMAIL:wo}},EmailAuthProvider:Rs,FacebookAuthProvider:Ls,GithubAuthProvider:Fs,GoogleAuthProvider:Ms,OAuthProvider:Ds,SAMLAuthProvider:js,PhoneAuthProvider:vd,PhoneMultiFactorGenerator:lh,RecaptchaVerifier:gd,TwitterAuthProvider:Vs,Auth:dd,AuthCredential:Ju,Error:gn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),md.registerVersion("@firebase/auth-compat","0.2.4");var kd,bd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},wd={},_d=_d||{},xd=bd||self;function Id(){}function Td(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ed(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Sd="closure_uid_"+(1e9*Math.random()>>>0),Cd=0;function Nd(e,t,n){return e.call.apply(e.bind,arguments)}function Ad(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Rd(e,t,n){return(Rd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nd:Ad).apply(null,arguments)}function Pd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Od(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Dd(){this.s=this.s,this.o=this.o}var Ld={};Dd.prototype.s=!1,Dd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Sd)&&e[Sd]||(e[Sd]=++Cd)}(this);delete Ld[e]}},Dd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Md=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Fd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ud(e){return Array.prototype.concat.apply([],arguments)}function jd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vd(e){return/^[\s\xa0]*$/.test(e)}var qd,Bd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function zd(e,t){return-1!=e.indexOf(t)}function Wd(e,t){return e<t?-1:e>t?1:0}e:{var Hd=xd.navigator;if(Hd){var Kd=Hd.userAgent;if(Kd){qd=Kd;break e}}qd=""}function Gd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Qd(e){var t={};for(var n in e)t[n]=e[n];return t}var Yd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Yd.length;a++)n=Yd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $d(e){return $d[" "](e),e}$d[" "]=Id;var Xd,Zd=zd(qd,"Opera"),ep=zd(qd,"Trident")||zd(qd,"MSIE"),tp=zd(qd,"Edge"),np=tp||ep,rp=zd(qd,"Gecko")&&!(zd(qd.toLowerCase(),"webkit")&&!zd(qd,"Edge"))&&!(zd(qd,"Trident")||zd(qd,"MSIE"))&&!zd(qd,"Edge"),ip=zd(qd.toLowerCase(),"webkit")&&!zd(qd,"Edge");function ap(){var e=xd.document;return e?e.documentMode:void 0}e:{var op="",up=function(){var e=qd;return rp?/rv:([^\);]+)(\)|;)/.exec(e):tp?/Edge\/([\d\.]+)/.exec(e):ep?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ip?/WebKit\/(\S+)/.exec(e):Zd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(up&&(op=up?up[1]:""),ep){var sp=ap();if(null!=sp&&sp>parseFloat(op)){Xd=String(sp);break e}}Xd=op}var cp,lp={};function fp(){return function(e){var t=lp;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Bd(String(Xd)).split("."),n=Bd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Wd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Wd(0==a[2].length,0==o[2].length)||Wd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(xd.document&&ep){var hp=ap();cp=hp||(parseInt(Xd,10)||void 0)}else cp=void 0;var dp=cp,pp=function(){if(!xd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{xd.addEventListener("test",Id,t),xd.removeEventListener("test",Id,t)}catch(n){}return e}();function vp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function mp(e,t){if(vp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rp){e:{try{$d(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mp.Z.h.call(this)}}vp.prototype.h=function(){this.defaultPrevented=!0},Od(mp,vp);var yp={2:"touch",3:"pen",4:"mouse"};mp.prototype.h=function(){mp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gp="closure_listenable_"+(1e6*Math.random()|0),kp=0;function bp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++kp,this.ca=this.fa=!1}function wp(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _p(e){this.src=e,this.g={},this.h=0}function xp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Md(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(wp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ip(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}_p.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ip(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new bp(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Tp="closure_lm_"+(1e6*Math.random()|0),Ep={};function Sp(e,t,n,r,i){if(r&&r.once)return Np(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Sp(e,t[a],n,r,i);return null}return n=Mp(n),e&&e[gp]?e.N(t,n,Ed(r)?!!r.capture:!!r,i):Cp(e,t,n,!1,r,i)}function Cp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ed(i)?!!i.capture:!!i,u=Dp(e);if(u||(e[Tp]=u=new _p(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Op;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Np(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Np(e,t[a],n,r,i);return null}return n=Mp(n),e&&e[gp]?e.O(t,n,Ed(r)?!!r.capture:!!r,i):Cp(e,t,n,!0,r,i)}function Ap(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ap(e,t[a],n,r,i);else r=Ed(r)?!!r.capture:!!r,n=Mp(n),e&&e[gp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ip(a=e.g[t],n,r,i))&&(wp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Dp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ip(t,n,r,i)),(n=-1<e?t[e]:null)&&Rp(n))}function Rp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[gp])xp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dp(t))?(xp(n,e),0==n.h&&(n.src=null,t[Tp]=null)):wp(e)}}}function Pp(e){return e in Ep?Ep[e]:Ep[e]="on"+e}function Op(e,t){if(e.ca)e=!0;else{t=new mp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Rp(e),e=n.call(r,t)}return e}function Dp(e){return(e=e[Tp])instanceof _p?e:null}var Lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mp(e){return"function"===typeof e?e:(e[Lp]||(e[Lp]=function(t){return e.handleEvent(t)}),e[Lp])}function Fp(){Dd.call(this),this.i=new _p(this),this.P=this,this.I=null}function Up(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new vp(t,e);else if(t instanceof vp)t.target=t.target||e;else{var i=t;Jd(t=new vp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jp(o,r,!0,t)&&i}if(i=jp(o=t.g=e,r,!0,t)&&i,i=jp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jp(o=t.g=n[a],r,!1,t)&&i}function jp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&xp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Od(Fp,Dd),Fp.prototype[gp]=!0,Fp.prototype.removeEventListener=function(e,t,n,r){Ap(this,e,t,n,r)},Fp.prototype.M=function(){if(Fp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wp(n[r]);delete t.g[e],t.h--}}this.I=null},Fp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Fp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vp=xd.JSON.stringify;function qp(){var e=Yp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bp,zp=function(){function e(){$(this,e),this.h=this.g=null}return Z(e,[{key:"add",value:function(e,t){var n=Wp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Wp=new(function(){function e(t,n){$(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Z(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Hp}),(function(e){return e.reset()})),Hp=function(){function e(){$(this,e),this.next=this.g=this.h=null}return Z(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Kp(e){xd.setTimeout((function(){throw e}),0)}function Gp(e,t){Bp||function(){var e=xd.Promise.resolve(void 0);Bp=function(){e.then(Jp)}}(),Qp||(Bp(),Qp=!0),Yp.add(e,t)}var Qp=!1,Yp=new zp;function Jp(){for(var e;e=qp();){try{e.h.call(e.g)}catch(n){Kp(n)}var t=Wp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qp=!1}function $p(e,t){Fp.call(this),this.h=e||1,this.g=t||xd,this.j=Rd(this.kb,this),this.l=Date.now()}function Xp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Zp(e,t,n){if("function"===typeof e)n&&(e=Rd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Rd(e.handleEvent,e)}return 2147483647<Number(t)?-1:xd.setTimeout(e,t||0)}function ev(e){e.g=Zp((function(){e.g=null,e.i&&(e.i=!1,ev(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Od($p,Fp),(kd=$p.prototype).da=!1,kd.S=null,kd.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Up(this,"tick"),this.da&&(Xp(this),this.start()))}},kd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kd.M=function(){$p.Z.M.call(this),Xp(this),delete this.g};var tv=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Z(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ev(this)}},{key:"M",value:function(){uo(ne(n.prototype),"M",this).call(this),this.g&&(xd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Dd);function nv(e){Dd.call(this),this.h=e,this.g={}}Od(nv,Dd);var rv=[];function iv(e,t,n,r){Array.isArray(n)||(n&&(rv[0]=n.toString()),n=rv);for(var i=0;i<n.length;i++){var a=Sp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function av(e){Gd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rp(e)}),e),e.g={}}function ov(){this.g=!0}function uv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Vp(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}nv.prototype.M=function(){nv.Z.M.call(this),av(this)},nv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ov.prototype.Aa=function(){this.g=!1},ov.prototype.info=function(){};var sv={},cv=null;function lv(){return cv=cv||new Fp}function fv(e){vp.call(this,sv.Ma,e)}function hv(e){var t=lv();Up(t,new fv(t,e))}function dv(e,t){vp.call(this,sv.STAT_EVENT,e),this.stat=t}function pv(e){var t=lv();Up(t,new dv(t,e))}function vv(e,t){vp.call(this,sv.Na,e),this.size=t}function mv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xd.setTimeout((function(){e()}),t)}sv.Ma="serverreachability",Od(fv,vp),sv.STAT_EVENT="statevent",Od(dv,vp),sv.Na="timingevent",Od(vv,vp);var yv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kv(){}function bv(e){return e.h||(e.h=e.i())}function wv(){}kv.prototype.h=null;var _v,xv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Iv(){vp.call(this,"d")}function Tv(){vp.call(this,"c")}function Ev(){}function Sv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new nv(this),this.P=Nv,e=np?125:void 0,this.W=new $p(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Cv}function Cv(){this.i=null,this.g="",this.h=!1}Od(Iv,vp),Od(Tv,vp),Od(Ev,kv),Ev.prototype.g=function(){return new XMLHttpRequest},Ev.prototype.i=function(){return{}},_v=new Ev;var Nv=45e3,Av={},Rv={};function Pv(e,t,n){e.K=1,e.v=tm(Yv(t)),e.s=n,e.U=!0,Ov(e,null)}function Ov(e,t){e.F=Date.now(),Fv(e),e.A=Yv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),pm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Cv,e.g=my(e.l,n?t:null,!e.s),0<e.O&&(e.L=new tv(Rd(e.Ia,e,e.g),e.O)),iv(e.V,e.g,"readystatechange",e.gb),t=e.H?Qd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hv(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Dv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Lv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Mv(e,n))==Rv){4==t&&(e.o=4,pv(14),i=!1),uv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Av){e.o=4,pv(15),uv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}uv(e.j,e.m,r,null),Bv(e,r)}Dv(e)&&r!=Rv&&r!=Av&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),sy(t),t.L=!0,pv(11))):(uv(e.j,e.m,n,"[Invalid Chunked Response]"),qv(e),Vv(e))}function Mv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Rv:(n=Number(t.substring(n,r)),isNaN(n)?Av:(r+=1)+n>t.length?Rv:(t=t.substr(r,n),e.C=r+n,t))}function Fv(e){e.Y=Date.now()+e.P,Uv(e,e.P)}function Uv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mv(Rd(e.eb,e),t)}function jv(e){e.B&&(xd.clearTimeout(e.B),e.B=null)}function Vv(e){0==e.l.G||e.I||fy(e.l,e)}function qv(e){jv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xp(e.W),av(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_m(n.i,e)))if(n.I=e.N,!e.J&&_m(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ly(n),Zm(n)}uy(n),pv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=mv(Rd(n.ab,n),6e3));if(1>=wm(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else dy(n,11)}else if((e.J||n.g==e)&&ly(n),!Vd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(zd(l,"spdy")||zd(l,"quic")||zd(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(xm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,em(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=vy(r,r.H?r.la:null,r.W),d.J){Im(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(jv(p),Fv(p)),r.g=d}else oy(r);0<n.l.length&&ny(n)}else"stop"!=a[0]&&"close"!=a[0]||dy(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?dy(n,7):Xm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}hv(4)}catch(a){}}function zv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Td(e)||"string"===typeof e)Fd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Td(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Td(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Wv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Hv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Kv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Kv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Kv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(kd=Sv.prototype).setTimeout=function(e){this.P=e},kd.gb=function(e){e=e.target;var t=this.L;t&&3==Gm(e)?t.l():this.Ia(e)},kd.Ia=function(e){try{if(e==this.g)e:{var t=Gm(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||np||this.g&&(this.h.h||this.g.ga()||Qm(this.g)))){this.I||4!=t||7==n||hv(8==n||0>=r?3:2),jv(this);var i=this.g.ba();this.N=i;t:if(Dv(this)){var a=Qm(this.g);e="";var o=a.length,u=4==Gm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){qv(this),Vv(this);var s="";break t}this.h.i=new xd.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,pv(12),qv(this),Vv(this);break e}uv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bv(this,i)}this.U?(Lv(this,t,s),np&&this.i&&3==t&&(iv(this.V,this.W,"tick",this.fb),this.W.start())):(uv(this.j,this.m,s,null),Bv(this,s)),4==t&&qv(this),this.i&&!this.I&&(4==t?fy(this.l,this):(this.i=!1,Fv(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,pv(12)):(this.o=0,pv(13)),qv(this),Vv(this)}}}catch(t){}},kd.fb=function(){if(this.g){var e=Gm(this.g),t=this.g.ga();this.C<t.length&&(jv(this),Lv(this,e,t),this.i&&4!=e&&Fv(this))}},kd.cancel=function(){this.I=!0,qv(this)},kd.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hv(3),pv(17)),qv(this),this.o=2,Vv(this)):Uv(this,this.Y-e)},(kd=Wv.prototype).R=function(){Hv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},kd.T=function(){return Hv(this),this.g.concat()},kd.get=function(e,t){return Kv(this.h,e)?this.h[e]:t},kd.set=function(e,t){Kv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},kd.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Gv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qv(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Qv){this.g=void 0!==t?t:e.g,Jv(this,e.j),this.s=e.s,$v(this,e.i),Xv(this,e.m),this.l=e.l,t=e.h;var n=new lm;n.i=t.i,t.g&&(n.g=new Wv(t.g),n.h=t.h),Zv(this,n),this.o=e.o}else e&&(n=String(e).match(Gv))?(this.g=!!t,Jv(this,n[1]||"",!0),this.s=nm(n[2]||""),$v(this,n[3]||"",!0),Xv(this,n[4]),this.l=nm(n[5]||"",!0),Zv(this,n[6]||"",!0),this.o=nm(n[7]||"")):(this.g=!!t,this.h=new lm(null,this.g))}function Yv(e){return new Qv(e)}function Jv(e,t,n){e.j=n?nm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $v(e,t,n){e.i=n?nm(t,!0):t}function Xv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zv(e,t,n){t instanceof lm?(e.h=t,function(e,t){t&&!e.j&&(fm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hm(this,t),pm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=rm(t,sm)),e.h=new lm(t,e.g))}function em(e,t,n){e.h.set(t,n)}function tm(e){return em(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,im),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function im(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Qv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rm(t,am,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rm(t,am,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(rm(n,"/"==n.charAt(0)?um:om,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rm(n,cm)),e.join("")};var am=/[#\/\?@]/g,om=/[#\?:]/g,um=/[#\?]/g,sm=/[#\?@]/g,cm=/#/g;function lm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fm(e){e.g||(e.g=new Wv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hm(e,t){fm(e),t=vm(e,t),Kv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Kv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Hv(e)))}function dm(e,t){return fm(e),t=vm(e,t),Kv(e.g.h,t)}function pm(e,t,n){hm(e,t),0<n.length&&(e.i=null,e.g.set(vm(e,t),jd(n)),e.h+=n.length)}function vm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(kd=lm.prototype).add=function(e,t){fm(this),this.i=null,e=vm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},kd.forEach=function(e,t){fm(this),this.g.forEach((function(n,r){Fd(n,(function(n){e.call(t,n,r,this)}),this)}),this)},kd.T=function(){fm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},kd.R=function(e){fm(this);var t=[];if("string"===typeof e)dm(this,e)&&(t=Ud(t,this.g.get(vm(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ud(t,e[n])}return t},kd.set=function(e,t){return fm(this),this.i=null,dm(this,e=vm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},kd.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},kd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var mm=Z((function e(t,n){$(this,e),this.h=t,this.g=n}));function ym(e){this.l=e||km,xd.PerformanceNavigationTiming?e=0<(e=xd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xd.g&&xd.g.Ea&&xd.g.Ea()&&xd.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gm,km=10;function bm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wm(e){return e.h?1:e.g?e.g.size:0}function _m(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xm(e,t){e.g?e.g.add(t):e.h=t}function Im(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Tm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$t(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(Wt){r.e(Wt)}finally{r.f()}return n}return jd(e.i)}function Em(){}function Sm(){this.g=new Em}function Cm(e,t,n){var r=n||"";try{zv(e,(function(e,n){var i=e;Ed(e)&&(i=Vp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(QA){throw t.push(r+"type="+encodeURIComponent("_badmap")),QA}}function Nm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Am(e){this.l=e.$b||null,this.j=e.ib||!1}function Rm(e,t){Fp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Pm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ym.prototype.cancel=function(){if(this.i=Tm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$t(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(Wt){t.e(Wt)}finally{t.f()}this.g.clear()}},Em.prototype.stringify=function(e){return xd.JSON.stringify(e,void 0)},Em.prototype.parse=function(e){return xd.JSON.parse(e,void 0)},Od(Am,kv),Am.prototype.g=function(){return new Rm(this.l,this.j)},Am.prototype.i=(gm={},function(){return gm}),Od(Rm,Fp);var Pm=0;function Om(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Dm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Lm(e)}function Lm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(kd=Rm.prototype).open=function(e,t){if(this.readyState!=Pm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Lm(this)},kd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||xd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},kd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dm(this)),this.readyState=Pm},kd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lm(this)),this.g&&(this.readyState=3,Lm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof xd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Om(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},kd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dm(this):Lm(this),3==this.readyState&&Om(this)}},kd.Ua=function(e){this.g&&(this.response=this.responseText=e,Dm(this))},kd.Ta=function(e){this.g&&(this.response=e,Dm(this))},kd.ha=function(){this.g&&Dm(this)},kd.setRequestHeader=function(e,t){this.v.append(e,t)},kd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},kd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mm=xd.JSON.parse;function Fm(e){Fp.call(this),this.headers=new Wv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Um,this.K=this.L=!1}Od(Fm,Fp);var Um="",jm=/^https?$/i,Vm=["POST","PUT"];function qm(e){return"content-type"==e.toLowerCase()}function Bm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zm(e),Hm(e)}function zm(e){e.D||(e.D=!0,Up(e,"complete"),Up(e,"error"))}function Wm(e){if(e.h&&"undefined"!=typeof _d&&(!e.C[1]||4!=Gm(e)||2!=e.ba()))if(e.v&&4==Gm(e))Zp(e.Fa,0,e);else if(Up(e,"readystatechange"),4==Gm(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Gv)[1]||null;if(!a&&xd.self&&xd.self.location){var o=xd.self.location.protocol;a=o.substr(0,o.length-1)}i=!jm.test(a?a.toLowerCase():"")}t=i}if(t)Up(e,"complete"),Up(e,"success");else{e.m=6;try{var u=2<Gm(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",zm(e)}}finally{Hm(e)}}}function Hm(e,t){if(e.g){Km(e);var n=e.g,r=e.C[0]?Id:null;e.g=null,e.C=null,t||Up(e,"ready");try{n.onreadystatechange=r}catch(QA){}}}function Km(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(xd.clearTimeout(e.A),e.A=null)}function Gm(e){return e.g?e.g.readyState:0}function Qm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Um:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ym(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Gd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):em(e,t,n))}function Jm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $m(e){this.za=0,this.l=[],this.h=new ov,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jm("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jm("baseRetryDelayMs",5e3,e),this.$a=Jm("retryDelaySeedMs",1e4,e),this.Ya=Jm("forwardChannelMaxRetries",2,e),this.ra=Jm("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ym(e&&e.concurrentRequestLimit),this.Ca=new Sm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Xm(e){if(ey(e),3==e.G){var t=e.V++,n=Yv(e.F);em(n,"SID",e.J),em(n,"RID",t),em(n,"TYPE","terminate"),iy(e,n),(t=new Sv(e,e.h,t,void 0)).K=2,t.v=tm(Yv(n)),n=!1,xd.navigator&&xd.navigator.sendBeacon&&(n=xd.navigator.sendBeacon(t.v.toString(),"")),!n&&xd.Image&&((new Image).src=t.v,n=!0),n||(t.g=my(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Fv(t)}py(e)}function Zm(e){e.g&&(sy(e),e.g.cancel(),e.g=null)}function ey(e){Zm(e),e.u&&(xd.clearTimeout(e.u),e.u=null),ly(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xd.clearTimeout(e.m),e.m=null)}function ty(e,t){e.l.push(new mm(e.Za++,t)),3==e.G&&ny(e)}function ny(e){bm(e.i)||e.m||(e.m=!0,Gp(e.Ha,e),e.C=0)}function ry(e,t){var n;n=t?t.m:e.V++;var r=Yv(e.F);em(r,"SID",e.J),em(r,"RID",n),em(r,"AID",e.U),iy(e,r),e.o&&e.s&&Ym(r,e.o,e.s),n=new Sv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ay(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),xm(e.i,n),Pv(n,r,t)}function iy(e,t){e.j&&zv({},(function(e,n){em(t,n,e)}))}function ay(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Rd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Cm(l,o,"req"+c+"_")}catch(Qy){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function oy(e){e.g||e.u||(e.Y=1,Gp(e.Ga,e),e.A=0)}function uy(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=mv(Rd(e.Ga,e),hy(e,e.A)),e.A++,!0)}function sy(e){null!=e.B&&(xd.clearTimeout(e.B),e.B=null)}function cy(e){e.g=new Sv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Yv(e.oa);em(t,"RID","rpc"),em(t,"SID",e.J),em(t,"CI",e.N?"0":"1"),em(t,"AID",e.U),iy(e,t),em(t,"TYPE","xmlhttp"),e.o&&e.s&&Ym(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tm(Yv(t)),n.s=null,n.U=!0,Ov(n,e)}function ly(e){null!=e.v&&(xd.clearTimeout(e.v),e.v=null)}function fy(e,t){var n=null;if(e.g==t){ly(e),sy(e),e.g=null;var r=2}else{if(!_m(e.i,t))return;n=t.D,Im(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Up(r=lv(),new vv(r,n,t,i)),ny(e)}else oy(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(wm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=mv(Rd(e.Ha,e,t),hy(e,e.C)),e.C++,!0))}(e,t)||2==r&&uy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:dy(e,5);break;case 4:dy(e,10);break;case 3:dy(e,6);break;default:dy(e,2)}}function hy(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function dy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Rd(e.jb,e);n||(n=new Qv("//www.google.com/images/cleardot.gif"),xd.location&&"http"==xd.location.protocol||Jv(n,"https"),tm(n)),function(e,t){var n=new ov;if(xd.Image){var r=new Image;r.onload=Pd(Nm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pd(Nm,n,r,"TestLoadImage: error",!1,t),r.onabort=Pd(Nm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pd(Nm,n,r,"TestLoadImage: timeout",!1,t),xd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pv(2);e.G=0,e.j&&e.j.va(t),py(e),ey(e)}function py(e){e.G=0,e.I=-1,e.j&&(0==Tm(e.i).length&&0==e.l.length||(e.i.i.length=0,jd(e.l),e.l.length=0),e.j.ua())}function vy(e,t,n){var r=function(e){return e instanceof Qv?Yv(e):new Qv(e,void 0)}(n);if(""!=r.i)t&&$v(r,t+"."+r.i),Xv(r,r.m);else{var i=xd.location;r=function(e,t,n,r){var i=new Qv(null,void 0);return e&&Jv(i,e),t&&$v(i,t),n&&Xv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Gd(e.aa,(function(e,t){em(r,t,e)})),t=e.D,n=e.sa,t&&n&&em(r,t,n),em(r,"VER",e.ma),iy(e,r),r}function my(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Fm(new Am({ib:!0})):new Fm(e.qa)).L=e.H,t}function yy(){}function gy(){if(ep&&!(10<=Number(dp)))throw Error("Environmental error: no available transport.")}function ky(e,t){Fp.call(this),this.g=new $m(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Vd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _y(this)}function by(e){Iv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wy(){Tv.call(this),this.status=1}function _y(e){this.g=e}(kd=Fm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_v.g(),this.C=this.u?bv(this.u):bv(_v),this.g.onreadystatechange=Rd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Bm(this,a)}e=n||"";var i=new Wv(this.headers);r&&zv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=qm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=xd.FormData&&e instanceof xd.FormData,!(0<=Md(Vm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Km(this),0<this.B&&((this.K=function(e){return ep&&fp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rd(this.pa,this)):this.A=Zp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Bm(this,a)}},kd.pa=function(){"undefined"!=typeof _d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Up(this,"timeout"),this.abort(8))},kd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Up(this,"complete"),Up(this,"abort"),Hm(this))},kd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hm(this,!0)),Fm.Z.M.call(this)},kd.Fa=function(){this.s||(this.F||this.v||this.l?Wm(this):this.cb())},kd.cb=function(){Wm(this)},kd.ba=function(){try{return 2<Gm(this)?this.g.status:-1}catch(gm){return-1}},kd.ga=function(){try{return this.g?this.g.responseText:""}catch(gm){return""}},kd.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mm(t)}},kd.Da=function(){return this.m},kd.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(kd=$m.prototype).ma=8,kd.G=1,kd.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},kd.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Sv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Jd(n=Qd(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ay(this,t,r),em(i=Yv(this.F),"RID",e),em(i,"CVER",22),this.D&&em(i,"X-HTTP-Session-Id",this.D),iy(this,i),this.o&&n&&Ym(i,this.o,n),xm(this.i,t),this.Ra&&em(i,"TYPE","init"),this.ja?(em(i,"$req",r),em(i,"SID","null"),t.$=!0,Pv(t,i,null)):Pv(t,i,r),this.G=2}}else 3==this.G&&(e?ry(this,e):0==this.l.length||bm(this.i)||ry(this))},kd.Ga=function(){if(this.u=null,cy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=mv(Rd(this.bb,this),e)}},kd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pv(10),Zm(this),cy(this))},kd.ab=function(){null!=this.v&&(this.v=null,Zm(this),uy(this),pv(19))},kd.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pv(2)):(this.h.info("Failed to ping google.com"),pv(1))},(kd=yy.prototype).xa=function(){},kd.wa=function(){},kd.va=function(){},kd.ua=function(){},kd.Oa=function(){},gy.prototype.g=function(e,t){return new ky(e,t)},Od(ky,Fp),ky.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Gp(Rd(e.hb,e,t))),pv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vy(e,null,e.W),ny(e)},ky.prototype.close=function(){Xm(this.g)},ky.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ty(this.g,t)}else this.v?((t={}).__data__=Vp(e),ty(this.g,t)):ty(this.g,e)},ky.prototype.M=function(){this.g.j=null,delete this.j,Xm(this.g),delete this.g,ky.Z.M.call(this)},Od(by,Iv),Od(wy,Tv),Od(_y,yy),_y.prototype.xa=function(){Up(this.g,"a")},_y.prototype.wa=function(e){Up(this.g,new by(e))},_y.prototype.va=function(e){Up(this.g,new wy(e))},_y.prototype.ua=function(){Up(this.g,"b")},gy.prototype.createWebChannel=gy.prototype.g,ky.prototype.send=ky.prototype.u,ky.prototype.open=ky.prototype.m,ky.prototype.close=ky.prototype.close,yv.NO_ERROR=0,yv.TIMEOUT=8,yv.HTTP_ERROR=6,gv.COMPLETE="complete",wv.EventType=xv,xv.OPEN="a",xv.CLOSE="b",xv.ERROR="c",xv.MESSAGE="d",Fp.prototype.listen=Fp.prototype.N,Fm.prototype.listenOnce=Fm.prototype.O,Fm.prototype.getLastError=Fm.prototype.La,Fm.prototype.getLastErrorCode=Fm.prototype.Da,Fm.prototype.getStatus=Fm.prototype.ba,Fm.prototype.getResponseJson=Fm.prototype.Qa,Fm.prototype.getResponseText=Fm.prototype.ga,Fm.prototype.send=Fm.prototype.ea;var xy=wd.createWebChannelTransport=function(){return new gy},Iy=wd.getStatEventTarget=function(){return lv()},Ty=wd.ErrorCode=yv,Ey=wd.EventType=gv,Sy=wd.Event=sv,Cy=wd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ny=wd.FetchXmlHttpFactory=Am,Ay=wd.WebChannel=wv,Ry=wd.XhrIo=Fm,Py="@firebase/firestore",Oy=function(){function e(t){$(this,e),this.uid=t}return Z(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Oy.UNAUTHENTICATED=new Oy(null),Oy.GOOGLE_CREDENTIALS=new Oy("google-credentials-uid"),Oy.FIRST_PARTY=new Oy("first-party-uid"),Oy.MOCK_USER=new Oy("mock-user");var Dy="9.6.1",Ly=new Xn("@firebase/firestore");function My(){return Ly.logLevel}function Fy(e){if(Ly.logLevel<=zn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vy);Ly.debug.apply(Ly,["Firestore (".concat(Dy,"): ").concat(e)].concat(Mn(i)))}}function Uy(e){if(Ly.logLevel<=zn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vy);Ly.error.apply(Ly,["Firestore (".concat(Dy,"): ").concat(e)].concat(Mn(i)))}}function jy(e){if(Ly.logLevel<=zn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vy);Ly.warn.apply(Ly,["Firestore (".concat(Dy,"): ").concat(e)].concat(Mn(i)))}}function Vy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Dy,") INTERNAL ASSERTION FAILED: ")+e;throw Uy(t),new Error(t)}function By(e,t){e||qy()}function zy(e,t){return e}var Wy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hy=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Z(n)}(Zt(Error)),Ky=Z((function e(){var t=this;$(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gy=Z((function e(t,n){$(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Qy=function(){function e(){$(this,e)}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Oy.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Yy=function(){function e(t){$(this,e),this.token=t,this.changeListener=null}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Jy=function(){function e(t){$(this,e),this.t=t,this.currentUser=Oy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Z(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ky;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ky,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Fy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Fy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ky)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Fy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(By("string"==typeof n.accessToken),new Gy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return By(null===e||"string"==typeof e),new Oy(e)}}]),e}(),$y=Z((function e(t,n,r){$(this,e),this.type="FirstParty",this.user=Oy.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Xy=function(){function e(t,n,r){$(this,e),this.h=t,this.l=n,this.m=r}return Z(e,[{key:"getToken",value:function(){return Promise.resolve(new $y(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Oy.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zy=Z((function e(t){$(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),eg=function(){function e(t){$(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Z(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Fy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Fy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Fy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(By("string"==typeof e.token),new Zy(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),tg=function(){function e(t,n){var r=this;$(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Z(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function ng(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}tg.I=-1;var rg=function(){function e(){$(this,e)}return Z(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ng(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ig(e,t){return e<t?-1:e>t?1:0}function ag(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function og(e){return e+"\0"}var ug=function(){function e(t,n){if($(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Hy(Wy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Hy(Wy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Hy(Wy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hy(Wy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Z(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ig(this.nanoseconds,e.nanoseconds):ig(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sg=function(){function e(t){$(this,e),this.timestamp=t}return Z(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ug(0,0))}}]),e}();function cg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var hg=function(){function e(t,n,r){$(this,e),void 0===n?n=0:n>t.length&&qy(),void 0===r?r=t.length-n:r>t.length-n&&qy(),this.segments=t,this.offset=n,this.len=r}return Z(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),dg=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Mn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hg),pg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vg=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return pg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Hy(Wy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Hy(Wy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Hy(Wy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hg),mg=function(){function e(t){$(this,e),this.fields=t,t.sort(vg.comparator)}return Z(e,[{key:"covers",value:function(e){var t,n=$t(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(Wt){n.e(Wt)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ag(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var yg=function(){function e(t){$(this,e),this.binaryString=t}return Z(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ig(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();yg.EMPTY_BYTE_STRING=new yg("");var gg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kg(e){if(By(!!e),"string"==typeof e){var t=0,n=gg.exec(e);if(By(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bg(e.seconds),nanos:bg(e.nanos)}}function bg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wg(e){return"string"==typeof e?yg.fromBase64String(e):yg.fromUint8Array(e)}function _g(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xg(e){var t=e.mapValue.fields.__previous_value__;return _g(t)?xg(t):t}function Ig(e){var t=kg(e.mapValue.fields.__local_write_time__.timestampValue);return new ug(t.seconds,t.nanos)}function Tg(e){return null==e}function Eg(e){return 0===e&&1/e==-1/0}function Sg(e){return"number"==typeof e&&Number.isInteger(e)&&!Eg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Cg=function(){function e(t){$(this,e),this.path=t}return Z(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===dg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(dg.fromString(t))}},{key:"fromName",value:function(t){return new e(dg.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return dg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new dg(t.slice()))}}]),e}();function Ng(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_g(e)?4:10:qy()}function Ag(e,t){var n=Ng(e);if(n!==Ng(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ig(e).isEqual(Ig(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=kg(e.timestampValue),r=kg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wg(e.bytesValue).isEqual(wg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bg(e.geoPointValue.latitude)===bg(t.geoPointValue.latitude)&&bg(e.geoPointValue.longitude)===bg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bg(e.integerValue)===bg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bg(e.doubleValue),r=bg(t.doubleValue);return n===r?Eg(n)===Eg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ag(e.arrayValue.values||[],t.arrayValue.values||[],Ag);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cg(n)!==cg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ag(n[i],r[i])))return!1;return!0}(e,t);default:return qy()}}function Rg(e,t){return void 0!==(e.values||[]).find((function(e){return Ag(e,t)}))}function Pg(e,t){var n=Ng(e),r=Ng(t);if(n!==r)return ig(n,r);switch(n){case 0:return 0;case 1:return ig(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bg(e.integerValue||e.doubleValue),r=bg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Og(e.timestampValue,t.timestampValue);case 4:return Og(Ig(e),Ig(t));case 5:return ig(e.stringValue,t.stringValue);case 6:return function(e,t){var n=wg(e),r=wg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ig(n[i],r[i]);if(0!==a)return a}return ig(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ig(bg(e.latitude),bg(t.latitude));return 0!==n?n:ig(bg(e.longitude),bg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Pg(n[i],r[i]);if(a)return a}return ig(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ig(r[o],a[o]);if(0!==u)return u;var s=Pg(n[r[o]],i[a[o]]);if(0!==s)return s}return ig(r.length,a.length)}(e.mapValue,t.mapValue);default:throw qy()}}function Og(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ig(e,t);var n=kg(e),r=kg(t),i=ig(n.seconds,r.seconds);return 0!==i?i:ig(n.nanos,r.nanos)}function Dg(e){return Lg(e)}function Lg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=kg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Cg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$t(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Lg(a)}}catch(Wt){i.e(Wt)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$t(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Lg(e.fields[a]))}}catch(Wt){i.e(Wt)}finally{i.f()}return n+"}"}(e.mapValue):qy();var t,n}function Mg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fg(e){return!!e&&"integerValue"in e}function Ug(e){return!!e&&"arrayValue"in e}function jg(e){return!!e&&"nullValue"in e}function Vg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qg(e){return!!e&&"mapValue"in e}function Bg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Bg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bg(e.arrayValue.values[r]);return n}return Object.assign({},e)}var zg=function(){function e(t){$(this,e),this.value=t}return Z(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!qg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bg(t)}},{key:"setAll",value:function(e){var t=this,n=vg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Bg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ag(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];qg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lg(t,(function(t,n){return e[t]=n}));var r,i=$t(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(Wt){i.e(Wt)}finally{i.f()}}},{key:"clone",value:function(){return new e(Bg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Wg(e){var t=[];return lg(e.fields,(function(e,n){var r=new vg([e]);if(qg(n)){var i=Wg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$t(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(Wt){o.e(Wt)}finally{o.f()}}}else t.push(r)})),new mg(t)}var Hg=function(){function e(t,n,r,i,a){$(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Z(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=zg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=zg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sg.min(),zg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,zg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,zg.empty(),2)}}]),e}(),Kg=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;$(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function Gg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Kg(e,t,n,r,i,a,o)}function Qg(e){var t=zy(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Dg(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Tg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=uk(t.startAt)),t.endAt&&(n+="|ub:",n+=uk(t.endAt)),t.R=n}return t.R}function Yg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ck(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ag(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fk(e.startAt,t.startAt)&&fk(e.endAt,t.endAt)}function Jg(e){return Cg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var $g=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Pg(t,this.value)):null!==t&&Ng(this.value)===Ng(t)&&this.v(Pg(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qy()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Xg(e,t,r):"array-contains"===t?new nk(e,r):"in"===t?new rk(e,r):"not-in"===t?new ik(e,r):"array-contains-any"===t?new ak(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Zg(e,n):new ek(e,n)}}]),n}(function(){return Z((function e(){$(this,e)}))}());var Xg=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this,e,r,i)).key=Cg.fromName(i.referenceValue),a}return Z(n,[{key:"matches",value:function(e){var t=Cg.comparator(e.key,this.key);return this.v(t)}}]),n}($g),Zg=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,"in",r)).keys=tk("in",r),i}return Z(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}($g),ek=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,"not-in",r)).keys=tk("not-in",r),i}return Z(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}($g);function tk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Cg.fromName(e.referenceValue)}))}var nk=function(e){te(n,e);var t=ue(n);function n(e,r){return $(this,n),t.call(this,e,"array-contains",r)}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ug(t)&&Rg(t.arrayValue,this.value)}}]),n}($g),rk=function(e){te(n,e);var t=ue(n);function n(e,r){return $(this,n),t.call(this,e,"in",r)}return Z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Rg(this.value.arrayValue,t)}}]),n}($g),ik=function(e){te(n,e);var t=ue(n);function n(e,r){return $(this,n),t.call(this,e,"not-in",r)}return Z(n,[{key:"matches",value:function(e){if(Rg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Rg(this.value.arrayValue,t)}}]),n}($g),ak=function(e){te(n,e);var t=ue(n);function n(e,r){return $(this,n),t.call(this,e,"array-contains-any",r)}return Z(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Rg(t.value.arrayValue,e)}))}}]),n}($g),ok=Z((function e(t,n){$(this,e),this.position=t,this.before=n}));function uk(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Dg(e)})).join(","))}var sk=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";$(this,e),this.field=t,this.dir=n}));function ck(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function lk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Cg.comparator(Cg.fromName(o.referenceValue),n.key):Pg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function fk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ag(e.position[n],t.position[n]))return!1;return!0}var hk=Z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;$(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function dk(e,t,n,r,i,a,o,u){return new hk(e,t,n,r,i,a,o,u)}function pk(e){return new hk(e)}function vk(e){return!Tg(e.limit)&&"F"===e.limitType}function mk(e){return!Tg(e.limit)&&"L"===e.limitType}function yk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gk(e){var t,n=$t(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(Wt){n.e(Wt)}finally{n.f()}return null}function kk(e){return null!==e.collectionGroup}function bk(e){var t=zy(e);if(null===t.S){t.S=[];var n=gk(t),r=yk(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new sk(n)),t.S.push(new sk(vg.keyField(),"asc"));else{var i,a=!1,o=$t(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(Wt){o.e(Wt)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new sk(vg.keyField(),s))}}}return t.S}function wk(e){var t=zy(e);if(!t.D)if("F"===t.limitType)t.D=Gg(t.path,t.collectionGroup,bk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=$t(bk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new sk(a.field,o))}}catch(Wt){i.e(Wt)}finally{i.f()}var u=t.endAt?new ok(t.endAt.position,!t.endAt.before):null,s=t.startAt?new ok(t.startAt.position,!t.startAt.before):null;t.D=Gg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function _k(e,t,n){return new hk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xk(e,t){return Yg(wk(e),wk(t))&&e.limitType===t.limitType}function Ik(e){return"".concat(Qg(wk(e)),"|lt:").concat(e.limitType)}function Tk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Dg(t.value));var t})).join(", "),"]")),Tg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+uk(e.startAt)),e.endAt&&(t+=", endAt: "+uk(e.endAt)),"Target(".concat(t,")")}(wk(e)),"; limitType=").concat(e.limitType,")")}function Ek(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$t(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(Wt){r.e(Wt)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$t(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(Wt){r.e(Wt)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!lk(e.startAt,bk(e),t))&&(!e.endAt||!lk(e.endAt,bk(e),t))}(e,t)}function Sk(e){return function(t,n){var r,i=!1,a=$t(bk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ck(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(Wt){a.e(Wt)}finally{a.f()}return 0}}function Ck(e,t,n){var r=e.field.isKeyField()?Cg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Pg(r,i):qy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qy()}}function Nk(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eg(t)?"-0":t}}function Ak(e){return{integerValue:""+e}}function Rk(e,t){return Sg(t)?Ak(t):Nk(e,t)}var Pk=Z((function e(){$(this,e),this._=void 0}));function Ok(e,t,n){return e instanceof Mk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Fk?Uk(e,t):e instanceof jk?Vk(e,t):function(e,t){var n=Lk(e,t),r=Bk(n)+Bk(e.N);return Fg(n)&&Fg(e.N)?Ak(r):Nk(e.k,r)}(e,t)}function Dk(e,t,n){return e instanceof Fk?Uk(e,t):e instanceof jk?Vk(e,t):n}function Lk(e,t){return e instanceof qk?Fg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Mk=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n)}(Pk),Fk=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this)).elements=e,r}return Z(n)}(Pk);function Uk(e,t){var n,r=zk(t),i=$t(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ag(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(Wt){i.e(Wt)}finally{i.f()}return{arrayValue:{values:r}}}var jk=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this)).elements=e,r}return Z(n)}(Pk);function Vk(e,t){var n,r=zk(t),i=$t(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ag(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(Wt){i.e(Wt)}finally{i.f()}return{arrayValue:{values:r}}}var qk=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).k=e,i.N=r,i}return Z(n)}(Pk);function Bk(e){return bg(e.integerValue||e.doubleValue)}function zk(e){return Ug(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Wk=Z((function e(t,n){$(this,e),this.field=t,this.transform=n}));var Hk=Z((function e(t,n){$(this,e),this.version=t,this.transformResults=n})),Kk=function(){function e(t,n){$(this,e),this.updateTime=t,this.exists=n}return Z(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Gk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Qk=Z((function e(){$(this,e)}));function Yk(e,t,n){e instanceof eb?function(e,t,n){var r=e.value.clone(),i=rb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof tb?function(e,t,n){if(Gk(e.precondition,t)){var r=rb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(nb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Jk(e,t,n){e instanceof eb?function(e,t,n){if(Gk(e.precondition,t)){var r=e.value.clone(),i=ib(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Zk(t),r).setHasLocalMutations()}}(e,t,n):e instanceof tb?function(e,t,n){if(Gk(e.precondition,t)){var r=ib(e.fieldTransforms,n,t),i=t.data;i.setAll(nb(e)),i.setAll(r),t.convertToFoundDocument(Zk(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Gk(e.precondition,t)&&t.convertToNoDocument(sg.min())}(e,t)}function $k(e,t){var n,r=null,i=$t(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Lk(a.transform,o||null);null!=u&&(null==r&&(r=zg.empty()),r.set(a.field,u))}}catch(Wt){i.e(Wt)}finally{i.f()}return r||null}function Xk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ag(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fk&&t instanceof Fk||e instanceof jk&&t instanceof jk?ag(e.elements,t.elements,Ag):e instanceof qk&&t instanceof qk?Ag(e.N,t.N):e instanceof Mk&&t instanceof Mk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Zk(e){return e.isFoundDocument()?e.version:sg.min()}var eb=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return $(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Z(n)}(Qk),tb=function(e){te(n,e);var t=ue(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return $(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Z(n)}(Qk);function nb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function rb(e,t,n){var r=new Map;By(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Dk(o,u,n[i]))}return r}function ib(e,t,n){var r,i=new Map,a=$t(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ok(u,s,t))}}catch(Wt){a.e(Wt)}finally{a.f()}return i}var ab,ob,ub=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Z(n)}(Qk),sb=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Z(n)}(Qk),cb=Z((function e(t){$(this,e),this.count=t}));function lb(e){switch(e){default:return qy();case Wy.CANCELLED:case Wy.UNKNOWN:case Wy.DEADLINE_EXCEEDED:case Wy.RESOURCE_EXHAUSTED:case Wy.INTERNAL:case Wy.UNAVAILABLE:case Wy.UNAUTHENTICATED:return!1;case Wy.INVALID_ARGUMENT:case Wy.NOT_FOUND:case Wy.ALREADY_EXISTS:case Wy.PERMISSION_DENIED:case Wy.FAILED_PRECONDITION:case Wy.ABORTED:case Wy.OUT_OF_RANGE:case Wy.UNIMPLEMENTED:case Wy.DATA_LOSS:return!0}}function fb(e){if(void 0===e)return Uy("GRPC error has no .code"),Wy.UNKNOWN;switch(e){case ab.OK:return Wy.OK;case ab.CANCELLED:return Wy.CANCELLED;case ab.UNKNOWN:return Wy.UNKNOWN;case ab.DEADLINE_EXCEEDED:return Wy.DEADLINE_EXCEEDED;case ab.RESOURCE_EXHAUSTED:return Wy.RESOURCE_EXHAUSTED;case ab.INTERNAL:return Wy.INTERNAL;case ab.UNAVAILABLE:return Wy.UNAVAILABLE;case ab.UNAUTHENTICATED:return Wy.UNAUTHENTICATED;case ab.INVALID_ARGUMENT:return Wy.INVALID_ARGUMENT;case ab.NOT_FOUND:return Wy.NOT_FOUND;case ab.ALREADY_EXISTS:return Wy.ALREADY_EXISTS;case ab.PERMISSION_DENIED:return Wy.PERMISSION_DENIED;case ab.FAILED_PRECONDITION:return Wy.FAILED_PRECONDITION;case ab.ABORTED:return Wy.ABORTED;case ab.OUT_OF_RANGE:return Wy.OUT_OF_RANGE;case ab.UNIMPLEMENTED:return Wy.UNIMPLEMENTED;case ab.DATA_LOSS:return Wy.DATA_LOSS;default:return qy()}}(ob=ab||(ab={}))[ob.OK=0]="OK",ob[ob.CANCELLED=1]="CANCELLED",ob[ob.UNKNOWN=2]="UNKNOWN",ob[ob.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ob[ob.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ob[ob.NOT_FOUND=5]="NOT_FOUND",ob[ob.ALREADY_EXISTS=6]="ALREADY_EXISTS",ob[ob.PERMISSION_DENIED=7]="PERMISSION_DENIED",ob[ob.UNAUTHENTICATED=16]="UNAUTHENTICATED",ob[ob.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ob[ob.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ob[ob.ABORTED=10]="ABORTED",ob[ob.OUT_OF_RANGE=11]="OUT_OF_RANGE",ob[ob.UNIMPLEMENTED=12]="UNIMPLEMENTED",ob[ob.INTERNAL=13]="INTERNAL",ob[ob.UNAVAILABLE=14]="UNAVAILABLE",ob[ob.DATA_LOSS=15]="DATA_LOSS";var hb=function(){function e(t,n){$(this,e),this.comparator=t,this.root=n||pb.EMPTY}return Z(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new db(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new db(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new db(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new db(this.root,e,this.comparator,!0)}}]),e}(),db=function(){function e(t,n,r,i){$(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Z(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pb=function(){function e(t,n,r,i,a){$(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Z(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw qy();if(this.right.isRed())throw qy();var e=this.left.check();if(e!==this.right.check())throw qy();return e+(this.isRed()?0:1)}}]),e}();pb.EMPTY=null,pb.RED=!0,pb.BLACK=!1,pb.EMPTY=new(function(){function e(){$(this,e),this.size=0}return Z(e,[{key:"key",get:function(){throw qy()}},{key:"value",get:function(){throw qy()}},{key:"color",get:function(){throw qy()}},{key:"left",get:function(){throw qy()}},{key:"right",get:function(){throw qy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var vb=function(){function e(t){$(this,e),this.comparator=t,this.data=new hb(this.comparator)}return Z(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new mb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new mb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),mb=function(){function e(t){$(this,e),this.iter=t}return Z(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),yb=new hb(Cg.comparator);function gb(){return yb}var kb=new hb(Cg.comparator);function bb(){return kb}var wb=new hb(Cg.comparator);function _b(){return wb}var xb=new vb(Cg.comparator);function Ib(){for(var e=xb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Tb=new vb(ig);function Eb(){return Tb}var Sb=function(){function e(t,n,r,i,a){$(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Z(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Cb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(sg.min(),r,Eb(),gb(),Ib())}}]),e}(),Cb=function(){function e(t,n,r,i,a){$(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Z(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(yg.EMPTY_BYTE_STRING,n,Ib(),Ib(),Ib())}}]),e}(),Nb=Z((function e(t,n,r,i){$(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),Ab=Z((function e(t,n){$(this,e),this.targetId=t,this.O=n})),Rb=Z((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Pb=function(){function e(){$(this,e),this.M=0,this.L=Lb(),this.B=yg.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Z(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Ib(),t=Ib(),n=Ib();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qy()}})),new Cb(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Lb()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Ob=function(){function e(t){$(this,e),this.et=t,this.nt=new Map,this.st=gb(),this.it=Db(),this.rt=new vb(ig)}return Z(e,[{key:"ot",value:function(e){var t,n=$t(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(Wt){n.e(Wt)}finally{n.f()}var i,a=$t(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(Wt){a.e(Wt)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:qy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Jg(i))if(0===n){var a=new Cg(i.path);this.ct(t,a,Hg.newNoDocument(a,sg.min()))}else By(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Jg(a.target)){var o=new Cg(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,Hg.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Ib();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Sb(e,n,this.rt,this.st,r);return this.st=gb(),this.it=Db(),this.rt=new vb(ig),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Pb,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new vb(ig),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Fy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Pb),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Db(){return new hb(Cg.comparator)}function Lb(){return new hb(Cg.comparator)}var Mb={asc:"ASCENDING",desc:"DESCENDING"},Fb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ub=Z((function e(t,n){$(this,e),this.databaseId=t,this.C=n}));function jb(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vb(e,t){return e.C?t.toBase64():t.toUint8Array()}function qb(e,t){return jb(e,t.toTimestamp())}function Bb(e){return By(!!e),sg.fromTimestamp(function(e){var t=kg(e);return new ug(t.seconds,t.nanos)}(e))}function zb(e,t){return function(e){return new dg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Wb(e){var t=dg.fromString(e);return By(vw(t)),t}function Hb(e,t){return zb(e.databaseId,t.path)}function Kb(e,t){var n=Wb(t);if(n.get(1)!==e.databaseId.projectId)throw new Hy(Wy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hy(Wy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cg(Jb(n))}function Gb(e,t){return zb(e.databaseId,t)}function Qb(e){var t=Wb(e);return 4===t.length?dg.emptyPath():Jb(t)}function Yb(e){return new dg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jb(e){return By(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $b(e,t,n){return{name:Hb(e,t),fields:n.value.mapValue.fields}}function Xb(e,t,n){var r=Kb(e,t.name),i=Bb(t.updateTime),a=new zg({mapValue:{fields:t.fields}}),o=Hg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Zb(e,t){return"found"in t?function(e,t){By(!!t.found),t.found.name,t.found.updateTime;var n=Kb(e,t.found.name),r=Bb(t.found.updateTime),i=new zg({mapValue:{fields:t.found.fields}});return Hg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){By(!!t.missing),By(!!t.readTime);var n=Kb(e,t.missing),r=Bb(t.readTime);return Hg.newNoDocument(n,r)}(e,t):qy()}function ew(e,t){var n;if(t instanceof eb)n={update:$b(e,t.key,t.value)};else if(t instanceof ub)n={delete:Hb(e,t.key)};else if(t instanceof tb)n={update:$b(e,t.key,t.data),updateMask:pw(t.fieldMask)};else{if(!(t instanceof sb))return qy();n={verify:Hb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Mk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qk)return{fieldPath:t.field.canonicalString(),increment:n.N};throw qy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:qb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qy()}(e,t.precondition)),n}function tw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Kk.updateTime(Bb(e.updateTime)):void 0!==e.exists?Kk.exists(e.exists):Kk.none()}(t.currentDocument):Kk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)By("REQUEST_TIME"===t.setToServerValue),n=new Mk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Fk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new jk(i)}else"increment"in t?n=new qk(e,t.increment):qy();var a=vg.fromServerFormat(t.fieldPath);return new Wk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Kb(e,t.update.name),a=new zg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new mg(t.map((function(e){return vg.fromServerFormat(e)})))}(t.updateMask);return new tb(i,a,o,n,r)}return new eb(i,a,n,r)}if(t.delete){var u=Kb(e,t.delete);return new ub(u,n)}if(t.verify){var s=Kb(e,t.verify);return new sb(s,n)}return qy()}function nw(e,t){return{documents:[Gb(e,t.path)]}}function rw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Gb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Vg(e.value))return{unaryFilter:{field:lw(e.field),op:"IS_NAN"}};if(jg(e.value))return{unaryFilter:{field:lw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vg(e.value))return{unaryFilter:{field:lw(e.field),op:"IS_NOT_NAN"}};if(jg(e.value))return{unaryFilter:{field:lw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lw(e.field),op:cw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:lw(e.field),direction:sw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Tg(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=ow(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ow(t.endAt)),n}function iw(e){var t=Qb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){By(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=aw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new sk(fw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Tg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=uw(n.startAt));var l=null;return n.endAt&&(l=uw(n.endAt)),dk(t,i,u,o,s,"F",c,l)}function aw(e){return e?void 0!==e.unaryFilter?[dw(e)]:void 0!==e.fieldFilter?[hw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return aw(e)})).reduce((function(e,t){return e.concat(t)})):qy():[]}function ow(e){return{before:e.before,values:e.position}}function uw(e){var t=!!e.before,n=e.values||[];return new ok(n,t)}function sw(e){return Mb[e]}function cw(e){return Fb[e]}function lw(e){return{fieldPath:e.canonicalString()}}function fw(e){return vg.fromServerFormat(e.fieldPath)}function hw(e){return $g.create(fw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qy()}}(e.fieldFilter.op),e.fieldFilter.value)}function dw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=fw(e.unaryFilter.field);return $g.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=fw(e.unaryFilter.field);return $g.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=fw(e.unaryFilter.field);return $g.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=fw(e.unaryFilter.field);return $g.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qy()}}function pw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function vw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function mw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=gw(t)),t=yw(e.get(n),t);return gw(t)}function yw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function gw(e){return e+"\x01\x01"}function kw(e){var t=e.length;if(By(t>=2),2===t)return By("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),dg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&qy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:qy()}a=o+2}return new dg(r)}var bw=Z((function e(t,n){$(this,e),this.seconds=t,this.nanoseconds=n})),ww=Z((function e(t,n,r){$(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));ww.store="owner",ww.key="owner";var _w=Z((function e(t,n,r){$(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));_w.store="mutationQueues",_w.keyPath="userId";var xw=Z((function e(t,n,r,i,a){$(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));xw.store="mutations",xw.keyPath="batchId",xw.userMutationsIndex="userMutationsIndex",xw.userMutationsKeyPath=["userId","batchId"];var Iw=function(){function e(){$(this,e)}return Z(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,mw(t)]}},{key:"key",value:function(e,t,n){return[e,mw(t),n]}}]),e}();Iw.store="documentMutations",Iw.PLACEHOLDER=new Iw;var Tw=Z((function e(t,n){$(this,e),this.path=t,this.readTime=n})),Ew=Z((function e(t,n){$(this,e),this.path=t,this.version=n})),Sw=Z((function e(t,n,r,i,a,o){$(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Sw.store="remoteDocuments",Sw.readTimeIndex="readTimeIndex",Sw.readTimeIndexPath="readTime",Sw.collectionReadTimeIndex="collectionReadTimeIndex",Sw.collectionReadTimeIndexPath=["parentPath","readTime"];var Cw=Z((function e(t){$(this,e),this.byteSize=t}));Cw.store="remoteDocumentGlobal",Cw.key="remoteDocumentGlobalKey";var Nw=Z((function e(t,n,r,i,a,o,u){$(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Nw.store="targets",Nw.keyPath="targetId",Nw.queryTargetsIndexName="queryTargetsIndex",Nw.queryTargetsKeyPath=["canonicalId","targetId"];var Aw=Z((function e(t,n,r){$(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Aw.store="targetDocuments",Aw.keyPath=["targetId","path"],Aw.documentTargetsIndex="documentTargetsIndex",Aw.documentTargetsKeyPath=["path","targetId"];var Rw=Z((function e(t,n,r,i){$(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Rw.key="targetGlobalKey",Rw.store="targetGlobal";var Pw=Z((function e(t,n){$(this,e),this.collectionId=t,this.parent=n}));Pw.store="collectionParents",Pw.keyPath=["collectionId","parent"];var Ow=Z((function e(t,n,r,i){$(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Ow.store="clientMetadata",Ow.keyPath="clientId";var Dw=Z((function e(t,n,r){$(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Dw.store="bundles",Dw.keyPath="bundleId";var Lw=Z((function e(t,n,r){$(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Lw.store="namedQueries",Lw.keyPath="name";var Mw=[_w.store,xw.store,Iw.store,Sw.store,Nw.store,ww.store,Rw.store,Aw.store].concat([Ow.store]).concat([Cw.store]).concat([Pw.store]).concat([Dw.store,Lw.store]),Fw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uw=function(){function e(){$(this,e),this.onCommittedListeners=[]}return Z(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),jw=function(){function e(t){var n=this;$(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Z(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&qy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$t(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(Wt){i.e(Wt)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Vw=function(){function e(t,n){var r=this;$(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Ky,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new zw(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Qw(e.target.error);r.It.reject(new zw(t,n))}}return Z(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Fy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Hw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new zw(n,t)}}}]),e}(),qw=function(){function e(t,n,r){$(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(cn())&&Uy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Z(e,[{key:"Ct",value:function(){var e=Un(Dn().mark((function e(t){var n=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Fy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new zw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Hy(Wy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Hy(Wy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new zw(t,n))},i.onupgradeneeded=function(e){Fy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Fy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Un(Dn().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Dn().mark((function e(){var n,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Vw.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),jw.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Fy("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Fy("SimpleDb","Removing database:",e),Kw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!vn())return!1;if(e.vt())return!0;var t=cn(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Bw=function(){function e(t){$(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return Z(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Kw(this.$t.delete())}}]),e}(),zw=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,Wy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Z(n)}(Hy);function Ww(e){return"IndexedDbTransactionError"===e.name}var Hw=function(){function e(t){$(this,e),this.store=t}return Z(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Fy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Fy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Kw(n)}},{key:"add",value:function(e){return Fy("SimpleDb","ADD",this.store.name,e,e),Kw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Kw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Fy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Fy("SimpleDb","DELETE",this.store.name,e),Kw(this.store.delete(e))}},{key:"count",value:function(){return Fy("SimpleDb","COUNT",this.store.name),Kw(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Fy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new jw((function(n,r){t.onerror=function(e){var t=Qw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new jw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Bw(i),o=t(i.primaryKey,i.value,a);if(o instanceof jw){var u=o.catch((function(e){return a.done(),jw.reject(e)}));n.push(u)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return jw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Kw(e){return new jw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Qw(e.target.error);n(t)}}))}var Gw=!1;function Qw(e){var t=qw.Pt(cn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Hy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Gw||(Gw=!0,setTimeout((function(){throw r}),0)),r}}return e}var Yw=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Z(n)}(Uw);function Jw(e,t){var n=zy(e);return qw.Dt(n.Wt,t)}var $w=function(){function e(t,n,r,i){$(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Z(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Yk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=$t(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Jk(r,e,this.localWriteTime)}}catch(Wt){n.e(Wt)}finally{n.f()}var i,a=$t(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Jk(o,e,this.localWriteTime)}}catch(Wt){a.e(Wt)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(sg.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ib())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ag(this.mutations,e.mutations,(function(e,t){return Xk(e,t)}))&&ag(this.baseMutations,e.baseMutations,(function(e,t){return Xk(e,t)}))}}]),e}(),Xw=function(){function e(t,n,r,i){$(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Z(e,null,[{key:"from",value:function(t,n,r){By(t.mutations.length===r.length);for(var i=_b(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Zw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yg.EMPTY_BYTE_STRING;$(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Z(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),e_=Z((function e(t){$(this,e),this.Gt=t}));function t_(e,t){if(t.document)return Xb(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Cg.fromSegments(t.noDocument.path),r=o_(t.noDocument.readTime),i=Hg.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Cg.fromSegments(t.unknownDocument.path),o=o_(t.unknownDocument.version);return Hg.newUnknownDocument(a,o)}return qy()}function n_(e,t,n){var r=r_(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Hb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:jb(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Sw(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=a_(t.version),c=t.hasCommittedMutations;return new Sw(null,new Tw(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=a_(t.version);return new Sw(new Ew(l,f),null,null,!0,r,i)}return qy()}function r_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function i_(e){var t=new ug(e[0],e[1]);return sg.fromTimestamp(t)}function a_(e){var t=e.toTimestamp();return new bw(t.seconds,t.nanoseconds)}function o_(e){var t=new ug(e.seconds,e.nanoseconds);return sg.fromTimestamp(t)}function u_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return tw(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return tw(e.Gt,t)})),u=ug.fromMillis(t.localWriteTimeMs);return new $w(t.batchId,u,n,o)}function s_(e){var t,n,r=o_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?o_(e.lastLimboFreeSnapshotVersion):sg.min();return void 0!==e.query.documents?(By(1===(n=e.query).documents.length),t=wk(pk(Qb(n.documents[0])))):t=function(e){return wk(iw(e))}(e.query),new Zw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,yg.fromBase64String(e.resumeToken))}function c_(e,t){var n,r=a_(t.snapshotVersion),i=a_(t.lastLimboFreeSnapshotVersion);n=Jg(t.target)?nw(e.Gt,t.target):rw(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Nw(t.targetId,Qg(t.target),r,a,t.sequenceNumber,i,n)}function l_(e){var t=iw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_k(t,t.limit,"L"):t}var f_=function(){function e(){$(this,e)}return Z(e,[{key:"getBundleMetadata",value:function(e,t){return h_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:o_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return h_(e).put({bundleId:(n=t).id,createTime:a_(Bb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return d_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:l_(t.bundledQuery),readTime:o_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return d_(e).put(function(e){return{name:e.name,readTime:a_(Bb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function h_(e){return Jw(e,Dw.store)}function d_(e){return Jw(e,Lw.store)}var p_=function(){function e(){$(this,e),this.zt=new v_}return Z(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),jw.resolve()}},{key:"getCollectionParents",value:function(e,t){return jw.resolve(this.zt.getEntries(t))}}]),e}(),v_=function(){function e(){$(this,e),this.index={}}return Z(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vb(dg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vb(dg.comparator)).toArray()}}]),e}(),m_=function(){function e(){$(this,e),this.Ht=new v_}return Z(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:mw(i)};return y_(e).put(a)}return jw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[og(t),""],!1,!0);return y_(e).Bt(r).next((function(e){var r,i=$t(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(kw(a.parent))}}catch(Wt){i.e(Wt)}finally{i.f()}return n}))}}]),e}();function y_(e){return Jw(e,Pw.store)}var g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k_=function(){function e(t,n,r){$(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Z(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function b_(e,t,n){var r=e.store(xw.store),i=e.store(Iw.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){By(1===u)})));var c,l=[],f=$t(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Iw.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(Wt){f.e(Wt)}finally{f.f()}return jw.waitFor(a).next((function(){return l}))}function w_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qy();t=e.noDocument}return JSON.stringify(t).length}k_.DEFAULT_COLLECTION_PERCENTILE=10,k_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,k_.DEFAULT=new k_(41943040,k_.DEFAULT_COLLECTION_PERCENTILE,k_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),k_.DISABLED=new k_(-1,0,0);var __=function(){function e(t,n,r,i){$(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Z(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return I_(e).jt({index:xw.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=T_(e),o=I_(e);return o.add({}).next((function(u){By("number"==typeof u);var s,c=new $w(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ew(e.Gt,t)})),i=n.mutations.map((function(t){return ew(e.Gt,t)}));return new xw(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new vb((function(e,t){return ig(e.canonicalString(),t.canonicalString())})),d=$t(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Iw.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Iw.PLACEHOLDER))}}catch(Wt){d.e(Wt)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),jw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return I_(e).get(t).next((function(e){return e?(By(e.userId===n.userId),u_(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?jw.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return I_(e).jt({index:xw.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(By(t.batchId>=r),a=u_(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return I_(e).jt({index:xw.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return I_(e).Bt(xw.userMutationsIndex,n).next((function(e){return e.map((function(e){return u_(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Iw.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return T_(e).jt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=kw(l);if(s===n.userId&&t.path.isEqual(h))return I_(e).get(f).next((function(e){if(!e)throw qy();By(e.userId===n.userId),a.push(u_(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vb(ig),i=[];return t.forEach((function(t){var a=Iw.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=T_(e).jt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=kw(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),jw.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Iw.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new vb(ig);return T_(e).jt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=kw(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(I_(e).get(t).next((function(e){if(null===e)throw qy();By(e.userId===n.userId),r.push(u_(n.k,e))})))})),jw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return b_(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),jw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return jw.resolve();var r=IDBKeyRange.lowerBound(Iw.prefixForUser(t.userId)),i=[];return T_(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=kw(e[1]);i.push(a)}else r.done()})).next((function(){By(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return x_(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return E_(e).get(this.userId).next((function(e){return e||new _w(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return By(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function x_(e,t,n){var r=Iw.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return T_(e).jt({range:a,Kt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function I_(e){return Jw(e,xw.store)}function T_(e){return Jw(e,Iw.store)}function E_(e){return Jw(e,_w.store)}var S_=function(){function e(t){$(this,e),this.se=t}return Z(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),C_=function(){function e(t,n){$(this,e),this.referenceDelegate=t,this.k=n}return Z(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new S_(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return sg.fromTimestamp(new ug(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return N_(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return By(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return N_(e).jt((function(o,u){var s=s_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return jw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return N_(e).jt((function(e,n){var r=s_(n);t(r)}))}},{key:"oe",value:function(e){return A_(e).get(Rw.key).next((function(e){return By(null!==e),e}))}},{key:"ae",value:function(e,t){return A_(e).put(Rw.key,t)}},{key:"ce",value:function(e,t){return N_(e).put(c_(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Qg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return N_(e).jt({range:r,index:Nw.queryTargetsIndexName},(function(e,n,r){var a=s_(n);Yg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=R_(e);return t.forEach((function(t){var o=mw(t.path);i.push(a.put(new Aw(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),jw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=R_(e);return jw.forEach(t,(function(t){var a=mw(t.path);return jw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=R_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=R_(e),i=Ib();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=kw(e[1]),a=new Cg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=mw(t.path),r=IDBKeyRange.bound([n],[og(n)],!1,!0),i=0;return R_(e).jt({index:Aw.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return N_(e).get(t).next((function(e){return e?s_(e):null}))}}]),e}();function N_(e){return Jw(e,Nw.store)}function A_(e){return Jw(e,Rw.store)}function R_(e){return Jw(e,Aw.store)}function P_(e){return O_.apply(this,arguments)}function O_(){return O_=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Wy.FAILED_PRECONDITION&&t.message===Fw){e.next=2;break}throw t;case 2:Fy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function D_(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=ig(r,o);return 0===s?ig(i,u):s}var L_=function(){function e(t){$(this,e),this.he=t,this.buffer=new vb(D_),this.le=0}return Z(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();D_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),M_=function(){function e(t,n){$(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Z(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Fy("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Un(Dn().mark((function n(){return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Ww(n.t0)){n.next=12;break}Fy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,P_(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),F_=function(){function e(t,n){$(this,e),this.ge=t,this.params=n}return Z(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return jw.resolve(tg.I);var r=new L_(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Fy("LruGarbageCollector","Garbage collection skipped; disabled"),jw.resolve(g_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Fy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),g_):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Fy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),My()<=zn.DEBUG&&Fy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),jw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),U_=function(){function e(t,n){$(this,e),this.db=t,this.garbageCollector=function(e,t){return new F_(e,t)}(this,n)}return Z(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return j_(e,n)}},{key:"removeReference",value:function(e,t,n){return j_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return j_(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return E_(e).Qt((function(r){return x_(e,r,t).next((function(e){return e&&(n=!0),jw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),R_(e).delete([0,mw(o.path)])}))}));i.push(s)}})).next((function(){return jw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return j_(e,t)}},{key:"Ie",value:function(e,t){var n,r=R_(e),i=tg.I;return r.jt({index:Aw.documentTargetsIndex},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==tg.I&&t(new Cg(kw(n)),i),i=s,n=u):i=tg.I})).next((function(){i!==tg.I&&t(new Cg(kw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function j_(e,t){return R_(e).put(function(e,t){return new Aw(0,mw(e.path),t)}(t,e.currentSequenceNumber))}var V_=function(){function e(t,n){$(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Z(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$t(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(Wt){i.e(Wt)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){lg(this.inner,(function(t,n){var r,i=$t(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(Wt){i.e(Wt)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return fg(this.inner)}}]),e}(),q_=function(){function e(){$(this,e),this.changes=new V_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Z(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:sg.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Hg.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?jw.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),B_=function(){function e(t,n){$(this,e),this.k=t,this.Jt=n}return Z(e,[{key:"addEntry",value:function(e,t,n){return H_(e).put(K_(t),n)}},{key:"removeEntry",value:function(e,t){var n=H_(e),r=K_(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return H_(e).get(K_(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return H_(e).get(K_(t)).next((function(e){return{document:n.Pe(t,e),size:w_(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=gb();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=gb(),i=new hb(Cg.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,w_(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return jw.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return H_(e).jt({range:r},(function(e,t,r){for(var o=Cg.fromSegments(e);a&&Cg.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=gb(),a=t.path.length+1,o={};if(n.isEqual(sg.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=r_(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Sw.collectionReadTimeIndex}return H_(e).jt(o,(function(e,n,o){if(e.length===a){var u=t_(r.k,n);t.path.isPrefixOf(u.key.path)?Ek(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new z_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return W_(e).get(Cw.key).next((function(e){return By(!!e),e}))}},{key:"Re",value:function(e,t){return W_(e).put(Cw.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=t_(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(sg.min()))return n}return Hg.newInvalidDocument(e)}}]),e}(),z_=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new V_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Z(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new vb((function(e,t){return ig(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=n_(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=w_(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=n_(t.De.k,Hg.newNoDocument(a,sg.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),jw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(q_);function W_(e){return Jw(e,Cw.store)}function H_(e){return Jw(e,Sw.store)}function K_(e){return e.path.toArray()}var G_=function(){function e(t){$(this,e),this.k=t}return Z(e,[{key:"Nt",value:function(e,t,n,r){var i=this;By(n<r&&n>=0&&r<=11);var a=new Vw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ww.store)}(e),function(e){e.createObjectStore(_w.store,{keyPath:_w.keyPath}),e.createObjectStore(xw.store,{keyPath:xw.keyPath,autoIncrement:!0}).createIndex(xw.userMutationsIndex,xw.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Iw.store)}(e),Q_(e),function(e){e.createObjectStore(Sw.store)}(e));var o=jw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Aw.store),e.deleteObjectStore(Nw.store),e.deleteObjectStore(Rw.store)}(e),Q_(e)),o=o.next((function(){return function(e){var t=e.store(Rw.store),n=new Rw(0,0,sg.min().toTimestamp(),0);return t.put(Rw.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(xw.store).Bt().next((function(n){e.deleteObjectStore(xw.store),e.createObjectStore(xw.store,{keyPath:xw.keyPath,autoIncrement:!0}).createIndex(xw.userMutationsIndex,xw.userMutationsKeyPath,{unique:!0});var r=t.store(xw.store),i=n.map((function(e){return r.put(e)}));return jw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Ow.store,{keyPath:Ow.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Cw.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Sw.store);t.createIndex(Sw.readTimeIndex,Sw.readTimeIndexPath,{unique:!1}),t.createIndex(Sw.collectionReadTimeIndex,Sw.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Dw.store,{keyPath:Dw.keyPath})}(e),function(e){e.createObjectStore(Lw.store,{keyPath:Lw.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Sw.store).jt((function(e,n){t+=w_(n)})).next((function(){var n=new Cw(t);return e.store(Cw.store).put(Cw.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(_w.store),r=e.store(xw.store);return n.Bt().next((function(n){return jw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(xw.userMutationsIndex,i).next((function(r){return jw.forEach(r,(function(r){By(r.userId===n.userId);var i=u_(t.k,r);return b_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Aw.store),n=e.store(Sw.store);return e.store(Rw.store).get(Rw.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new dg(n),o=function(e){return[0,mw(e)]}(a);r.push(t.get(o).next((function(n){return n?jw.resolve():function(n){return t.put(new Aw(0,mw(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return jw.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Pw.store,{keyPath:Pw.keyPath});var n=t.store(Pw.store),r=new v_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:mw(i)})}};return t.store(Sw.store).jt({Kt:!0},(function(e,t){var n=new dg(e);return i(n.popLast())})).next((function(){return t.store(Iw.store).jt({Kt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],kw(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(Nw.store);return n.jt((function(e,r){var i=s_(r),a=c_(t.k,i);return n.put(a)}))}}]),e}();function Q_(e){e.createObjectStore(Aw.store,{keyPath:Aw.keyPath}).createIndex(Aw.documentTargetsIndex,Aw.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Nw.store,{keyPath:Nw.keyPath}).createIndex(Nw.queryTargetsIndexName,Nw.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Rw.store)}var Y_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",J_=function(){function e(t,n,r,i,a,o,u,s,c,l){if($(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=u,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Hy(Wy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new U_(this,i),this.Ge=n+"main",this.k=new e_(s),this.ze=new qw(this.Ge,11,new G_(this.k)),this.He=new C_(this.referenceDelegate,this.k),this.Jt=new m_,this.Je=function(e,t){return new B_(e,t)}(this.k,this.Jt),this.Ye=new f_,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Uy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Z(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Hy(Wy.FAILED_PRECONDITION,Y_);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new tg(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Un(Dn().mark((function n(r){return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Un(Dn().mark((function t(n){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return X_(t).put(new Ow(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Ww(t))return Fy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Fy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return $_(e).get(ww.key).next((function(e){return jw.resolve(t.un(e))}))}},{key:"hn",value:function(e){return X_(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Un(Dn().mark((function e(){var t,n,r,i,a=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Jw(e,Ow.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return jw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=$t(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(Wt){n.e(Wt)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?jw.resolve(!0):$_(e).get(ww.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Hy(Wy.FAILED_PRECONDITION,Y_);return!1}}return!(!t.networkEnabled||!t.inForeground)||X_(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Fy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Un(Dn().mark((function e(){var t=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[ww.store,Ow.store],(function(e){var n=new Yw(e,tg.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return X_(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return __.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Fy("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Mw,(function(a){return i=new Yw(a,r.Be?r.Be.next():tg.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Uy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Hy(Wy.FAILED_PRECONDITION,Fw);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return $_(e).get(ww.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Hy(Wy.FAILED_PRECONDITION,Y_)}))}},{key:"cn",value:function(e){var t=new ww(this.clientId,this.allowTabSynchronization,Date.now());return $_(e).put(ww.key,t)}},{key:"an",value:function(e){var t=this,n=$_(e);return n.get(ww.key).next((function(e){return t.un(e)?(Fy("IndexedDbPersistence","Releasing primary lease."),n.delete(ww.key)):jw.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Uy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!fn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Fy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Uy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Od){Uy("Failed to set zombie client id.",Od)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Od){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return qw.bt()}}]),e}();function $_(e){return Jw(e,ww.store)}function X_(e){return Jw(e,Ow.store)}function Z_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ex=Z((function e(t,n){$(this,e),this.progress=t,this.In=n})),tx=function(){function e(t,n,r){$(this,e),this.Je=t,this.An=n,this.Jt=r}return Z(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=$t(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(Wt){r.e(Wt)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=$t(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(Wt){i.e(Wt)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Cg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):kk(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Cg(t)).next((function(e){var t=bb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=bb();return this.Jt.getCollectionParents(e,i).next((function(o){return jw.forEach(o,(function(o){var u=function(e,t){return new hk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=$t(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=$t(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=Hg.newInvalidDocument(c),r=r.insert(c,l)),Jk(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(Wt){u.e(Wt)}finally{u.f()}}}catch(Wt){n.e(Wt)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Ek(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Ib(),a=$t(t);try{for(a.s();!(r=a.n()).done;){var o,u=$t(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof tb&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(Wt){u.e(Wt)}finally{u.f()}}}catch(Wt){a.e(Wt)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),nx=function(){function e(t,n,r,i){$(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Z(e,null,[{key:"$n",value:function(t,n){var r,i=Ib(),a=Ib(),o=$t(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(Wt){o.e(Wt)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),rx=function(){function e(){$(this,e)}return Z(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(sg.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(vk(t)||mk(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(My()<=zn.DEBUG&&Fy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tk(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new vb(Sk(e));return t.forEach((function(t,r){Ek(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return My()<=zn.DEBUG&&Fy("QueryEngine","Using full collection scan to execute query:",Tk(t)),this.On.getDocumentsMatchingQuery(e,t,sg.min())}}]),e}(),ix=function(){function e(t,n,r,i){$(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new hb(ig),this.Kn=new V_((function(e){return Qg(e)}),Yg),this.jn=sg.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new tx(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return Z(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function ax(e,t,n,r){return new ix(e,t,n,r)}function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zy(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new tx(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Ib(),s=$t(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=$t(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(Wt){f.e(Wt)}finally{f.f()}}}catch(Wt){s.e(Wt)}finally{s.f()}var d,p=$t(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=$t(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(Wt){y.e(Wt)}finally{y.f()}}}catch(Wt){p.e(Wt)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e,t){var n=zy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=jw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);By(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function cx(e){var t=zy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function lx(e,t){var n=zy(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return By(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=gb();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fx(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(sg.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return jw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function fx(e,t,n,r,i){var a=Ib();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=gb();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(sg.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Fy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function hx(e,t){var n=zy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function dx(e,t){var n=zy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,jw.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Zw(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function px(e,t,n){return vx.apply(this,arguments)}function vx(){return vx=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zy(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ww(e.t1)){e.next=12;break}throw e.t1;case 12:Fy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),vx.apply(this,arguments)}function mx(e,t,n){var r=zy(e),i=sg.min(),a=Ib();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=zy(e),i=r.Kn.get(n);return void 0!==i?jw.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,wk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:sg.min(),n?a:Ib())})).next((function(e){return{documents:e,zn:a}}))}))}function yx(e,t){var n=zy(e),r=zy(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function gx(e){var t=zy(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=zy(e),i=gb(),a=r_(n),o=H_(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Sw.readTimeIndex,range:u},(function(e,t){var n=t_(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:i_(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function kx(e){return bx.apply(this,arguments)}function bx(){return bx=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zy(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=H_(e),n=sg.min();return t.jt({index:Sw.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=i_(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),bx.apply(this,arguments)}function wx(e,t,n,r){return _x.apply(this,arguments)}function _x(){return _x=Un(Dn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=zy(t),o=Ib(),u=gb(),s=_b(),c=$t(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(Wt){c.e(Wt)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,dx(a,function(e){return wk(pk(dg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return fx(e,d,u,sg.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function xx(e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=Un(Dn().mark((function e(t,n){var r,i,a,o=arguments;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ib(),e.next=3,dx(t,wk(l_(n.bundledQuery)));case 3:return i=e.sent,a=zy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Bb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(yg.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}var Tx=function(){function e(t){$(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Z(e,[{key:"getBundleMetadata",value:function(e,t){return jw.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Bb(n.createTime)}),jw.resolve()}},{key:"getNamedQuery",value:function(e,t){return jw.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:l_(e.bundledQuery),readTime:Bb(e.readTime)}}(t)),jw.resolve()}}]),e}(),Ex=function(){function e(){$(this,e),this.ts=new vb(Sx.es),this.ns=new vb(Sx.ss)}return Z(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Sx(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Sx(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Cg(new dg([])),r=new Sx(n,e),i=new Sx(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Cg(new dg([])),n=new Sx(t,e),r=new Sx(t,e+1),i=Ib();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Sx(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Sx=function(){function e(t,n){$(this,e),this.key=t,this.fs=n}return Z(e,null,[{key:"es",value:function(e,t){return Cg.comparator(e.key,t.key)||ig(e.fs,t.fs)}},{key:"ss",value:function(e,t){return ig(e.fs,t.fs)||Cg.comparator(e.key,t.key)}}]),e}(),Cx=function(){function e(t,n){$(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new vb(Sx.es)}return Z(e,[{key:"checkEmpty",value:function(e){return jw.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new $w(i,t,n,r);this.An.push(a);var o,u=$t(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new Sx(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(Wt){u.e(Wt)}finally{u.f()}return jw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return jw.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return jw.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return jw.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return jw.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Sx(t,0),i=new Sx(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),jw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vb(ig);return t.forEach((function(e){var t=new Sx(e,0),i=new Sx(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),jw.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Cg.isDocumentKey(i)||(i=i.child(""));var a=new Sx(new Cg(i),0),o=new vb(ig);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),jw.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;By(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return jw.forEach(t.mutations,(function(i){var a=new Sx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Sx(t,0),r=this.ws.firstAfterOrEqual(n);return jw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,jw.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Nx=function(){function e(t,n){$(this,e),this.Jt=t,this.Ts=n,this.docs=new hb(Cg.comparator),this.size=0}return Z(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return jw.resolve(n?n.document.clone():Hg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Hg.newInvalidDocument(e))})),jw.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=gb(),i=new Cg(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Ek(t,c)&&(r=r.insert(c.key,c.clone()))}return jw.resolve(r)}},{key:"Es",value:function(e,t){return jw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ax(this)}},{key:"getSize",value:function(e){return jw.resolve(this.size)}}]),e}(),Ax=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this)).De=e,r}return Z(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),jw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(q_),Rx=function(){function e(t){$(this,e),this.persistence=t,this.Is=new V_((function(e){return Qg(e)}),Yg),this.lastRemoteSnapshotVersion=sg.min(),this.highestTargetId=0,this.As=0,this.Rs=new Ex,this.targetCount=0,this.Ps=S_.ie()}return Z(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),jw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return jw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return jw.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),jw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),jw.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new S_(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,jw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),jw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,jw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),jw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return jw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return jw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),jw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),jw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),jw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return jw.resolve(n)}},{key:"containsKey",value:function(e,t){return jw.resolve(this.Rs.containsKey(t))}}]),e}(),Px=function(){function e(t,n){var r=this;$(this,e),this.bs={},this.Be=new tg(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Rx(this),this.Jt=new p_,this.Je=function(e,t){return new Nx(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new e_(n),this.Ye=new Tx(this.k)}return Z(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new Cx(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Fy("MemoryPersistence","Starting transaction:",e);var i=new Ox(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return jw.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ox=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Z(n)}(Uw),Dx=function(){function e(t){$(this,e),this.persistence=t,this.Cs=new Ex,this.Ns=null}return Z(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw qy()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),jw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),jw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),jw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jw.forEach(this.xs,(function(r){var i=Cg.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return jw.or([function(){return jw.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Lx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Mx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Fx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ux=function(){function e(t,n,r,i){$(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Z(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Hy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Uy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),jx=function(){function e(t,n,r){$(this,e),this.targetId=t,this.state=n,this.error=r}return Z(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Hy(i.error.code,i.error.message))),a?new e(t,i.state,r):(Uy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Vx=function(){function e(t,n){$(this,e),this.clientId=t,this.activeTargetIds=n}return Z(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Eb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Sg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Uy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),qx=function(){function e(t,n){$(this,e),this.clientId=t,this.onlineState=n}return Z(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Uy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Bx=function(){function e(){$(this,e),this.activeTargetIds=Eb()}return Z(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),zx=function(){function e(t,n,r,i,a){$(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new hb(ig),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Lx(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Bx),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Z(e,[{key:"start",value:function(){var e=Un(Dn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=$t(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Lx(this.persistenceKey,i)))&&(o=Vx.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=$t(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(Wt){c.e(Wt)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Fx(this.persistenceKey,e));if(n){var r=jx.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Fx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Fy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Fy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Fy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Fy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Uy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Un(Dn().mark((function e(){var r,i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=tg.I;if(null!=e)try{var n=JSON.parse(e);By("number"==typeof n),t=n}catch(e){Uy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==tg.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new Ux(this.currentUser,e,t,n),i=Mx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=Mx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Fx(this.persistenceKey,e),i=new jx(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return Vx.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ux.Fs(new Oy(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return jx.Fs(r,t)}},{key:"Zs",value:function(e){return qx.Fs(e)}},{key:"fi",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Fy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Eb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Wx=function(){function e(){$(this,e),this.pi=new Bx,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Z(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Bx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Hx=function(){function e(){$(this,e)}return Z(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Kx=function(){function e(){var t=this;$(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return Z(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Fy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$t(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(Wt){t.e(Wt)}finally{t.f()}}},{key:"Pi",value:function(){Fy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$t(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(Wt){t.e(Wt)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Qx=function(){function e(t){$(this,e),this.Vi=t.Vi,this.Si=t.Si}return Z(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Yx=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Z(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ry;o.listenOnce(Ey.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ty.NO_ERROR:var t=o.getResponseJson();Fy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ty.TIMEOUT:Fy("Connection",'RPC "'+e+'" timed out'),a(new Hy(Wy.DEADLINE_EXCEEDED,"Request time out"));break;case Ty.HTTP_ERROR:var n=o.getStatus();if(Fy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Wy).indexOf(t)>=0?t:Wy.UNKNOWN}(r.status);a(new Hy(u,r.message))}else a(new Hy(Wy.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Hy(Wy.UNAVAILABLE,"Connection failed."));break;default:qy()}}finally{Fy("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=xy(),a=Iy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ny({})),this.qi(o.initMessageHeaders,t,n),ln()||dn()||cn().indexOf("Electron/")>=0||pn()||cn().indexOf("MSAppHost/")>=0||hn()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Fy("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Qx({Vi:function(e){l?Fy("Connection","Not sending because WebChannel is closed:",e):(c||(Fy("Connection","Opening WebChannel transport."),s.open(),c=!0),Fy("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Ay.EventType.OPEN,(function(){l||Fy("Connection","WebChannel transport opened.")})),h(s,Ay.EventType.CLOSE,(function(){l||(l=!0,Fy("Connection","WebChannel transport closed"),f.Fi())})),h(s,Ay.EventType.ERROR,(function(e){l||(l=!0,jy("Connection","WebChannel transport errored:",e),f.Fi(new Hy(Wy.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ay.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];By(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Fy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ab[e];if(void 0!==t)return fb(t)}(a),u=i.message;void 0===o&&(o=Wy.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Hy(o,u)),s.close()}else Fy("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,Sy.STAT_EVENT,(function(e){e.stat===Cy.PROXY?Fy("Connection","Detected buffering proxy"):e.stat===Cy.NOPROXY&&Fy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){$(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Z(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Fy("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Fy("RestConnection","Received: ",e),e}),(function(t){throw jy("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Gx[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Jx(){return"undefined"!=typeof window?window:null}function $x(){return"undefined"!=typeof document?document:null}function Xx(e){return new Ub(e,!0)}var Zx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;$(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Z(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Fy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),eI=function(){function e(t,n,r,i,a,o,u,s){$(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Zx(t,n)}return Z(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Wy.RESOURCE_EXHAUSTED?(Uy(n.toString()),Uy("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Wy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Hy(Wy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Un(Dn().mark((function t(){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Fy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Fy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),tI=function(e){te(n,e);var t=ue(n);function n(e,r,i,a,o,u){var s;return $(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return Z(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(By(void 0===t||"string"==typeof t),yg.fromBase64String(t||"")):(By(void 0===t||t instanceof Uint8Array),yg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Wy.UNKNOWN:fb(e.code);return new Hy(t,e.message||"")}(o);n=new Rb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Kb(e,s.document.name),l=Bb(s.document.updateTime),f=new zg({mapValue:{fields:s.document.fields}}),h=Hg.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Nb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Kb(e,v.document),y=v.readTime?Bb(v.readTime):sg.min(),g=Hg.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Nb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Kb(e,b.document),_=b.removedTargetIds||[];n=new Nb([],_,w,null)}else{if(!("filter"in t))return qy();t.filter;var x=t.filter;x.targetId;var I=x.count||0,T=new cb(I),E=x.targetId;n=new Ab(E,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return sg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sg.min():t.readTime?Bb(t.readTime):sg.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Yb(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Jg(r)?{documents:nw(e,r)}:{query:rw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Vb(e,t.resumeToken):t.snapshotVersion.compareTo(sg.min())>0&&(n.readTime=jb(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Yb(this.k),t.removeTarget=e,this.gr(t)}}]),n}(eI),nI=function(e){te(n,e);var t=ue(n);function n(e,r,i,a,o,u){var s;return $(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return Z(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,uo(ne(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(By(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(By(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Bb(e.updateTime):Bb(t);return n.isEqual(sg.min())&&(n=Bb(t)),new Hk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Bb(e.commitTime);return this.listener.Cr(n,t)}return By(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Yb(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ew(t.k,e)}))};this.gr(n)}}]),n}(eI),rI=function(e){te(n,e);var t=ue(n);function n(e,r,i,a){var o;return $(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Z(n,[{key:"Fr",value:function(){if(this.$r)throw new Hy(Wy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Wy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hy(Wy.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Wy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hy(Wy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Z((function e(){$(this,e)}))}()),iI=function(){function e(t,n){$(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return Z(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Uy(t),this.Lr=!1):Fy("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),aI=Z((function e(t,n,r,i,a){var o=this;$(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=mI(o),!e.t0){e.next=5;break}return Fy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zy(t)).Gr.add(4),e.next=4,sI(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,oI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new iI(r,i)}));function oI(e){return uI.apply(this,arguments)}function uI(){return uI=Un(Dn().mark((function e(t){var n,r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mI(t)){e.next=18;break}n=$t(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),uI.apply(this,arguments)}function sI(e){return cI.apply(this,arguments)}function cI(){return cI=Un(Dn().mark((function e(t){var n,r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$t(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),cI.apply(this,arguments)}function lI(e,t){var n=zy(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),vI(n)?pI(n):zI(n).lr()&&hI(n,t))}function fI(e,t){var n=zy(e),r=zI(n);n.Wr.delete(t),r.lr()&&dI(n,t),0===n.Wr.size&&(r.lr()?r._r():mI(n)&&n.Jr.set("Unknown"))}function hI(e,t){e.Yr.X(t.targetId),zI(e).br(t)}function dI(e,t){e.Yr.X(t),zI(e).vr(t)}function pI(e){e.Yr=new Ob({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),zI(e).start(),e.Jr.Br()}function vI(e){return mI(e)&&!zI(e).hr()&&e.Wr.size>0}function mI(e){return 0===zy(e).Gr.size}function yI(e){e.Yr=void 0}function gI(e){return kI.apply(this,arguments)}function kI(){return kI=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){hI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t){return wI.apply(this,arguments)}function wI(){return wI=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yI(t),vI(t)?(t.Jr.Kr(n),pI(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function _I(e,t,n){return xI.apply(this,arguments)}function xI(){return xI=Un(Dn().mark((function e(t,n,r){var i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Rb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=$t(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Fy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,II(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Nb?t.Yr.ot(n):n instanceof Ab?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(sg.min())){e.next=29;break}return e.prev=14,e.next=17,cx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(yg.EMPTY_BYTE_STRING,n.snapshotVersion)),dI(e,t);var r=new Zw(n.target,t,1,n.sequenceNumber);hI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Fy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,II(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),xI.apply(this,arguments)}function II(e,t,n){return TI.apply(this,arguments)}function TI(){return TI=Un(Dn().mark((function e(t,n,r){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ww(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,sI(t);case 5:t.Jr.set("Offline"),r||(r=function(){return cx(t.localStore)}),t.asyncQueue.enqueueRetryable(Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,oI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function EI(e,t){return t().catch((function(n){return II(e,n,t)}))}function SI(e){return CI.apply(this,arguments)}function CI(){return CI=Un(Dn().mark((function e(t){var n,r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zy(t),r=WI(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!NI(n)){e.next=19;break}return e.prev=3,e.next=6,hx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,AI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,II(n,e.t0);case 17:e.next=2;break;case 19:RI(n)&&PI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),CI.apply(this,arguments)}function NI(e){return mI(e)&&e.Qr.length<10}function AI(e,t){e.Qr.push(t);var n=WI(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function RI(e){return mI(e)&&!WI(e).hr()&&e.Qr.length>0}function PI(e){WI(e).start()}function OI(e){return DI.apply(this,arguments)}function DI(){return DI=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:WI(t).kr();case 1:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function LI(e){return MI.apply(this,arguments)}function MI(){return MI=Un(Dn().mark((function e(t){var n,r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=WI(t),r=$t(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(Wt){r.e(Wt)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function FI(e,t,n){return UI.apply(this,arguments)}function UI(){return UI=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Xw.from(i,n,r),e.next=3,EI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,SI(t);case 5:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function jI(e,t){return VI.apply(this,arguments)}function VI(){return VI=Un(Dn().mark((function e(t,n){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&WI(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lb(i=n.code)||i===Wy.ABORTED){e.next=7;break}return r=t.Qr.shift(),WI(t).wr(),e.next=5,EI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,SI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:RI(t)&&PI(t);case 5:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function qI(e,t){return BI.apply(this,arguments)}function BI(){return BI=Un(Dn().mark((function e(t,n){var r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zy(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,oI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,sI(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function zI(e){return e.Xr||(e.Xr=function(e,t,n){var r=zy(e);return r.Fr(),new tI(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:gI.bind(null,e),Ni:bI.bind(null,e),Pr:_I.bind(null,e)}),e.zr.push(function(){var t=Un(Dn().mark((function t(n){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),vI(e)?pI(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:yI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function WI(e){return e.Zr||(e.Zr=function(e,t,n){var r=zy(e);return r.Fr(),new nI(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:OI.bind(null,e),Ni:jI.bind(null,e),Nr:LI.bind(null,e),Cr:FI.bind(null,e)}),e.zr.push(function(){var t=Un(Dn().mark((function t(n){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,SI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Fy("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var HI=function(){function e(t,n,r,i,a){$(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ky,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Z(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hy(Wy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function KI(e,t){if(Uy("AsyncQueue","".concat(t,": ").concat(e)),Ww(e))return new Hy(Wy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var GI=function(){function e(t){$(this,e),this.comparator=t?function(e,n){return t(e,n)||Cg.comparator(e.key,n.key)}:function(e,t){return Cg.comparator(e.key,t.key)},this.keyedMap=bb(),this.sortedSet=new hb(this.comparator)}return Z(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),QI=function(){function e(){$(this,e),this.eo=new hb(Cg.comparator)}return Z(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):qy():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),YI=function(){function e(t,n,r,i,a,o,u,s){$(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Z(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,GI.emptySet(n),a,r,i,!0,!1)}}]),e}(),JI=Z((function e(){$(this,e),this.so=void 0,this.listeners=[]})),$I=Z((function e(){$(this,e),this.queries=new V_((function(e){return Ik(e)}),xk),this.onlineState="Unknown",this.io=new Set}));function XI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=Un(Dn().mark((function e(t,n){var r,i,a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new JI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=KI(e.t0,"Initialization of query '".concat(Tk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&iT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ZI.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=Un(Dn().mark((function e(t,n){var r,i,a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){var n,r=zy(e),i=!1,a=$t(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=$t(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(Wt){l.e(Wt)}finally{l.f()}s.so=o}}}catch(Wt){a.e(Wt)}finally{a.f()}i&&iT(r)}function rT(e,t,n){var r=zy(e),i=r.queries.get(t);if(i){var a,o=$t(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(Wt){o.e(Wt)}finally{o.f()}}r.queries.delete(t)}function iT(e){e.io.forEach((function(e){e.next()}))}var aT=function(){function e(t,n,r){$(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Z(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$t(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(Wt){r.e(Wt)}finally{r.f()}e=new YI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=YI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),oT=function(){function e(t,n){$(this,e),this.payload=t,this.byteLength=n}return Z(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),uT=function(){function e(t){$(this,e),this.k=t}return Z(e,[{key:"Hn",value:function(e){return Kb(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Xb(this.k,e.document,!1):Hg.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Bb(e)}}]),e}(),sT=function(){function e(t,n,r){$(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=cT(t)}return Z(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new uT(this.k),i=$t(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=$t(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ib()).add(u);n.set(c,l)}}catch(Wt){s.e(Wt)}finally{s.f()}}}}catch(Wt){i.e(Wt)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Un(Dn().mark((function e(){var t,n,r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wx(this.localStore,new uT(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=$t(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new ex(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function cT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var lT=Z((function e(t){$(this,e),this.key=t})),fT=Z((function e(t){$(this,e),this.key=t})),hT=function(){function e(t,n){$(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Ib(),this.mutatedKeys=Ib(),this.Ao=Sk(t),this.Ro=new GI(this.Ao)}return Z(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new QI,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=vk(this.query)&&i.size===this.query.limit?i.last():null,c=mk(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ek(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),vk(this.query)||mk(this.query))for(;o.size>this.query.limit;){var l=vk(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qy()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new YI(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new QI,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Ib(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new fT(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new lT(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Ib();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return YI.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),dT=Z((function e(t,n,r){$(this,e),this.query=t,this.targetId=n,this.view=r})),pT=Z((function e(t){$(this,e),this.key=t,this.$o=!1})),vT=function(){function e(t,n,r,i,a,o){$(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new V_((function(e){return Ik(e)}),xk),this.Mo=new Map,this.Lo=new Set,this.Bo=new hb(Cg.comparator),this.Uo=new Map,this.qo=new Ex,this.Ko={},this.jo=new Map,this.Qo=S_.re(),this.onlineState="Unknown",this.Wo=void 0}return Z(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function mT(e,t){return yT.apply(this,arguments)}function yT(){return yT=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cE(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,dx(r.localStore,wk(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,gT(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&lI(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(e,t,n,r){return kT.apply(this,arguments)}function kT(){return kT=Un(Dn().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Un(Dn().mark((function e(t,n,r,i){var a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,mx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(jT(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mx(t.localStore,n,!0);case 3:return a=e.sent,o=new hT(n,a.zn),u=o.bo(a.documents),s=Cb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),jT(t,r,c.Co),l=new dT(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function bT(e,t){return wT.apply(this,arguments)}function wT(){return wT=Un(Dn().mark((function e(t,n){var r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zy(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!xk(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,px(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),fI(r.remoteStore,i.targetId),FT(r,i.targetId)})).catch(P_);case 9:e.next=14;break;case 11:return FT(r,i.targetId),e.next=14,px(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function _T(e,t,n){return xT.apply(this,arguments)}function xT(){return xT=Un(Dn().mark((function e(t,n,r){var i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lE(t),e.prev=1,e.next=4,function(e,t){var n,r=zy(e),i=ug.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Ib());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=$t(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=$k(c,n.get(c.key));null!=l&&u.push(new tb(c.key,l,Wg(l.value.mapValue),Kk.exists(!0)))}}catch(Wt){s.e(Wt)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new hb(ig)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,BT(i,a.changes);case 9:return e.next=11,SI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=KI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),xT.apply(this,arguments)}function IT(e,t){return TT.apply(this,arguments)}function TT(){return TT=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zy(t),e.prev=1,e.next=4,lx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(By(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?By(n.$o):e.removedDocuments.size>0&&(By(n.$o),n.$o=!1))})),e.next=8,BT(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,P_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),TT.apply(this,arguments)}function ET(e,t,n){var r=zy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=zy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$t(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(Wt){a.e(Wt)}finally{a.f()}})),r&&iT(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ST(e,t,n){return CT.apply(this,arguments)}function CT(){return CT=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s,c;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=zy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new hb(Cg.comparator)).insert(o,Hg.newNoDocument(o,sg.min())),s=Ib().add(o),c=new Sb(sg.min(),new Map,new vb(ig),u,s),e.next=9,IT(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),qT(i),e.next=16;break;case 14:return e.next=16,px(i.localStore,n,!1).then((function(){return FT(i,n,r)})).catch(P_);case 16:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function NT(e,t){return AT.apply(this,arguments)}function AT(){return AT=Un(Dn().mark((function e(t,n){var r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zy(t),i=n.batch.batchId,e.prev=1,e.next=4,sx(r.localStore,n);case 4:return a=e.sent,MT(r,i,null),LT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,BT(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,P_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),AT.apply(this,arguments)}function RT(e,t,n){return PT.apply(this,arguments)}function PT(){return PT=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zy(t),e.prev=1,e.next=4,function(e,t){var n=zy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return By(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,MT(i,n,r),LT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,BT(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,P_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),PT.apply(this,arguments)}function OT(e,t){return DT.apply(this,arguments)}function DT(){return DT=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mI((r=zy(t)).remoteStore)||Fy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=zy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=KI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),DT.apply(this,arguments)}function LT(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function MT(e,t,n){var r=zy(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function FT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$t(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(Wt){i.e(Wt)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||UT(e,t)}))}function UT(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(fI(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),qT(e))}function jT(e,t,n){var r,i=$t(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof lT?(e.qo.addReference(a.key,t),VT(e,a)):a instanceof fT?(Fy("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||UT(e,a.key)):qy()}}catch(Wt){i.e(Wt)}finally{i.f()}}function VT(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Fy("SyncEngine","New document in limbo: "+n),e.Lo.add(r),qT(e))}function qT(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Cg(dg.fromString(t)),r=e.Qo.next();e.Uo.set(r,new pT(n)),e.Bo=e.Bo.insert(n,r),lI(e.remoteStore,new Zw(wk(pk(n.path)),r,2,tg.I))}}function BT(e,t,n){return zT.apply(this,arguments)}function zT(){return zT=Un(Dn().mark((function e(t,n,r){var i,a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zy(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=nx.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return jw.forEach(n,(function(t){return jw.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return jw.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ww(e.t0)){e.next=10;break}throw e.t0;case 10:Fy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=$t(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(Wt){i.e(Wt)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function WT(e,t){return HT.apply(this,arguments)}function HT(){return HT=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=zy(t)).currentUser.isEqual(n)){e.next=11;break}return Fy("SyncEngine","User change. New user:",n.toKey()),e.next=5,ox(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Hy(Wy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,BT(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),HT.apply(this,arguments)}function KT(e,t){var n=zy(e),r=n.Uo.get(t);if(r&&r.$o)return Ib().add(r.key);var i=Ib(),a=n.Mo.get(t);if(!a)return i;var o,u=$t(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Oo.get(s);i=i.unionWith(c.view.Po)}}catch(Wt){u.e(Wt)}finally{u.f()}return i}function GT(e,t){return QT.apply(this,arguments)}function QT(){return QT=Un(Dn().mark((function e(t,n){var r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zy(t),e.next=3,mx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&jT(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function YT(e){return JT.apply(this,arguments)}function JT(){return JT=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zy(t),e.abrupt("return",gx(n.localStore).then((function(e){return BT(n,e)})));case 2:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function $T(e,t,n,r){return XT.apply(this,arguments)}function XT(){return XT=Un(Dn().mark((function e(t,n,r,i){var a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=zy(t),e.next=3,function(e,t){var n=zy(e),r=zy(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):jw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,SI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(MT(a,n,i||null),LT(a,n),function(e,t){zy(zy(e).An).ee(t)}(a.localStore,n)):qy();case 11:return e.next=13,BT(a,o);case 13:e.next=16;break;case 15:Fy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}function ZT(e,t){return eE.apply(this,arguments)}function eE(){return eE=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cE(r=zy(t)),lE(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,tE(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,qI(r.remoteStore,!0);case 9:o=$t(a);try{for(o.s();!(u=o.n()).done;)s=u.value,lI(r.remoteStore,s)}catch(Wt){o.e(Wt)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return FT(r,t),px(r.localStore,t,!0)})),fI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,tE(r,c);case 21:return function(e){var t=zy(e);t.Uo.forEach((function(e,n){fI(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new hb(Cg.comparator)}(r),r.Wo=!1,e.next=25,qI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t,n){return nE.apply(this,arguments)}function nE(){return nE=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=zy(t),a=[],o=[],u=$t(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,dx(i.localStore,wk(f[0]));case 11:l=e.sent,h=$t(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,GT(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,yx(i.localStore,c);case 36:return y=e.sent,e.next=39,dx(i.localStore,y);case 39:return l=e.sent,e.next=42,gT(i,rE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),nE.apply(this,arguments)}function rE(e){return dk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iE(e){var t=zy(e);return zy(zy(t.localStore).persistence).Tn()}function aE(e,t,n,r){return oE.apply(this,arguments)}function oE(){return oE=Un(Dn().mark((function e(t,n,r,i){var a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=zy(t)).Wo){e.next=5;break}Fy("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,gx(a.localStore);case 11:return o=e.sent,u=Sb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,BT(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,px(a.localStore,n,!0);case 18:return FT(a,n,i),e.abrupt("break",21);case 20:qy();case 21:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(e,t,n){return sE.apply(this,arguments)}function sE(){return sE=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=cE(t)).Wo){e.next=45;break}a=$t(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Mo.has(u)){e.next=10;break}return Fy("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,yx(i.localStore,u);case 12:return s=e.sent,e.next=15,dx(i.localStore,s);case 15:return c=e.sent,e.next=18,gT(i,rE(s),c.targetId,!1);case 18:lI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=$t(r),e.prev=30,h=Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,px(i.localStore,t,!1).then((function(){fI(i.remoteStore,t),FT(i,t)})).catch(P_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),sE.apply(this,arguments)}function cE(e){var t=zy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ST.bind(null,t),t.Fo.Pr=nT.bind(null,t.eventManager),t.Fo.zo=rT.bind(null,t.eventManager),t}function lE(e){var t=zy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RT.bind(null,t),t}function fE(e,t,n){var r=zy(e);(function(){var e=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=zy(e),r=Bb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(cT(i)),a=new sT(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,BT(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=zy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),jy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var hE=function(){function e(){$(this,e),this.synchronizeTabs=!1}return Z(e,[{key:"initialize",value:function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Xx(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return ax(this.persistence,new rx,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Px(Dx.ks,this.k)}},{key:"Jo",value:function(e){return new Wx}},{key:"terminate",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dE=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Z(n,[{key:"initialize",value:function(){var e=Un(Dn().mark((function e(t){var r=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ne(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,kx(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,lE(this.ta.syncEngine);case 8:return e.next=10,SI(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return ax(this.persistence,new rx,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new M_(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Z_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?k_.withCacheSize(this.cacheSizeBytes):k_.DEFAULT;return new J_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Jx(),$x(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Wx}}]),n}(hE),pE=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Z(n,[{key:"initialize",value:function(){var e=Un(Dn().mark((function e(t){var r,i=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ne(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof zx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:$T.bind(null,r),gi:aE.bind(null,r),yi:uE.bind(null,r),Tn:iE.bind(null,r),_i:YT.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZT(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Jx();if(!zx.bt(t))throw new Hy(Wy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Z_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(dE),vE=function(){function e(){$(this,e)}return Z(e,[{key:"initialize",value:function(){var e=Un(Dn().mark((function e(t,n){var r=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ET(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=WT.bind(null,this.syncEngine),e.next=12,qI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new $I}},{key:"createDatastore",value:function(e){var t,n=Xx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Yx(t));return function(e,t,n,r){return new rI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ET(o.syncEngine,e,0)},a=Kx.bt()?new Kx:new Hx,new aI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new vT(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zy(t),Fy("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,sI(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function mE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Un(Dn().mark((function r(){var i;return Dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var yE=function(){function e(t){$(this,e),this.observer=t,this.muted=!1}return Z(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),gE=function(){function e(t,n){var r=this;$(this,e),this.sa=t,this.k=n,this.metadata=new Ky,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Z(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Un(Dn().mark((function e(){var t,n,r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new oT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Un(Dn().mark((function e(){var t,n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Un(Dn().mark((function e(){var t,n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),kE=function(){function e(t){$(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Z(e,[{key:"lookup",value:function(){var e=Un(Dn().mark((function e(t){var n,r=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Hy(Wy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Un(Dn().mark((function e(t,n){var r,i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zy(t),i=Yb(r.k)+"/documents",a={documents:n.map((function(e){return Hb(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Zb(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());By(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ub(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Un(Dn().mark((function e(){var t,n=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Cg.fromPath(t);n.mutations.push(new sb(r,n.precondition(r)))})),e.next=7,function(){var e=Un(Dn().mark((function e(t,n){var r,i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zy(t),i=Yb(r.k)+"/documents",a={writes:n.map((function(e){return ew(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qy();t=sg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hy(Wy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Kk.updateTime(t):Kk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sg.min()))throw new Hy(Wy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kk.updateTime(t)}return Kk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),bE=function(){function e(t,n,r,i){$(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new Zx(this.asyncQueue,"transaction_retry")}return Z(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Un(Dn().mark((function t(){var n,r;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new kE(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!Tg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!lb(t)}return!1}}]),e}(),wE=function(){function e(t,n,r,i){var a=this;$(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Oy.UNAUTHENTICATED,this.clientId=rg.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return Z(e,[{key:"getConfiguration",value:function(){var e=Un(Dn().mark((function e(){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Hy(Wy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ky;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Un(Dn().mark((function n(){var r;return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=KI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function _E(e,t){return xE.apply(this,arguments)}function xE(){return xE=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Fy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ox(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function IE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,EE(t);case 3:return r=e.sent,Fy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Un(Dn().mark((function e(t,n){var r,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=zy(t)).asyncQueue.verifyOperationInProgress(),Fy("RemoteStore","RemoteStore received new credentials"),i=mI(r),r.Gr.add(3),e.next=6,sI(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,oI(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function EE(e){return SE.apply(this,arguments)}function SE(){return SE=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Fy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,_E(t,new hE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function CE(e){return NE.apply(this,arguments)}function NE(){return NE=Un(Dn().mark((function e(t){return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Fy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,IE(t,new vE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function AE(e){return EE(e).then((function(e){return e.persistence}))}function RE(e){return EE(e).then((function(e){return e.localStore}))}function PE(e){return CE(e).then((function(e){return e.remoteStore}))}function OE(e){return CE(e).then((function(e){return e.syncEngine}))}function DE(e){return LE.apply(this,arguments)}function LE(){return LE=Un(Dn().mark((function e(t){var n,r;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=mT.bind(null,n.syncEngine),r.onUnlisten=bT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ky;return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function i(){return Dn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yE({next:function(a){t.enqueueAndForget((function(){return eT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Hy(Wy.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Hy(Wy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new aT(pk(n.path),a,{includeMetadataChanges:!0,wo:!0});return XI(e,o)},i.next=3,DE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function FE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ky;return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function i(){return Dn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yE({next:function(n){t.enqueueAndForget((function(){return eT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Hy(Wy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new aT(n,a,{includeMetadataChanges:!0,wo:!0});return XI(e,o)},i.next=3,DE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var UE=Z((function e(t,n,r,i,a,o,u,s){$(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),jE=function(){function e(t,n){$(this,e),this.projectId=t,this.database=n||"(default)"}return Z(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),VE=new Map;function qE(e,t,n){if(!n)throw new Hy(Wy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function BE(e,t,n,r){if(!0===t&&!0===r)throw new Hy(Wy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function zE(e){if(!Cg.isDocumentKey(e))throw new Hy(Wy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function WE(e){if(Cg.isDocumentKey(e))throw new Hy(Wy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function HE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":qy()}function KE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hy(Wy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=HE(e);throw new Hy(Wy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function GE(e,t){if(t<=0)throw new Hy(Wy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var QE=function(){function e(t){var n;if($(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Hy(Wy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hy(Wy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,BE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Z(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),YE=function(){function e(t,n,r){$(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1,t instanceof jE?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hy(Wy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jE(e.options.projectId)}(t))}return Z(e,[{key:"app",get:function(){if(!this._app)throw new Hy(Wy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Hy(Wy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qy;switch(e.type){case"gapi":var t=e.client;return By(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Xy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Hy(Wy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=VE.get(e);t&&(Fy("ComponentProvider","Removing Datastore"),VE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function JE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=KE(e,YE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&jy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Oy.MOCK_USER;else{o=sn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Hy(Wy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Oy(s)}e._authCredentials=new Yy(new Gy(o,u))}}var $E=function(){function e(t,n,r){$(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Z(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ZE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),XE=function(){function e(t,n,r){$(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Z(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ZE=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this,e,r,pk(i)))._path=i,a.type="collection",a}return Z(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $E(this.firestore,null,new Cg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(XE);function eS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),qE("collection","path",t),e instanceof YE){var a=dg.fromString.apply(dg,[t].concat(r));return WE(a),new ZE(e,null,a)}if(!(e instanceof $E||e instanceof ZE))throw new Hy(Wy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(dg.fromString.apply(dg,[t].concat(r)));return WE(o),new ZE(e.firestore,null,o)}function tS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=On(e),1===arguments.length&&(t=rg.A()),qE("doc","path",t),e instanceof YE){var a=dg.fromString.apply(dg,[t].concat(r));return zE(a),new $E(e,null,new Cg(a))}if(!(e instanceof $E||e instanceof ZE))throw new Hy(Wy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(dg.fromString.apply(dg,[t].concat(r)));return zE(o),new $E(e.firestore,e instanceof ZE?e.converter:null,new Cg(o))}function nS(e,t){return e=On(e),t=On(t),(e instanceof $E||e instanceof ZE)&&(t instanceof $E||t instanceof ZE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rS(e,t){return e=On(e),t=On(t),e instanceof XE&&t instanceof XE&&e.firestore===t.firestore&&xk(e._query,t._query)&&e.converter===t.converter}var iS=function(){function e(){var t=this;$(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Zx(this,"async_queue_retry"),this.Ra=function(){var e=$x();e&&Fy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=$x();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return Z(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=$x();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new Ky;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Un(Dn().mark((function e(){var t=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ww(e.t0)){e.next=12;break}throw e.t0;case 12:Fy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Uy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=HI.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&qy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Un(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=$t(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(Wt){n.e(Wt)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$t(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(Wt){r.e(Wt)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function aS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=$t(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(Wt){i.e(Wt)}finally{i.f()}return!1}(e)}var oS=function(){function e(){$(this,e),this._progressObserver={},this._taskCompletionResolver=new Ky,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Z(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uS=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new iS,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Z(n,[{key:"_terminate",value:function(){return this._firestoreClient||cS(this),this._firestoreClient.terminate()}}]),n}(YE);function sS(e){return e._firestoreClient||cS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new UE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lS(e,t,n){var r=new Ky;return e.asyncQueue.enqueue(Un(Dn().mark((function i(){return Dn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_E(e,n);case 3:return i.next=5,IE(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Wy.FAILED_PRECONDITION||e.code===Wy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fS(e){return function(e){return e.asyncQueue.enqueue(Un(Dn().mark((function t(){var n,r;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,AE(e);case 2:return n=t.sent,t.next=5,PE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=zy(e);return t.Gr.delete(0),oI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sS(e=KE(e,uS)))}function hS(e){return function(e){return e.asyncQueue.enqueue(Un(Dn().mark((function t(){var n,r;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,AE(e);case 2:return n=t.sent,t.next=5,PE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zy(t)).Gr.add(0),e.next=4,sI(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sS(e=KE(e,uS)))}function dS(e,t){var n=sS(e=KE(e,uS)),r=new oS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new gE(e,t)}(function(e,t){if(e instanceof Uint8Array)return mE(e,t);if(e instanceof ArrayBuffer)return mE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Xx(t));e.asyncQueue.enqueueAndForget(Un(Dn().mark((function t(){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fE,t.next=3,OE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function pS(e,t){return function(e,t){return e.asyncQueue.enqueue(Un(Dn().mark((function n(){return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=zy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,RE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sS(e=KE(e,uS)),t).then((function(t){return t?new XE(e,null,t.query):null}))}function vS(e){if(e._initialized||e._terminated)throw new Hy(Wy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mS=function(){function e(){$(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vg(n)}return Z(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var yS=function(){function e(t){$(this,e),this._byteString=t}return Z(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(yg.fromBase64String(t))}catch(t){throw new Hy(Wy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(yg.fromUint8Array(t))}}]),e}(),gS=Z((function e(t){$(this,e),this._methodName=t})),kS=function(){function e(t,n){if($(this,e),!isFinite(t)||t<-90||t>90)throw new Hy(Wy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Hy(Wy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Z(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ig(this._lat,e._lat)||ig(this._long,e._long)}}]),e}(),bS=/^__.*__$/,wS=function(){function e(t,n,r){$(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Z(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new tb(e,this.data,this.fieldMask,t,this.fieldTransforms):new eb(e,this.data,t,this.fieldTransforms)}}]),e}(),_S=function(){function e(t,n,r){$(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Z(e,[{key:"toMutation",value:function(e,t){return new tb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function xS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qy()}}var IS=function(){function e(t,n,r,i,a,o){$(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Z(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return WS(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(xS(this.xa)&&bS.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),TS=function(){function e(t,n,r){$(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Xx(t)}return Z(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IS({xa:e,methodName:t,Ka:n,path:vg.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function ES(e){var t=e._freezeSettings(),n=Xx(e._databaseId);return new TS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function SS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);VS("Data must be an object, but it was:",o,r);var u,s,c=US(r,o);if(a.merge)u=new mg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=$t(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=qS(t,d,n);if(!o.contains(p))throw new Hy(Wy.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));HS(f,p)||f.push(p)}}catch(Wt){h.e(Wt)}finally{h.f()}u=new mg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wS(new zg(c),u,s)}var CS=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gS);function NS(e,t,n){return new IS({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var AS=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"_toFieldTransform",value:function(e){return new Wk(e.path,new Mk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gS),RS=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e)).Qa=r,i}return Z(n,[{key:"_toFieldTransform",value:function(e){var t=NS(this,e,!0),n=this.Qa.map((function(e){return FS(e,t)})),r=new Fk(n);return new Wk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gS),PS=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e)).Qa=r,i}return Z(n,[{key:"_toFieldTransform",value:function(e){var t=NS(this,e,!0),n=this.Qa.map((function(e){return FS(e,t)})),r=new jk(n);return new Wk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gS),OS=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e)).Wa=r,i}return Z(n,[{key:"_toFieldTransform",value:function(e){var t=new qk(e.k,Rk(e.k,this.Wa));return new Wk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gS);function DS(e,t,n,r){var i=e.ja(1,t,n);VS("Data must be an object, but it was:",i,r);var a=[],o=zg.empty();lg(r,(function(e,r){var u=zS(t,e,n);r=On(r);var s=i.La(u);if(r instanceof CS)a.push(u);else{var c=FS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new mg(a);return new _S(o,u,i.fieldTransforms)}function LS(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[qS(t,r,n)],s=[i];if(a.length%2!=0)throw new Hy(Wy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(qS(t,a[c])),s.push(a[c+1]);for(var l=[],f=zg.empty(),h=u.length-1;h>=0;--h)if(!HS(l,u[h])){var d=u[h],p=s[h];p=On(p);var v=o.La(d);if(p instanceof CS)l.push(d);else{var m=FS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new mg(l);return new _S(f,y,o.fieldTransforms)}function MS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return FS(n,e.ja(r?4:3,t))}function FS(e,t){if(jS(e=On(e)))return VS("Unsupported field value:",t,e),US(e,t);if(e instanceof gS)return function(e,t){if(!xS(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$t(e);try{for(a.s();!(n=a.n()).done;){var o=FS(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(Wt){a.e(Wt)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=On(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rk(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ug.fromDate(e);return{timestampValue:jb(t.k,n)}}if(e instanceof ug){var r=new ug(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jb(t.k,r)}}if(e instanceof kS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yS)return{bytesValue:Vb(t.k,e._byteString)};if(e instanceof $E){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:zb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(HE(e)))}(e,t)}function US(e,t){var n={};return fg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lg(e,(function(e,r){var i=FS(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ug||e instanceof kS||e instanceof yS||e instanceof $E||e instanceof gS)}function VS(e,t,n){if(!jS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=HE(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function qS(e,t,n){if((t=On(t))instanceof mS)return t._internalPath;if("string"==typeof t)return zS(e,t);throw WS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var BS=new RegExp("[~\\*/\\[\\]]");function zS(e,t,n){if(t.search(BS)>=0)throw WS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Xt(mS,Mn(t.split(".")))._internalPath}catch(r){throw WS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function WS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Hy(Wy.INVALID_ARGUMENT,u+e+s)}function HS(e,t){return e.some((function(e){return e.isEqual(t)}))}var KS=function(){function e(t,n,r,i,a){$(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Z(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new $E(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new GS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(QS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),GS=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"data",value:function(){return uo(ne(n.prototype),"data",this).call(this)}}]),n}(KS);function QS(e,t){return"string"==typeof t?zS(e,t):t instanceof mS?t._internalPath:t._delegate._internalPath}var YS=function(){function e(t,n){$(this,e),this.hasPendingWrites=t,this.fromCache=n}return Z(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),JS=function(e){te(n,e);var t=ue(n);function n(e,r,i,a,o,u){var s;return $(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Z(n,[{key:"exists",value:function(){return uo(ne(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $S(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(QS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(KS),$S=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uo(ne(n.prototype),"data",this).call(this,e)}}]),n}(JS),XS=function(){function e(t,n,r,i){$(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new YS(i.hasPendingWrites,i.fromCache),this.query=r}return Z(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $S(n._firestore,n._userDataWriter,r.key,r,new YS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hy(Wy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new $S(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $S(e._firestore,e._userDataWriter,t.doc.key,t.doc,new YS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ZS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function ZS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qy()}}function eC(e,t){return e instanceof JS&&t instanceof JS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof XS&&t instanceof XS&&e._firestore===t._firestore&&rS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function tC(e){if(mk(e)&&0===e.explicitOrderBy.length)throw new Hy(Wy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nC=Z((function e(){$(this,e)}));function rC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var iC=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return Z(n,[{key:"_apply",value:function(e){var t=ES(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){vC(o,a);var s,c=[],l=$t(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(pC(r,e,f))}}catch(Wt){l.e(Wt)}finally{l.f()}u={arrayValue:{values:c}}}else u=pC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||vC(o,a),u=MS(n,"where",o,"in"===a||"not-in"===a);var h=$g.create(i,a,u);return function(e,t){if(t.V()){var n=gk(e);if(null!==n&&!n.isEqual(t.field))throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=yk(e);null!==r&&mC(e,t.field,r)}var i=function(e,t){var n,r=$t(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(Wt){r.e(Wt)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Hy(Wy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Hy(Wy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new XE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new hk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(nC);var aC=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return Z(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sk(t,n);return function(e,t){if(null===yk(e)){var n=gk(e);null!==n&&mC(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new XE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new hk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(nC);var oC=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return Z(n,[{key:"_apply",value:function(e){return new XE(e.firestore,e.converter,_k(e._query,this.Ya,this.Xa))}}]),n}(nC);var uC=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Z(n,[{key:"_apply",value:function(e){var t=dC(e,this.type,this.Za,this.tc);return new XE(e.firestore,e.converter,function(e,t){return new hk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(nC);function sC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uC("startAt",t,!0)}function cC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uC("startAfter",t,!1)}var lC=function(e){te(n,e);var t=ue(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Z(n,[{key:"_apply",value:function(e){var t=dC(e,this.type,this.Za,this.tc);return new XE(e.firestore,e.converter,function(e,t){return new hk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(nC);function fC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lC("endBefore",t,!0)}function hC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lC("endAt",t,!1)}function dC(e,t,n,r){if(n[0]=On(n[0]),n[0]instanceof KS)return function(e,t,n,r,i){if(!r)throw new Hy(Wy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=$t(bk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Mg(t,r.key));else{var c=r.data.field(s.field);if(_g(c))throw new Hy(Wy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(Wt){u.e(Wt)}finally{u.f()}return new ok(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ES(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Hy(Wy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!kk(e)&&-1!==c.indexOf("/"))throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(dg.fromString(c));if(!Cg.isDocumentKey(l))throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Cg(l);u.push(Mg(t,f))}else{var h=MS(n,r,c);u.push(h)}}return new ok(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function pC(e,t,n){if("string"==typeof(n=On(n))){if(""===n)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kk(t)&&-1!==n.indexOf("/"))throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(dg.fromString(n));if(!Cg.isDocumentKey(r))throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Mg(e,new Cg(r))}if(n instanceof $E)return Mg(e,n._key);throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(HE(n),"."))}function vC(e,t){if(!Array.isArray(e)||0===e.length)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function mC(e,t,n){if(!n.isEqual(t))throw new Hy(Wy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var yC=function(){function e(){$(this,e)}return Z(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ng(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return lg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new kS(bg(e.latitude),bg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=xg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ig(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=kg(e);return new ug(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=dg.fromString(e);By(vw(n));var r=new jE(n.get(1),n.get(3)),i=new Cg(n.popFirst(5));return r.isEqual(t)||Uy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function gC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kC=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this)).firestore=e,r}return Z(n,[{key:"convertBytes",value:function(e){return new yS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $E(this.firestore,null,t)}}]),n}(yC),bC=function(){function e(t,n){$(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ES(t)}return Z(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wC(e,this._firestore),i=gC(r.converter,t,n),a=SS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Kk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=wC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=On(t))||t instanceof mS?LS(this._dataReader,"WriteBatch.update",i._key,t,n,o):DS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Kk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wC(e,this._firestore);return this._mutations=this._mutations.concat(new ub(t._key,Kk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Hy(Wy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wC(e,t){if((e=On(e)).firestore!==t)throw new Hy(Wy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var _C=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this)).firestore=e,r}return Z(n,[{key:"convertBytes",value:function(e){return new yS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $E(this.firestore,null,t)}}]),n}(yC);function xC(e){e=KE(e,$E);var t=KE(e.firestore,uS),n=sS(t),r=new _C(t);return function(e,t){var n=new Ky;return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function r(){return Dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Un(Dn().mark((function e(t,n,r){var i,a;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=zy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Hy(Wy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=KI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,RE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new JS(t,r,e._key,n,new YS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function IC(e){e=KE(e,XE);var t=KE(e.firestore,uS),n=sS(t),r=new _C(t);return function(e,t){var n=new Ky;return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function r(){return Dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Un(Dn().mark((function e(t,n,r){var i,a,o,u,s;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mx(t,n,!0);case 3:i=e.sent,a=new hT(n,i.zn),o=a.bo(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=KI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,RE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new XS(t,r,e,n)}))}function TC(e,t,n){e=KE(e,$E);var r=KE(e.firestore,uS),i=gC(e.converter,t,n);return NC(r,[SS(ES(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Kk.none())])}function EC(e,t,n){e=KE(e,$E);for(var r=KE(e.firestore,uS),i=ES(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return NC(r,[("string"==typeof(t=On(t))||t instanceof mS?LS(i,"updateDoc",e._key,t,n,o):DS(i,"updateDoc",e._key,t)).toMutation(e._key,Kk.exists(!0))])}function SC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=On(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||aS(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(aS(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof $E)l=KE(e.firestore,uS),f=pk(e._key.path),c={next:function(t){n[s]&&n[s](AC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=KE(e,XE);l=KE(p.firestore,uS),f=p._query;var v=new _C(l);c={next:function(e){n[s]&&n[s](new XS(l,v,p,e))},error:n[s+1],complete:n[s+2]},tC(e._query)}return function(e,t,n,r){var i=new yE(r),a=new aT(t,i,n);return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function t(){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=XI,t.next=3,DE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Un(Dn().mark((function t(){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=eT,t.next=3,DE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sS(l),f,h,c)}function CC(e,t){return function(e,t){var n=new yE(t);return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function t(){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zy(e).io.add(t),t.next()},t.next=3,DE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Un(Dn().mark((function t(){return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zy(e).io.delete(t)},t.next=3,DE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sS(e=KE(e,uS)),aS(t)?t:{next:t})}function NC(e,t){return function(e,t){var n=new Ky;return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function r(){return Dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=_T,r.next=3,OE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sS(e),t)}function AC(e,t,n){var r=n.docs.get(t._key),i=new _C(e);return new JS(e,i,t._key,r,new YS(n.hasPendingWrites,n.fromCache),t.converter)}var RC=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,r))._firestore=e,i}return Z(n,[{key:"get",value:function(e){var t=this,r=wC(e,this._firestore),i=new _C(this._firestore);return uo(ne(n.prototype),"get",this).call(this,e).then((function(e){return new JS(t._firestore,i,r._key,e._document,new YS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){$(this,e),this._firestore=t,this._transaction=n,this._dataReader=ES(t)}return Z(e,[{key:"get",value:function(e){var t=this,n=wC(e,this._firestore),r=new kC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return qy();var i=e[0];if(i.isFoundDocument())return new KS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new KS(t._firestore,r,n._key,null,n.converter);throw qy()}))}},{key:"set",value:function(e,t,n){var r=wC(e,this._firestore),i=gC(r.converter,t,n),a=SS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=wC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=On(t))||t instanceof mS?LS(this._dataReader,"Transaction.update",i._key,t,n,o):DS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=wC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function PC(e,t){return function(e,t){var n=new Ky;return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function r(){var i;return Dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return CE(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new bE(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(sS(e=KE(e,uS)),(function(n){return t(new RC(e,n))}))}function OC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RS("arrayUnion",t)}function DC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Dy=e}(gr),cr(new jn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new uS(i,new Jy(e.getProvider("auth-internal")),new eg(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ir(Py,"3.4.1",e),Ir(Py,"3.4.1","esm2017")}();function LC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Hy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function MC(){if("undefined"===typeof Uint8Array)throw new Hy("unimplemented","Uint8Arrays are not available in this environment.")}function FC(){if("undefined"==typeof atob)throw new Hy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var UC=function(){function e(t){$(this,e),this._delegate=t}return Z(e,[{key:"toBase64",value:function(){return FC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return MC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return FC(),new e(yS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return MC(),new e(yS.fromUint8Array(t))}}]),e}();function jC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=$t(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(Wt){i.e(Wt)}finally{i.f()}return!1}(e,["next","error","complete"])}var VC=function(){function e(){$(this,e)}return Z(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){vS(e=KE(e,uS));var n=sS(e),r=e._freezeSettings(),i=new vE;return lS(n,i,new dE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){vS(e=KE(e,uS));var t=sS(e),n=e._freezeSettings(),r=new vE;return lS(t,r,new pE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Hy(Wy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ky;return e._queue.enqueueAndForgetEvenWhileRestricted(Un(Dn().mark((function n(){return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Un(Dn().mark((function e(t){var n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qw.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,qw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Z_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),qC=function(){function e(t,n,r){var i=this;$(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof jE||(this._appCompat=t)}return Z(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};JE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return fS(this._delegate)}},{key:"disableNetwork",value:function(){return hS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&BE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ky;return e.asyncQueue.enqueueAndForget(Un(Dn().mark((function n(){return Dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=OT,n.next=3,OE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sS(e=KE(e,uS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return CC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Hy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tN(this,eS(this._delegate,e))}catch(QA){throw GC(QA,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new KC(this,tS(this._delegate,e))}catch(QA){throw GC(QA,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new XC(this,function(e,t){if(e=KE(e,YE),qE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hy(Wy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new XE(e,null,function(e){return new hk(dg.emptyPath(),e)}(t))}(this._delegate,e))}catch(QA){throw GC(QA,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return PC(this._delegate,(function(n){return e(new zC(t,n))}))}},{key:"batch",value:function(){var e=this;return sS(this._delegate),new WC(new bC(this._delegate,(function(t){return NC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return dS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return pS(this._delegate,e).then((function(e){return e?new XC(t,e):null}))}}]),e}(),BC=function(e){te(n,e);var t=ue(n);function n(e){var r;return $(this,n),(r=t.call(this)).firestore=e,r}return Z(n,[{key:"convertBytes",value:function(e){return new UC(new yS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return KC.forKey(t,this.firestore,null)}}]),n}(yC);var zC=function(){function e(t,n){$(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new BC(t)}return Z(e,[{key:"get",value:function(e){var t=this,n=nN(e);return this._delegate.get(n).then((function(e){return new JC(t._firestore,new JS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nN(e);return n?(LC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nN(e);return this._delegate.delete(t),this}}]),e}(),WC=function(){function e(t){$(this,e),this._delegate=t}return Z(e,[{key:"set",value:function(e,t,n){var r=nN(e);return n?(LC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),HC=function(){function e(t,n,r){$(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Z(e,[{key:"fromFirestore",value:function(e,t){var n=new $S(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $C(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new BC(t),n),i.set(n,a)),a}}]),e}();HC.INSTANCES=new WeakMap;var KC=function(){function e(t,n){$(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BC(t)}return Z(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tN(this.firestore,eS(this._delegate,e))}catch(QA){throw GC(QA,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=On(e))instanceof $E&&nS(this._delegate,e)}},{key:"set",value:function(e,t){t=LC("DocumentReference.set",t);try{return t?TC(this._delegate,e,t):TC(this._delegate,e)}catch(QA){throw GC(QA,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?EC(this._delegate,e):EC.apply(void 0,[this._delegate,e,t].concat(r))}catch(QA){throw GC(QA,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return NC(KE(e.firestore,uS),[new ub(e._key,Kk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QC(n),a=YC(n,(function(t){return new JC(e.firestore,new JS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return SC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?xC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KE(e,$E);var t=KE(e.firestore,uS);return ME(sS(t),e._key,{source:"server"}).then((function(n){return AC(t,e,n)}))}(this._delegate):function(e){e=KE(e,$E);var t=KE(e.firestore,uS);return ME(sS(t),e._key).then((function(n){return AC(t,e,n)}))}(this._delegate),t.then((function(e){return new JC(n.firestore,new JS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(HC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Hy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new $E(n._delegate,r,new Cg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new $E(n._delegate,r,t))}}]),e}();function GC(e,t,n){return e.message=e.message.replace(t,n),e}function QC(e){var t,n=$t(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!jC(r))return r}}catch(Wt){n.e(Wt)}finally{n.f()}return{}}function YC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jC(e[0])?e[0]:jC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var JC=function(){function e(t,n){$(this,e),this._firestore=t,this._delegate=n}return Z(e,[{key:"ref",get:function(){return new KC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return eC(this._delegate,e._delegate)}}]),e}(),$C=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||qy()}(void 0!==t),t}}]),n}(JC),XC=function(){function e(t,n){$(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BC(t)}return Z(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,rC(this._delegate,function(e,t,n){var r=t,i=QS("where",e);return new iC(i,r,n)}(t,n,r)))}catch(QA){throw GC(QA,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,rC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=QS("orderBy",e);return new aC(n,t)}(t,n)))}catch(QA){throw GC(QA,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,rC(this._delegate,function(e){return GE("limit",e),new oC("limit",e,"F")}(t)))}catch(QA){throw GC(QA,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,rC(this._delegate,function(e){return GE("limitToLast",e),new oC("limitToLast",e,"L")}(t)))}catch(QA){throw GC(QA,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,rC(this._delegate,sC.apply(void 0,arguments)))}catch(QA){throw GC(QA,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,rC(this._delegate,cC.apply(void 0,arguments)))}catch(QA){throw GC(QA,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,rC(this._delegate,fC.apply(void 0,arguments)))}catch(QA){throw GC(QA,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,rC(this._delegate,hC.apply(void 0,arguments)))}catch(QA){throw GC(QA,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?IC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KE(e,XE);var t=KE(e.firestore,uS),n=sS(t),r=new _C(t);return FE(n,e._query,{source:"server"}).then((function(n){return new XS(t,r,e,n)}))}(this._delegate):function(e){e=KE(e,XE);var t=KE(e.firestore,uS),n=sS(t),r=new _C(t);return tC(e._query),FE(n,e._query).then((function(n){return new XS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new eN(n.firestore,new XS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QC(n),a=YC(n,(function(t){return new eN(e.firestore,new XS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return SC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(HC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ZC=function(){function e(t,n){$(this,e),this._firestore=t,this._delegate=n}return Z(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new $C(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eN=function(){function e(t,n){$(this,e),this._firestore=t,this._delegate=n}return Z(e,[{key:"query",get:function(){return new XC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new $C(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ZC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new $C(n._firestore,r))}))}},{key:"isEqual",value:function(e){return eC(this._delegate,e._delegate)}}]),e}(),tN=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Z(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new KC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new KC(this.firestore,void 0===e?tS(this._delegate):tS(this._delegate,e))}catch(QA){throw GC(QA,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=KE(e.firestore,uS),r=tS(e),i=gC(e.converter,t);return NC(n,[SS(ES(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Kk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new KC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nS(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(HC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(XC);function nN(e){return KE(e,$E)}var rN=function(){function e(){$(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Xt(mS,n)}return Z(e,[{key:"isEqual",value:function(e){return(e=On(e))instanceof mS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(vg.keyField().canonicalString())}}]),e}(),iN=function(){function e(t){$(this,e),this._delegate=t}return Z(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new AS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new CS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=OC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=DC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new OS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),aN={Firestore:qC,GeoPoint:kS,Timestamp:ug,Blob:UC,Transaction:zC,WriteBatch:WC,DocumentReference:KC,DocumentSnapshot:JC,Query:XC,QueryDocumentSnapshot:$C,QuerySnapshot:eN,CollectionReference:tN,FieldPath:rN,FieldValue:iN,setLogLevel:function(e){!function(e){Ly.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new jn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},aN)))}(e,(function(e,t){return new qC(e,t,new VC)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(Or);var oN="firebasestorage.googleapis.com",uN=function(e){te(n,e);var t=ue(n);function n(e,r){var i;return $(this,n),(i=t.call(this,sN(e),"Firebase Storage: ".concat(r," (").concat(sN(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ae(i),n.prototype),i}return Z(n,[{key:"_codeEquals",value:function(e){return sN(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(gn);function sN(e){return"storage/"+e}function cN(){return new uN("unknown","An unknown error occurred, please check the error payload for server response.")}function lN(){return new uN("canceled","User canceled the upload/download.")}function fN(){return new uN("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function hN(e){return new uN("invalid-argument",e)}function dN(){return new uN("app-deleted","The Firebase app was deleted.")}function pN(e){return new uN("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vN(e,t){return new uN("invalid-format","String does not match format '"+e+"': "+t)}function mN(e){throw new uN("internal-error","Internal error: "+e)}var yN,gN=function(){function e(t,n){$(this,e),this.bucket=t,this.path_=n}return Z(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(QA){return new e(t,"")}if(""===r.path)return r;throw new uN("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===oN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new uN("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),kN=function(){function e(t){$(this,e),this.promise_=Promise.reject(t)}return Z(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function bN(e){return"string"===typeof e||e instanceof String}function wN(e){return _N()&&e instanceof Blob}function _N(){return"undefined"!==typeof Blob}function xN(e,t,n,r){if(r<t)throw hN("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw hN("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function IN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function TN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(yN||(yN={}));var EN=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;$(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Z(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(QA){i(QA)}else if(null!==a){var u=cN();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?dN():lN());else i(new uN("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new SN(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new SN(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===yN.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new SN(o,r))}else{var u=r.getErrorCode()===yN.ABORT;t(!1,new SN(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),SN=Z((function e(t,n,r){$(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function CN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function NN(){for(var e=CN(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(_N())return new Blob(n);throw new uN("unsupported-environment","This browser doesn't seem to support creating Blobs")}var AN={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},RN=Z((function e(t,n){$(this,e),this.data=t,this.contentType=n||null}));function PN(e,t){switch(e){case AN.RAW:return new RN(ON(t));case AN.BASE64:case AN.BASE64URL:return new RN(DN(e,t));case AN.DATA_URL:return new RN(function(e){var t=new LN(e);return t.base64?DN(AN.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(QA){throw vN(AN.DATA_URL,"Malformed data URL.")}return ON(t)}(t.rest)}(t),new LN(t).contentType)}throw cN()}function ON(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function DN(e,t){switch(e){case AN.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw vN(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case AN.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw vN(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(QA){throw vN(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var LN=Z((function e(t){$(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw vN(AN.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var MN=function(){function e(t,n){$(this,e);var r=0,i="";wN(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Z(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(wN(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(_N()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(NN.apply(null,i))}var a=n.map((function(e){return bN(e)?PN(AN.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function FN(e){var t;try{t=JSON.parse(e)}catch(QA){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function UN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function jN(e,t){return t}var VN=Z((function e(t,n,r,i){$(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||jN})),qN=null;function BN(){if(qN)return qN;var e=[];e.push(new VN("bucket")),e.push(new VN("generation")),e.push(new VN("metageneration")),e.push(new VN("name","fullPath",!0));var t=new VN("name");t.xform=function(e,t){return function(e){return!bN(e)||e.length<2?e:UN(e)}(t)},e.push(t);var n=new VN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new VN("timeCreated")),e.push(new VN("updated")),e.push(new VN("md5Hash",null,!0)),e.push(new VN("cacheControl",null,!0)),e.push(new VN("contentDisposition",null,!0)),e.push(new VN("contentEncoding",null,!0)),e.push(new VN("contentLanguage",null,!0)),e.push(new VN("contentType",null,!0)),e.push(new VN("metadata","customMetadata",!0)),qN=e}function zN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new gN(n,r);return t._makeStorageReference(i)}})}(r,e),r}function WN(e,t,n){var r=FN(t);return null===r?null:zN(e,r,n)}function HN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function KN(e,t,n){var r=FN(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=$t(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new gN(t,o));r.prefixes.push(u)}}catch(Wt){a.e(Wt)}finally{a.f()}}if(n.items){var s,c=$t(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new gN(t,l.name));r.items.push(f)}}catch(Wt){c.e(Wt)}finally{c.f()}}return r}(e,t,r)}var GN=Z((function e(t,n,r,i){$(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function QN(e){if(!e)throw cN()}function YN(e,t){return function(n,r){var i=WN(e,r,t);return QN(null!==i),i}}function JN(e,t){return function(n,r){var i=WN(e,r,t);return QN(null!==i),function(e,t,n,r){var i=FN(t);if(null===i)return null;if(!bN(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return IN("/b/"+o(i)+"/o/"+o(a),n,r)+TN({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function $N(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new uN("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new uN("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new uN("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new uN("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function XN(e){var t=$N(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new uN("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ZN(e,t,n){var r=IN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GN(r,"GET",YN(e,n),i);return a.errorHandler=XN(t),a}function eA(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=IN(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new GN(o,"GET",function(e,t){return function(n,r){var i=KN(e,t,r);return QN(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=$N(t),s}function tA(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nA(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=tA(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+HN(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=MN.getBlob(c,r,l);if(null===f)throw fN();var h={name:s.fullPath},d=IN(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new GN(d,"POST",YN(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=$N(t),v}var rA=Z((function e(t,n,r,i){$(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function iA(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(QA){QN(!1)}return QN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var aA=262144;function oA(e,t,n,r,i,a,o,u){var s=new rA(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new uN("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw fN();var v=t.maxUploadRetryTime,m=new GN(n,"POST",(function(e,n){var i,o=iA(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?YN(t,a)(e,n):null,new rA(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=$N(e),m}var uA={STATE_CHANGED:"state_changed"},sA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cA(e){switch(e){case"running":case"pausing":case"canceling":return sA.RUNNING;case"paused":return sA.PAUSED;case"success":return sA.SUCCESS;case"canceled":return sA.CANCELED;default:return sA.ERROR}}var lA=Z((function e(t,n,r){$(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function fA(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var hA=function(){function e(){var t=this;$(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=yN.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=yN.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Z(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw mN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw mN("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw mN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(QA){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw mN("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw mN("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),dA=function(e){te(n,e);var t=ue(n);function n(){return $(this,n),t.apply(this,arguments)}return Z(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(hA);function pA(){return new dA}var vA=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;$(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=BN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Z(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=tA(t,r,i),u={name:o.fullPath},s=IN(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=HN(o,n),f=e.maxUploadRetryTime,h=new GN(s,"POST",(function(e){var t;iA(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(QA){QN(!1)}return QN(bN(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=$N(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new GN(n,"POST",(function(e){var t=iA(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(QA){QN(!1)}n||QN(!1);var i=Number(n);return QN(!isNaN(i)),new rA(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=$N(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,pA,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=aA*this._chunkMultiplier,n=new rA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=oA(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(QA){return e._error=QA,void e._transition("error")}var u=e._ref.storage._makeRequest(o,pA,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){aA*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=ZN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,pA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=nA(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lN(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=cA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new lA(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(cA(this._state)){case sA.SUCCESS:fA(this._resolve.bind(null,this.snapshot))();break;case sA.CANCELED:case sA.ERROR:fA(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(cA(this._state)){case sA.RUNNING:case sA.PAUSED:e.next&&fA(e.next.bind(e,this.snapshot))();break;case sA.SUCCESS:e.complete&&fA(e.complete.bind(e))();break;default:e.error&&fA(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),mA=function(){function e(t,n){$(this,e),this._service=t,this._location=n instanceof gN?n:gN.makeFromUrl(n,t.host)}return Z(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new gN(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return UN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new gN(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw pN(e)}}]),e}();function yA(e,t,n){return gA.apply(this,arguments)}function gA(){return(gA=Un(Dn().mark((function e(t,n,r){var i,a,o,u;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,kA(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,Mn(u.prefixes)),(a=n.items).push.apply(a,Mn(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,yA(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kA(e,t){null!=t&&"number"===typeof t.maxResults&&xN("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=eA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,pA)}function bA(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=IN(t.fullServerUrl(),e.host,e._protocol),a=HN(n,r),o=e.maxOperationRetryTime,u=new GN(i,"PATCH",YN(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=XN(t),u}(e.storage,e._location,t,BN());return e.storage.makeRequestWithTokens(n,pA)}function wA(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=IN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GN(r,"GET",JN(e,n),i);return a.errorHandler=XN(t),a}(e.storage,e._location,BN());return e.storage.makeRequestWithTokens(t,pA).then((function(e){if(null===e)throw new uN("no-download-url","The given file does not have any download URLs.");return e}))}function _A(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=IN(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new GN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=XN(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,pA)}function xA(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new gN(e._location.bucket,n);return new mA(e.storage,r)}function IA(e,t){if(e instanceof CA){var n=e;if(null==n._bucket)throw new uN("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new mA(n,n._bucket);return null!=t?IA(r,t):r}return void 0!==t?xA(e,t):e}function TA(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof CA)return new mA(e,t);throw hN("To use ref(service, url), the first argument must be a Storage instance.")}return IA(e,t)}function EA(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:gN.makeFromBucketSpec(n,e)}function SA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:sn(i,e.app.options.projectId))}var CA=function(){function e(t,n,r,i,a){$(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=oN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?gN.makeFromBucketSpec(i,this._host):EA(this._host,this.app.options)}return Z(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=gN.makeFromBucketSpec(this._url,e):this._bucket=EA(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){xN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){xN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Un(Dn().mark((function e(){var t,n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Un(Dn().mark((function e(){var t,n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new mA(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new kN(dN());var a=function(e,t,n,r,i,a){var o=TN(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new EN(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Un(Dn().mark((function e(t,n){var r,i,a,o;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),NA="@firebase/storage",AA="0.9.0",RA="storage";function PA(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vA(e,new MN(t),n)}(e=On(e),t,n)}function OA(e){return function(e){e._throwIfRoot("getMetadata");var t=ZN(e.storage,e._location,BN());return e.storage.makeRequestWithTokens(t,pA)}(e=On(e))}function DA(e){return function(e){var t={prefixes:[],items:[]};return yA(e,t).then((function(){return t}))}(e=On(e))}function LA(e,t){return TA(e=On(e),t)}function MA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};SA(e,t,n,r)}function FA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new CA(r,i,a,n,gr)}cr(new jn(RA,FA,"PUBLIC").setMultipleInstances(!0)),Ir(NA,AA,""),Ir(NA,AA,"esm2017");var UA=function(){function e(t,n,r){$(this,e),this._delegate=t,this.task=n,this.ref=r}return Z(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),jA=function(){function e(t,n){$(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Z(e,[{key:"snapshot",get:function(){return new UA(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new UA(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new UA(e,i,i._ref))}:{next:t.next?function(e){return t.next(new UA(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),VA=function(){function e(t,n){$(this,e),this._delegate=t,this._service=n}return Z(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new qA(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new qA(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),qA=function(){function e(t,n){$(this,e),this._delegate=t,this.storage=n}return Z(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return xA(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new jA(PA(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AN.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=PN(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new jA(new vA(this._delegate,new MN(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return DA(this._delegate).then((function(t){return new VA(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return kA(e=On(e),t)}(this._delegate,e||void 0).then((function(e){return new VA(e,t.storage)}))}},{key:"getMetadata",value:function(){return OA(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return bA(e=On(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return wA(On(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),_A(On(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw pN(e)}}]),e}(),BA=function(){function e(t,n){$(this,e),this.app=t,this._delegate=n}return Z(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(zA(e))throw hN("ref() expected a child path but got a URL, use refFromURL instead.");return new qA(LA(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!zA(e))throw hN("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gN.makeFromUrl(e,this._delegate.host)}catch(QA){throw hN("refFromUrl() expected a valid full URL but got an invalid one.")}return new qA(LA(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};MA(this._delegate,e,t,n)}}]),e}();function zA(e){return/^[A-Za-z]+:\/\//.test(e)}function WA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new BA(r,i)}!function(e){var t={TaskState:sA,TaskEvent:uA,StringFormat:AN,Storage:BA,Reference:qA};e.INTERNAL.registerComponent(new jn("storage-compat",WA,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.8")}(Or);Or.initializeApp({apiKey:"AIzaSyBtWIV4xhYPN0xS7HcwgLkG-1E73hdIo0o",authDomain:"roseeta-landing.firebaseapp.com",projectId:"roseeta-landing",storageBucket:"roseeta-landing.appspot.com",messagingSenderId:"456243233064",appId:"1:456243233064:web:67290800105de2af58501d",measurementId:"G-EJB68K4LRG"}),Or.analytics();Or.firestore();var HA=function(){var e=function(){window.open("https://apps.apple.com/kr/app/nemo-%EC%B1%85%EC%9D%84-%EA%B8%B0%EC%96%B5%ED%95%98%EB%8A%94-%EC%B5%9C%EA%B3%A0%EC%9D%98-%EB%B0%A9%EB%B2%95/id6444700224"),Or.analytics().logEvent("clickIos",{test:1})},t=function(){window.open("https://play.google.com/store/apps/details?id=com.cjs0410.Nemo"),Or.analytics().logEvent("clickAndroid",{test:1})};return(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)(no,{}),(0,to.jsxs)("main",{children:[(0,to.jsxs)("div",{className:"content",children:[(0,to.jsxs)("h2",{className:"content__title",children:["\ucc45\uc5d0 \ub2f4\uae34 \uc0dd\uac01\uc774",(0,to.jsx)("br",{})," \uc18c\uc911\ud55c \uc0ac\ub78c\uc744 \ub9cc\ub098\ub294 \uacf3, Nemo"]}),(0,to.jsxs)("div",{className:"content__title--sub",children:["\ub124\ubaa8\ub294 \ub2e8\uc21c\ud55c \ub3c5\uc11c\uae30\ub85d \uc571\uc774 \uc544\ub2d9\ub2c8\ub2e4.",(0,to.jsx)("br",{})," \uba54\ubaa8, \uc815\ub9ac, \uacf5\uc720\ub97c \ud1b5\ud574 \uc9c0\uc2dd\uc744 \uc313\uc544\ubcf4\uc138\uc694."]}),(0,to.jsxs)("div",{className:"content__link",children:[(0,to.jsx)("button",{className:"link__btn",onClick:e,children:(0,to.jsx)("img",{className:"link__mobile",src:"img/ios.png"})}),(0,to.jsx)("button",{className:"link__btn",onClick:t,children:(0,to.jsx)("img",{className:"link__mobile",src:"img/android.png"})})]})]}),(0,to.jsx)("div",{className:"imgContent",children:(0,to.jsx)("img",{className:"content_img",src:"img/LandingContents.png"})}),(0,to.jsx)("h2",{className:"mission__title",children:"\ub124\ubaa8\uc758 \ud575\uc2ec 3\uac00\uc9c0"}),(0,to.jsxs)("div",{className:"mission",children:[(0,to.jsxs)("div",{className:"mission__content",children:[(0,to.jsx)("img",{className:"mission__img",src:"img/Memo.png"}),(0,to.jsx)("div",{className:"mission__element",children:"\uba54\ubaa8"}),(0,to.jsxs)("div",{className:"element",children:["\ucc45\uc744 \uc77d\ub2e4\uac00 \uae30\ub85d\ud558\uace0 \uc2f6\uc740 \ub0b4\uc6a9, ",(0,to.jsx)("br",{})," \ub5a0\uc62c\ub9b0 \uc0dd\uac01\uc744 \ub124\ubaa8\uc5d0 \ub0a8\uae30\uc138\uc694. "]})]}),(0,to.jsxs)("div",{className:"mission__content",children:[(0,to.jsx)("img",{className:"mission__img",src:"img/Catg.png"}),(0,to.jsx)("div",{className:"mission__element",children:"\uc815\ub9ac"}),(0,to.jsxs)("div",{className:"element",children:["\uba54\ubaa8\ub294 \ub0a0\uc9dc\uc640 \ucc45\ubcc4\ub85c \ubd84\ub958\ub429\ub2c8\ub2e4. ",(0,to.jsx)("br",{}),"\ub124\ubaa8\ub9ac\uc2a4\ud2b8\ub97c \uc0dd\uc131\ud558\uc5ec \uc6d0\ud558\ub294\ub300\ub85c ",(0,to.jsx)("br",{className:"line-change"})," \ubd84\ub958\ud574\ubcf4\uc138\uc694."]})]}),(0,to.jsxs)("div",{className:"mission__content",children:[(0,to.jsx)("img",{className:"mission__img",src:"img/Share.png"}),(0,to.jsx)("div",{className:"mission__element",children:"\uacf5\uc720"}),(0,to.jsxs)("div",{className:"element",children:["\uc720\uc800\ub4e4\uc774 \ub0a8\uae34 \uba54\ubaa8\ub294 \uc815\ub9ac\ub41c \ud615\ud0dc\ub85c ",(0,to.jsx)("br",{})," \ud0d0\uc0c9, \uac80\uc0c9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]})]})]}),(0,to.jsxs)("div",{className:"content__sub",children:[(0,to.jsx)("video",{className:"content__video",src:"video/intro_a.mov",autoPlay:!0,playsInline:!0,muted:!0,loop:!0}),(0,to.jsxs)("div",{className:"content__info",children:[(0,to.jsx)("h3",{children:" \ubbf8\ub2c8\uba40\ub9ac\uc998 UI/UX "}),(0,to.jsxs)("p",{children:[" \ub3c5\uc11c\ub178\ud2b8\ub294 \uc2ec\ud50c\ud558\uace0 \uc608\ubed0\uc57c \uc4f0\uace0 \uc2f6\uc5b4\uc9d1\ub2c8\ub2e4. ",(0,to.jsx)("br",{})," \ub124\ubaa8\ub294 \ucd5c\uc18c\ud55c\uc758 \uae30\ub2a5\uacfc \ucd5c\uace0\uc758 \ub514\uc790\uc778\uc744 ",(0,to.jsx)("br",{className:"line-change"})," \uc801\uc6a9\ud588\uc2b5\ub2c8\ub2e4. "]})]})]}),(0,to.jsx)("div",{className:"content__divider"}),(0,to.jsxs)("div",{className:"content__sub",children:[(0,to.jsx)("video",{className:"content__video",src:"video/intro_b.mov",playsInline:!0,autoPlay:!0,muted:!0,loop:!0}),(0,to.jsxs)("div",{className:"content__info",children:[(0,to.jsx)("h3",{children:" \uc0ac\uc9c4\uc5d0\uc11c \ud14d\uc2a4\ud2b8\ub97c \ube60\ub974\uac8c "}),(0,to.jsxs)("p",{children:[" OCR \uae30\uc220\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4. ",(0,to.jsx)("br",{}),"\uc885\uc774 \ubb38\uc11c\ub97c \uc2e0\uc18d\ud558\uac8c \ub514\uc9c0\ud138\ud654\ud558\uc5ec",(0,to.jsx)("br",{}),"\uc2dc\uac04\uc744 \uc808\uc57d\ud558\uace0 \uc0dd\uc0b0\uc131\uc744 \ub192\uc774\uc138\uc694. "]})]})]}),(0,to.jsx)("div",{className:"content__divider"}),(0,to.jsxs)("div",{className:"content__sub",children:[(0,to.jsx)("video",{className:"content__video",src:"video/intro_c.mov",autoPlay:!0,playsInline:!0,muted:!0,loop:!0}),(0,to.jsxs)("div",{className:"content__info",children:[(0,to.jsx)("h3",{children:" \ucc45\uc744 \ub9e4\uac1c\ub85c \uc0ac\ub78c\uacfc \uc5f0\uacb0\ub418\ub294 \uc0b6 "}),(0,to.jsxs)("p",{children:[" \ub2e4\ub978 \ucee8\ud150\uce20\ub97c \uc88b\uc544\uc694\ud558\uace0 ",(0,to.jsx)("br",{})," \ud314\ub85c\uc6b0\ub85c \uad00\uc2ec\uc0ac\ub97c \uacf5\uc720\ud568\uc73c\ub85c\uc368 ",(0,to.jsx)("br",{})," \uc0c8\ub85c\uc6b4 \uc2dc\uc57c\ub97c \uc5bb\uace0",(0,to.jsx)("br",{className:"line-change"}),"\uc9c0\uc18d\uc801\uc778 \uad00\uacc4\ub97c \ud615\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "]})]})]}),(0,to.jsx)("div",{className:"content__divider"}),(0,to.jsxs)("div",{className:"content__sub",children:[(0,to.jsx)("video",{className:"content__video",src:"video/intro_d.mov",autoPlay:!0,playsInline:!0,muted:!0,loop:!0}),(0,to.jsxs)("div",{className:"content__info",children:[(0,to.jsx)("h3",{children:" \ub3c5\uc11c \uc5ec\ud589\uc744 \uc2dc\uc791\ud558\uc138\uc694. "}),(0,to.jsxs)("p",{children:[" \ub098\ub9cc\uc758 \uba54\ubaa8 \ub2ec\ub825\uacfc \uac1c\uc778 \ub9de\ucda4\ud615 \ucee8\ud150\uce20\ub97c \ud1b5\ud574 ",(0,to.jsx)("br",{})," \ub3c5\uc11c \uc2b5\uad00\uc744 \ub4e4\uc5ec\ubcf4\uc138\uc694. ",(0,to.jsx)("br",{})," \ucc45\uc5d0 \ub300\ud55c \uc0ac\ub791\uc744 \ud0a4\uc6b0\uace0 \uc9c0\uc2dd \uc99d\uac00\ub97c ",(0,to.jsx)("br",{className:"line-change"})," \ud655\uc778\ud558\uc138\uc694 "]})]})]}),(0,to.jsx)("div",{className:"content__divider"}),(0,to.jsxs)("div",{className:"content__sub",children:[(0,to.jsx)("img",{className:"content__img2",src:"img/welcome.png"}),(0,to.jsxs)("div",{className:"content__info",children:[(0,to.jsx)("h3",{children:" \uac1c\uc778\uc815\ubcf4\ubcf4\ud638\ub97c \uc900\uc218\ud569\ub2c8\ub2e4. "}),(0,to.jsxs)("p",{children:[" \ub124\ubaa8\ub294 \uc5c5\uacc4 \ud45c\uc900 \uacc4\uc815 \uad00\ub9ac \uc2dc\uc2a4\ud15c\uc744 \uc0ac\uc6a9\ud558\uc5ec ",(0,to.jsx)("br",{})," \uadc0\ud558\uc758 \uc815\ubcf4\ub97c \ubcf4\ud638\ud558\uace0 \ubcf4\uc548\uc744 \ubcf4\uc7a5\ud558\uae30 \uc704\ud574",(0,to.jsx)("br",{})," \uc2dc\uc2a4\ud15c\uc744 \uc815\uae30\uc801\uc73c\ub85c \uac80\uc0ac\ud569\ub2c8\ub2e4."]})]})]}),(0,to.jsxs)("div",{className:"content2",children:[(0,to.jsx)("div",{className:"content2__title--sub",children:"\ucc45 \uae30\ubc18 \uba54\ubaa8, \uc815\ub9ac, \uacf5\uc720"}),(0,to.jsx)("h2",{className:"content2__title",children:"Nemo\ub85c \uc2dc\uc791\ud558\uc138\uc694."}),(0,to.jsxs)("div",{className:"content__link",children:[(0,to.jsx)("button",{className:"link__btn",onClick:e,children:(0,to.jsx)("img",{className:"link__mobile",src:"img/ios.png"})}),(0,to.jsx)("button",{className:"link__btn",onClick:t,children:(0,to.jsx)("img",{className:"link__mobile",src:"img/android.png"})})]})]})]}),(0,to.jsx)(ao,{})]})};var KA=function(){return(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)(no,{}),(0,to.jsx)("main",{className:"policyterm",children:"\uc774\uc6a9\uc57d\uad00"}),(0,to.jsx)(ao,{})]})};var GA=function(){return(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)(no,{}),(0,to.jsx)("main",{className:"policyterm",children:"\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68"}),(0,to.jsx)(ao,{})]})};i.createRoot(document.getElementById("root")).render((0,to.jsx)(Y,{children:(0,to.jsxs)(W,{children:[(0,to.jsx)(B,{path:"/*",element:(0,to.jsx)(HA,{})}),(0,to.jsx)(B,{path:"/policy-term",element:(0,to.jsx)(KA,{})}),(0,to.jsx)(B,{path:"/privacy",element:(0,to.jsx)(GA,{})})]})}))}()}();
//# sourceMappingURL=main.cc66e8cd.js.map